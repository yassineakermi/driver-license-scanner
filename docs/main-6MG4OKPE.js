import{$ as ct,$a as dh,$b as Ho,A as Dn,Aa as iu,Ab as ft,Ac as wh,B as tl,Ba as kv,Bb as Ne,Bc as Ch,C as gi,Ca as zo,Cb as Si,Cc as Ih,D as ah,Da as en,Db as si,E as Qn,Ea as al,Eb as Ti,F as Lo,Fa as Ua,Fb as _i,G as eu,Ga as za,Gb as gr,H as sh,Ha as Lv,Hb as vr,I as Qi,Ia as Bv,Ib as cl,J as Tv,Ja as Vv,Jb as xt,K as lh,Ka as Uv,Kb as yi,L as Bo,La as zv,Lb as Vi,M as fn,Ma as jv,Mb as fr,N as ch,Na as Gv,Nb as hh,O as Dv,Oa as Ai,Ob as ul,P as Rv,Pa as ja,Pb as ph,Q as Ov,Qa as Hv,Qb as mh,R as tu,Ra as sl,Rb as gh,S as Ji,Sa as Oe,Sb as uu,T as vi,Ta as _e,Tb as du,U as Lr,Ua as ll,Ub as Qv,V as mr,Va as hn,Vb as dl,W as Kt,Wa as Wv,Wb as vh,X as Va,Xa as nu,Xb as Jv,Y as Fe,Ya as ou,Yb as Yr,Z as Je,Za as to,Zb as e1,_ as Mv,_a as Xv,_b as Br,a as J,aa as uh,ab as jo,ac as fl,b as gt,ba as oe,bb as oi,bc as mn,c as th,ca as Re,cb as Xr,cc as t1,da as rl,db as Yv,dc as _h,e as rh,ea as ru,eb as qv,ec as r1,f as Zc,fa as il,fb as Qt,fc as i1,g as Ee,ga as nr,gb as $v,gc as mt,h as Li,ha as et,hb as au,hc as Ga,i as Av,ia as Rt,ib as Tr,ic as n1,j as Js,ja as nl,jb as nt,jc as fu,k as ih,ka as Pv,kb as pn,kc as hu,l as nh,la as Vo,lb as Jt,lc as o1,m as bt,ma as Rn,mb as ro,mc as a1,n as pi,na as ni,nb as fh,nc as tn,o as Kn,oa as rt,ob as ai,oc as s1,p as mi,pa as it,pb as su,pc as l1,q as Ge,qa as On,qb as lu,qc as yh,r as ko,ra as ol,rb as cu,rc as c1,s as Kc,sa as Jn,sb as he,t as Sv,ta as Nv,tb as ye,u as qe,ua as We,ub as yt,uc as bh,v as el,va as vt,vb as Zv,vc as xh,w as Bi,wa as Uo,wb as Kv,wc as Eh,x as Qc,xa as St,xb as Go,y as oh,ya as eo,yb as Jr,yc as Wo,z as Jc,za as Fv,zb as Mn,zc as Xo}from"./chunk-GGDQ72QA.js";var Vm=rh((wd,mb)=>{"use strict";(function(i,e){typeof wd=="object"&&typeof mb<"u"?e(wd):typeof define=="function"&&define.amd?define(["exports"],e):(i=i||self,e(i.FilePond={}))})(wd,function(i){"use strict";var e=function(c){return c instanceof HTMLElement},t=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],m=Object.assign({},c),y=[],x=[],w=function(){return Object.assign({},m)},I=function(){var Y=[].concat(y);return y.length=0,Y},O=function(){var Y=[].concat(x);x.length=0,Y.forEach(function(ae){var we=ae.type,De=ae.data;M(we,De)})},M=function(Y,ae,we){if(we&&!document.hidden){x.push({type:Y,data:ae});return}te[Y]&&te[Y](ae),y.push({type:Y,data:ae})},B=function(Y){for(var ae,we=arguments.length,De=new Array(we>1?we-1:0),de=1;de<we;de++)De[de-1]=arguments[de];return K[Y]?(ae=K)[Y].apply(ae,De):null},V={getState:w,processActionQueue:I,processDispatchQueue:O,dispatch:M,query:B},K={};u.forEach(function(ie){K=Object.assign({},ie(m),{},K)});var te={};return f.forEach(function(ie){te=Object.assign({},ie(M,B,m),{},te)}),V},r=function(c,u,f){if(typeof f=="function"){c[u]=f;return}Object.defineProperty(c,u,Object.assign({},f))},n=function(c,u){for(var f in c)c.hasOwnProperty(f)&&u(f,c[f])},o=function(c){var u={};return n(c,function(f){r(u,f,c[f])}),u},a=function(c,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(f===null)return c.getAttribute(u)||c.hasAttribute(u);c.setAttribute(u,f)},s="http://www.w3.org/2000/svg",l=["svg","path"],d=function(c){return l.includes(c)},h=function(c,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};typeof u=="object"&&(f=u,u=null);var m=d(c)?document.createElementNS(s,c):document.createElement(c);return u&&(d(c)?a(m,"class",u):m.className=u),n(f,function(y,x){a(m,y,x)}),m},p=function(c){return function(u,f){typeof f<"u"&&c.children[f]?c.insertBefore(u,c.children[f]):c.appendChild(u)}},g=function(c,u){return function(f,m){return typeof m<"u"?u.splice(m,0,f):u.push(f),f}},_=function(c,u){return function(f){return u.splice(u.indexOf(f),1),f.element.parentNode&&c.removeChild(f.element),f}},E=function(){return typeof window<"u"&&typeof window.document<"u"}(),A=function(){return E},N=A()?h("svg"):{},F="children"in N?function(v){return v.children.length}:function(v){return v.childNodes.length},P=function(c,u,f,m){var y=f[0]||c.left,x=f[1]||c.top,w=y+c.width,I=x+c.height*(m[1]||1),O={element:Object.assign({},c),inner:{left:c.left,top:c.top,right:c.right,bottom:c.bottom},outer:{left:y,top:x,right:w,bottom:I}};return u.filter(function(M){return!M.isRectIgnored()}).map(function(M){return M.rect}).forEach(function(M){L(O.inner,Object.assign({},M.inner)),L(O.outer,Object.assign({},M.outer))}),z(O.inner),O.outer.bottom+=O.element.marginBottom,O.outer.right+=O.element.marginRight,z(O.outer),O},L=function(c,u){u.top+=c.top,u.right+=c.left,u.bottom+=c.top,u.left+=c.left,u.bottom>c.bottom&&(c.bottom=u.bottom),u.right>c.right&&(c.right=u.right)},z=function(c){c.width=c.right-c.left,c.height=c.bottom-c.top},X=function(c){return typeof c=="number"},Q=function(c,u,f){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.001;return Math.abs(c-u)<m&&Math.abs(f)<m},re=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=c.stiffness,f=u===void 0?.5:u,m=c.damping,y=m===void 0?.75:m,x=c.mass,w=x===void 0?10:x,I=null,O=null,M=0,B=!1,V=function(Y,ae){if(!B){if(!(X(I)&&X(O))){B=!0,M=0;return}var we=-(O-I)*f;M+=we/w,O+=M,M*=y,Q(O,I,M)||ae?(O=I,M=0,B=!0,te.onupdate(O),te.oncomplete(O)):te.onupdate(O)}},K=function(Y){if(X(Y)&&!X(O)&&(O=Y),I===null&&(I=Y,O=Y),I=Y,O===I||typeof I>"u"){B=!0,M=0,te.onupdate(O),te.oncomplete(O);return}B=!1},te=o({interpolate:V,target:{set:K,get:function(){return I}},resting:{get:function(){return B}},onupdate:function(Y){},oncomplete:function(Y){}});return te},be=function(c){return c},ke=function(c){return c<.5?2*c*c:-1+(4-2*c)*c},Ve=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=c.duration,f=u===void 0?500:u,m=c.easing,y=m===void 0?ke:m,x=c.delay,w=x===void 0?0:x,I=null,O,M,B=!0,V=!1,K=null,te=function(ae,we){B||K===null||(I===null&&(I=ae),!(ae-I<w)&&(O=ae-I-w,O>=f||we?(O=1,M=V?0:1,ie.onupdate(M*K),ie.oncomplete(M*K),B=!0):(M=O/f,ie.onupdate((O>=0?y(V?1-M:M):0)*K))))},ie=o({interpolate:te,target:{get:function(){return V?0:K},set:function(ae){if(K===null){K=ae,ie.onupdate(ae),ie.oncomplete(ae);return}ae<K?(K=1,V=!0):(V=!1,K=ae),B=!1,I=null}},resting:{get:function(){return B}},onupdate:function(ae){},oncomplete:function(ae){}});return ie},Et={spring:re,tween:Ve},Ke=function(c,u,f){var m=c[u]&&typeof c[u][f]=="object"?c[u][f]:c[u]||c,y=typeof m=="string"?m:m.type,x=typeof m=="object"?Object.assign({},m):{};return Et[y]?Et[y](x):null},_t=function(c,u,f){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;u=Array.isArray(u)?u:[u],u.forEach(function(y){c.forEach(function(x){var w=x,I=function(){return f[x]},O=function(B){return f[x]=B};typeof x=="object"&&(w=x.key,I=x.getter||I,O=x.setter||O),!(y[w]&&!m)&&(y[w]={get:I,set:O})})})},Mr=function(c){var u=c.mixinConfig,f=c.viewProps,m=c.viewInternalAPI,y=c.viewExternalAPI,x=Object.assign({},f),w=[];return n(u,function(I,O){var M=Ke(O);if(M){M.onupdate=function(V){f[I]=V},M.target=x[I];var B={key:I,setter:function(K){M.target!==K&&(M.target=K)},getter:function(){return f[I]}};_t([B],[m,y],f,!0),w.push(M)}}),{write:function(O){var M=document.hidden,B=!0;return w.forEach(function(V){V.resting||(B=!1),V.interpolate(O,M)}),B},destroy:function(){}}},Ei=function(c){return function(u,f){c.addEventListener(u,f)}},Yn=function(c){return function(u,f){c.removeEventListener(u,f)}},Pi=function(c){var u=c.mixinConfig,f=c.viewProps,m=c.viewInternalAPI,y=c.viewExternalAPI,x=c.viewState,w=c.view,I=[],O=Ei(w.element),M=Yn(w.element);return y.on=function(B,V){I.push({type:B,fn:V}),O(B,V)},y.off=function(B,V){I.splice(I.findIndex(function(K){return K.type===B&&K.fn===V}),1),M(B,V)},{write:function(){return!0},destroy:function(){I.forEach(function(V){M(V.type,V.fn)})}}},wn=function(c){var u=c.mixinConfig,f=c.viewProps,m=c.viewExternalAPI;_t(u,m,f)},cr=function(c){return c!=null},Cn={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},bc=function(c){var u=c.mixinConfig,f=c.viewProps,m=c.viewInternalAPI,y=c.viewExternalAPI,x=c.view,w=Object.assign({},f),I={};_t(u,[m,y],f);var O=function(){return[f.translateX||0,f.translateY||0]},M=function(){return[f.scaleX||0,f.scaleY||0]},B=function(){return x.rect?P(x.rect,x.childViews,O(),M()):null};return m.rect={get:B},y.rect={get:B},u.forEach(function(V){f[V]=typeof w[V]>"u"?Cn[V]:w[V]}),{write:function(){if(Vs(I,f))return ba(x.element,f),Object.assign(I,Object.assign({},f)),!0},destroy:function(){}}},Vs=function(c,u){if(Object.keys(c).length!==Object.keys(u).length)return!0;for(var f in u)if(u[f]!==c[f])return!0;return!1},ba=function(c,u){var f=u.opacity,m=u.perspective,y=u.translateX,x=u.translateY,w=u.scaleX,I=u.scaleY,O=u.rotateX,M=u.rotateY,B=u.rotateZ,V=u.originX,K=u.originY,te=u.width,ie=u.height,Y="",ae="";(cr(V)||cr(K))&&(ae+="transform-origin: "+(V||0)+"px "+(K||0)+"px;"),cr(m)&&(Y+="perspective("+m+"px) "),(cr(y)||cr(x))&&(Y+="translate3d("+(y||0)+"px, "+(x||0)+"px, 0) "),(cr(w)||cr(I))&&(Y+="scale3d("+(cr(w)?w:1)+", "+(cr(I)?I:1)+", 1) "),cr(B)&&(Y+="rotateZ("+B+"rad) "),cr(O)&&(Y+="rotateX("+O+"rad) "),cr(M)&&(Y+="rotateY("+M+"rad) "),Y.length&&(ae+="transform:"+Y+";"),cr(f)&&(ae+="opacity:"+f+";",f===0&&(ae+="visibility:hidden;"),f<1&&(ae+="pointer-events:none;")),cr(ie)&&(ae+="height:"+ie+"px;"),cr(te)&&(ae+="width:"+te+"px;");var we=c.elementCurrentStyle||"";(ae.length!==we.length||ae!==we)&&(c.style.cssText=ae,c.elementCurrentStyle=ae)},kg={styles:bc,listeners:Pi,animations:Mr,apis:wn},of=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return u.layoutCalculated||(c.paddingTop=parseInt(f.paddingTop,10)||0,c.marginTop=parseInt(f.marginTop,10)||0,c.marginRight=parseInt(f.marginRight,10)||0,c.marginBottom=parseInt(f.marginBottom,10)||0,c.marginLeft=parseInt(f.marginLeft,10)||0,u.layoutCalculated=!0),c.left=u.offsetLeft||0,c.top=u.offsetTop||0,c.width=u.offsetWidth||0,c.height=u.offsetHeight||0,c.right=c.left+c.width,c.bottom=c.top+c.height,c.scrollTop=u.scrollTop,c.hidden=u.offsetParent===null,c},Ir=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=c.tag,f=u===void 0?"div":u,m=c.name,y=m===void 0?null:m,x=c.attributes,w=x===void 0?{}:x,I=c.read,O=I===void 0?function(){}:I,M=c.write,B=M===void 0?function(){}:M,V=c.create,K=V===void 0?function(){}:V,te=c.destroy,ie=te===void 0?function(){}:te,Y=c.filterFrameActionsForChild,ae=Y===void 0?function(ve,Ce){return Ce}:Y,we=c.didCreateView,De=we===void 0?function(){}:we,de=c.didWriteView,tt=de===void 0?function(){}:de,ge=c.ignoreRect,Lt=ge===void 0?!1:ge,Bt=c.ignoreRectUpdate,xe=Bt===void 0?!1:Bt,Pe=c.mixins,Le=Pe===void 0?[]:Pe;return function(ve){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ze=h(f,"filepond--"+y,w),jt=window.getComputedStyle(ze,null),Pt=of(),je=null,ne=!1,W=[],Se=[],Qe={},lt={},wt=[B],Dt=[O],dr=[ie],br=function(){return ze},La=function(){return W.concat()},xv=function(){return Qe},e2=function(Ct){return function(Sn,Tn){return Sn(Ct,Tn)}},Ev=function(){return je||(je=P(Pt,W,[0,0],[1,1]),je)},t2=function(){return jt},r2=function(){je=null,W.forEach(function(Tn){return Tn._read()});var Ct=!(xe&&Pt.width&&Pt.height);Ct&&of(Pt,ze,jt);var Sn={root:Zn,props:Ce,rect:Pt};Dt.forEach(function(Tn){return Tn(Sn)})},i2=function(Ct,Sn,Tn){var Ba=Sn.length===0;return wt.forEach(function(hi){var Fo=hi({props:Ce,root:Zn,actions:Sn,timestamp:Ct,shouldOptimize:Tn});Fo===!1&&(Ba=!1)}),Se.forEach(function(hi){var Fo=hi.write(Ct);Fo===!1&&(Ba=!1)}),W.filter(function(hi){return!!hi.element.parentNode}).forEach(function(hi){var Fo=hi._write(Ct,ae(hi,Sn),Tn);Fo||(Ba=!1)}),W.forEach(function(hi,Fo){hi.element.parentNode||(Zn.appendChild(hi.element,Fo),hi._read(),hi._write(Ct,ae(hi,Sn),Tn),Ba=!1)}),ne=Ba,tt({props:Ce,root:Zn,actions:Sn,timestamp:Ct}),Ba},n2=function(){Se.forEach(function(Ct){return Ct.destroy()}),dr.forEach(function(Ct){Ct({root:Zn,props:Ce})}),W.forEach(function(Ct){return Ct._destroy()})},wv={element:{get:br},style:{get:t2},childViews:{get:La}},Cv=Object.assign({},wv,{rect:{get:Ev},ref:{get:xv},is:function(Ct){return y===Ct},appendChild:p(ze),createChildView:e2(ve),linkView:function(Ct){return W.push(Ct),Ct},unlinkView:function(Ct){W.splice(W.indexOf(Ct),1)},appendChildView:g(ze,W),removeChildView:_(ze,W),registerWriter:function(Ct){return wt.push(Ct)},registerReader:function(Ct){return Dt.push(Ct)},registerDestroyer:function(Ct){return dr.push(Ct)},invalidateLayout:function(){return ze.layoutCalculated=!1},dispatch:ve.dispatch,query:ve.query}),Iv={element:{get:br},childViews:{get:La},rect:{get:Ev},resting:{get:function(){return ne}},isRectIgnored:function(){return Lt},_read:r2,_write:i2,_destroy:n2},o2=Object.assign({},wv,{rect:{get:function(){return Pt}}});Object.keys(Le).sort(function(lr,Ct){return lr==="styles"?1:Ct==="styles"?-1:0}).forEach(function(lr){var Ct=kg[lr]({mixinConfig:Le[lr],viewProps:Ce,viewState:lt,viewInternalAPI:Cv,viewExternalAPI:Iv,view:o(o2)});Ct&&Se.push(Ct)});var Zn=o(Cv);K({root:Zn,props:Ce});var a2=F(ze);return W.forEach(function(lr,Ct){Zn.appendChild(lr.element,a2+Ct)}),De(Zn),o(Iv)}},Lg=function(c,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:60,m="__framePainter";if(window[m]){window[m].readers.push(c),window[m].writers.push(u);return}window[m]={readers:[c],writers:[u]};var y=window[m],x=1e3/f,w=null,I=null,O=null,M=null,B=function(){document.hidden?(O=function(){return window.setTimeout(function(){return V(performance.now())},x)},M=function(){return window.clearTimeout(I)}):(O=function(){return window.requestAnimationFrame(V)},M=function(){return window.cancelAnimationFrame(I)})};document.addEventListener("visibilitychange",function(){M&&M(),B(),V(performance.now())});var V=function K(te){I=O(K),w||(w=te);var ie=te-w;ie<=x||(w=te-ie%x,y.readers.forEach(function(Y){return Y()}),y.writers.forEach(function(Y){return Y(te)}))};return B(),V(performance.now()),{pause:function(){M(I)}}},Kr=function(c,u){return function(f){var m=f.root,y=f.props,x=f.actions,w=x===void 0?[]:x,I=f.timestamp,O=f.shouldOptimize;w.filter(function(M){return c[M.type]}).forEach(function(M){return c[M.type]({root:m,props:y,action:M.data,timestamp:I,shouldOptimize:O})}),u&&u({root:m,props:y,actions:w,timestamp:I,shouldOptimize:O})}},af=function(c,u){return u.parentNode.insertBefore(c,u)},xc=function(c,u){return u.parentNode.insertBefore(c,u.nextSibling)},bo=function(c){return Array.isArray(c)},ln=function(c){return c==null},sf=function(c){return c.trim()},Us=function(c){return""+c},lf=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return ln(c)?[]:bo(c)?c:Us(c).split(u).map(sf).filter(function(f){return f.length})},xa=function(c){return typeof c=="boolean"},zs=function(c){return xa(c)?c:c==="true"},Wr=function(c){return typeof c=="string"},Ec=function(c){return X(c)?c:Wr(c)?Us(c).replace(/[a-z]+/gi,""):0},Ea=function(c){return parseInt(Ec(c),10)},wa=function(c){return parseFloat(Ec(c))},xo=function(c){return X(c)&&isFinite(c)&&Math.floor(c)===c},wc=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(xo(c))return c;var f=Us(c).trim();return/MB$/i.test(f)?(f=f.replace(/MB$i/,"").trim(),Ea(f)*u*u):/KB/i.test(f)?(f=f.replace(/KB$i/,"").trim(),Ea(f)*u):Ea(f)},cn=function(c){return typeof c=="function"},Bg=function(c){for(var u=self,f=c.split("."),m=null;m=f.shift();)if(u=u[m],!u)return null;return u},cf={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Vg=function(c){var u={};return u.url=Wr(c)?c:c.url||"",u.timeout=c.timeout?parseInt(c.timeout,10):0,u.headers=c.headers?c.headers:{},n(cf,function(f){u[f]=uf(f,c[f],cf[f],u.timeout,u.headers)}),u.process=c.process||Wr(c)||c.url?u.process:null,u.remove=c.remove||null,delete u.headers,u},uf=function(c,u,f,m,y){if(u===null)return null;if(typeof u=="function")return u;var x={url:f==="GET"||f==="PATCH"?"?"+c+"=":"",method:f,headers:y,withCredentials:!1,timeout:m,onload:null,ondata:null,onerror:null};if(Wr(u))return x.url=u,x;if(Object.assign(x,u),Wr(x.headers)){var w=x.headers.split(/:(.+)/);x.headers={header:w[0],value:w[1]}}return x.withCredentials=zs(x.withCredentials),x},Ug=function(c){return Vg(c)},zg=function(c){return c===null},kr=function(c){return typeof c=="object"&&c!==null},jg=function(c){return kr(c)&&Wr(c.url)&&kr(c.process)&&kr(c.revert)&&kr(c.restore)&&kr(c.fetch)},Cc=function(c){return bo(c)?"array":zg(c)?"null":xo(c)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(c)?"bytes":jg(c)?"api":typeof c},Gg=function(c){return c.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},Hg={array:lf,boolean:zs,int:function(c){return Cc(c)==="bytes"?wc(c):Ea(c)},number:wa,float:wa,bytes:wc,string:function(c){return cn(c)?c:Us(c)},function:function(c){return Bg(c)},serverapi:Ug,object:function(c){try{return JSON.parse(Gg(c))}catch{return null}}},Wg=function(c,u){return Hg[u](c)},df=function(c,u,f){if(c===u)return c;var m=Cc(c);if(m!==f){var y=Wg(c,f);if(m=Cc(y),y===null)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+f+'"';c=y}return c},Ic=function(c,u){var f=c;return{enumerable:!0,get:function(){return f},set:function(y){f=df(y,c,u)}}},ff=function(c){var u={};return n(c,function(f){var m=c[f];u[f]=Ic(m[0],m[1])}),o(u)},hf=function(c){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:ff(c)}},Ca=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return c.split(/(?=[A-Z])/).map(function(f){return f.toLowerCase()}).join(u)},Eo=function(c,u){var f={};return n(u,function(m){f[m]={get:function(){return c.getState().options[m]},set:function(x){c.dispatch("SET_"+Ca(m,"_").toUpperCase(),{value:x})}}}),f},Ac=function(c){return function(u,f,m){var y={};return n(c,function(x){var w=Ca(x,"_").toUpperCase();y["SET_"+w]=function(I){try{m.options[x]=I.value}catch{}u("DID_SET_"+w,{value:m.options[x]})}}),y}},Sc=function(c){return function(u){var f={};return n(c,function(m){f["GET_"+Ca(m,"_").toUpperCase()]=function(y){return u.options[m]}}),f}},wi={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Tc=function(){return Math.random().toString(36).substring(2,11)};function Ia(v){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ia=function(c){return typeof c}:Ia=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ia(v)}var Aa;function pf(v,c,u,f){Aa||(Aa=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103);var m=v&&v.defaultProps,y=arguments.length-3;if(!c&&y!==0&&(c={children:void 0}),c&&m)for(var x in m)c[x]===void 0&&(c[x]=m[x]);else c||(c=m||{});if(y===1)c.children=f;else if(y>1){for(var w=new Array(y),I=0;I<y;I++)w[I]=arguments[I+3];c.children=w}return{$$typeof:Aa,type:v,key:u===void 0?null:""+u,ref:null,props:c,_owner:null}}function Xg(v){var c;if(typeof Symbol<"u"&&(Symbol.asyncIterator&&(c=v[Symbol.asyncIterator],c!=null)||Symbol.iterator&&(c=v[Symbol.iterator],c!=null)))return c.call(v);throw new TypeError("Object is not async iterable")}function wo(v){this.wrapped=v}function Yi(v){var c,u;function f(x,w){return new Promise(function(I,O){var M={key:x,arg:w,resolve:I,reject:O,next:null};u?u=u.next=M:(c=u=M,m(x,w))})}function m(x,w){try{var I=v[x](w),O=I.value,M=O instanceof wo;Promise.resolve(M?O.wrapped:O).then(function(B){if(M){m("next",B);return}y(I.done?"return":"normal",B)},function(B){m("throw",B)})}catch(B){y("throw",B)}}function y(x,w){switch(x){case"return":c.resolve({value:w,done:!0});break;case"throw":c.reject(w);break;default:c.resolve({value:w,done:!1});break}c=c.next,c?m(c.key,c.arg):u=null}this._invoke=f,typeof v.return!="function"&&(this.return=void 0)}typeof Symbol=="function"&&Symbol.asyncIterator&&(Yi.prototype[Symbol.asyncIterator]=function(){return this}),Yi.prototype.next=function(v){return this._invoke("next",v)},Yi.prototype.throw=function(v){return this._invoke("throw",v)},Yi.prototype.return=function(v){return this._invoke("return",v)};function ii(v){return function(){return new Yi(v.apply(this,arguments))}}function Yg(v){return new wo(v)}function Ci(v,c){var u={},f=!1;function m(y,x){return f=!0,x=new Promise(function(w){w(v[y](x))}),{done:!1,value:c(x)}}return typeof Symbol=="function"&&Symbol.iterator&&(u[Symbol.iterator]=function(){return this}),u.next=function(y){return f?(f=!1,y):m("next",y)},typeof v.throw=="function"&&(u.throw=function(y){if(f)throw f=!1,y;return m("throw",y)}),typeof v.return=="function"&&(u.return=function(y){return m("return",y)}),u}function Dc(v,c,u,f,m,y,x){try{var w=v[y](x),I=w.value}catch(O){u(O);return}w.done?c(I):Promise.resolve(I).then(f,m)}function qg(v){return function(){var c=this,u=arguments;return new Promise(function(f,m){var y=v.apply(c,u);function x(I){Dc(y,f,m,x,w,"next",I)}function w(I){Dc(y,f,m,x,w,"throw",I)}x(void 0)})}}function qi(v,c){if(!(v instanceof c))throw new TypeError("Cannot call a class as a function")}function Rc(v,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(v,f.key,f)}}function Co(v,c,u){return c&&Rc(v.prototype,c),u&&Rc(v,u),v}function $g(v,c){for(var u in c){var f=c[u];f.configurable=f.enumerable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(v,u,f)}if(Object.getOwnPropertySymbols)for(var m=Object.getOwnPropertySymbols(c),y=0;y<m.length;y++){var x=m[y],f=c[x];f.configurable=f.enumerable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(v,x,f)}return v}function Zg(v,c){for(var u=Object.getOwnPropertyNames(c),f=0;f<u.length;f++){var m=u[f],y=Object.getOwnPropertyDescriptor(c,m);y&&y.configurable&&v[m]===void 0&&Object.defineProperty(v,m,y)}return v}function js(v,c,u){return c in v?Object.defineProperty(v,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):v[c]=u,v}function Oc(){return Oc=Object.assign||function(v){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(v[f]=u[f])}return v},Oc.apply(this,arguments)}function Kg(v){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{},f=Object.keys(u);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(u).filter(function(m){return Object.getOwnPropertyDescriptor(u,m).enumerable}))),f.forEach(function(m){js(v,m,u[m])})}return v}function Mc(v,c){var u=Object.keys(v);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(v);c&&(f=f.filter(function(m){return Object.getOwnPropertyDescriptor(v,m).enumerable})),u.push.apply(u,f)}return u}function Qg(v){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?Mc(u,!0).forEach(function(f){js(v,f,u[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(u)):Mc(u).forEach(function(f){Object.defineProperty(v,f,Object.getOwnPropertyDescriptor(u,f))})}return v}function mf(v,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(c&&c.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),c&&Io(v,c)}function Gs(v,c){v.prototype=Object.create(c.prototype),v.prototype.constructor=v,v.__proto__=c}function Sa(v){return Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},Sa(v)}function Io(v,c){return Io=Object.setPrototypeOf||function(f,m){return f.__proto__=m,f},Io(v,c)}function gf(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Ta(v,c,u){return gf()?Ta=Reflect.construct:Ta=function(m,y,x){var w=[null];w.push.apply(w,y);var I=Function.bind.apply(m,w),O=new I;return x&&Io(O,x.prototype),O},Ta.apply(null,arguments)}function vf(v){return Function.toString.call(v).indexOf("[native code]")!==-1}function Hs(v){var c=typeof Map=="function"?new Map:void 0;return Hs=function(f){if(f===null||!vf(f))return f;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(typeof c<"u"){if(c.has(f))return c.get(f);c.set(f,m)}function m(){return Ta(f,arguments,Sa(this).constructor)}return m.prototype=Object.create(f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),Io(m,f)},Hs(v)}function Jg(v,c){return c!=null&&typeof Symbol<"u"&&c[Symbol.hasInstance]?!!c[Symbol.hasInstance](v):v instanceof c}function e0(v){return v&&v.__esModule?v:{default:v}}function t0(v){if(v&&v.__esModule)return v;var c={};if(v!=null){for(var u in v)if(Object.prototype.hasOwnProperty.call(v,u)){var f=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(v,u):{};f.get||f.set?Object.defineProperty(c,u,f):c[u]=v[u]}}return c.default=v,c}function r0(v,c){if(v!==c)throw new TypeError("Cannot instantiate an arrow function")}function i0(v){if(v==null)throw new TypeError("Cannot destructure undefined")}function Ao(v,c){if(v==null)return{};var u={},f=Object.keys(v),m,y;for(y=0;y<f.length;y++)m=f[y],!(c.indexOf(m)>=0)&&(u[m]=v[m]);return u}function _f(v,c){if(v==null)return{};var u=Ao(v,c),f,m;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(v);for(m=0;m<y.length;m++)f=y[m],!(c.indexOf(f)>=0)&&Object.prototype.propertyIsEnumerable.call(v,f)&&(u[f]=v[f])}return u}function Pc(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function n0(v,c){return c&&(typeof c=="object"||typeof c=="function")?c:Pc(v)}function Ws(v,c){for(;!Object.prototype.hasOwnProperty.call(v,c)&&(v=Sa(v),v!==null););return v}function Da(v,c,u){return typeof Reflect<"u"&&Reflect.get?Da=Reflect.get:Da=function(m,y,x){var w=Ws(m,y);if(w){var I=Object.getOwnPropertyDescriptor(w,y);return I.get?I.get.call(x):I.value}},Da(v,c,u||v)}function Ra(v,c,u,f){return typeof Reflect<"u"&&Reflect.set?Ra=Reflect.set:Ra=function(y,x,w,I){var O=Ws(y,x),M;if(O){if(M=Object.getOwnPropertyDescriptor(O,x),M.set)return M.set.call(I,w),!0;if(!M.writable)return!1}if(M=Object.getOwnPropertyDescriptor(I,x),M){if(!M.writable)return!1;M.value=w,Object.defineProperty(I,x,M)}else js(I,x,w);return!0},Ra(v,c,u,f)}function o0(v,c,u,f,m){var y=Ra(v,c,u,f||v);if(!y&&m)throw new Error("failed to set property");return u}function yf(v,c){return c||(c=v.slice(0)),Object.freeze(Object.defineProperties(v,{raw:{value:Object.freeze(c)}}))}function bf(v,c){return c||(c=v.slice(0)),v.raw=c,v}function a0(v,c){if(v===xf)throw new ReferenceError(c+" is not defined - temporal dead zone");return v}function $i(v){throw new Error('"'+v+'" is read-only')}function s0(v){throw new Error('Class "'+v+'" cannot be referenced in computed property keys.')}var xf={};function l0(v,c){return Xs(v)||Cf(v,c)||Ys()}function c0(v,c){return Xs(v)||If(v,c)||Ys()}function Ef(v){return Xs(v)||Nc(v)||Ys()}function So(v){return wf(v)||Nc(v)||Af()}function wf(v){if(Array.isArray(v)){for(var c=0,u=new Array(v.length);c<v.length;c++)u[c]=v[c];return u}}function Xs(v){if(Array.isArray(v))return v}function Nc(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}function Cf(v,c){var u=[],f=!0,m=!1,y=void 0;try{for(var x=v[Symbol.iterator](),w;!(f=(w=x.next()).done)&&(u.push(w.value),!(c&&u.length===c));f=!0);}catch(I){m=!0,y=I}finally{try{!f&&x.return!=null&&x.return()}finally{if(m)throw y}}return u}function If(v,c){for(var u=[],f=v[Symbol.iterator](),m;!(m=f.next()).done&&(u.push(m.value),!(c&&u.length===c)););return u}function Af(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Ys(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Sf(v){return function(){var c=v.apply(this,arguments);return c.next(),c}}function Tf(v,c){if(typeof v!="object"||v===null)return v;var u=v[Symbol.toPrimitive];if(u!==void 0){var f=u.call(v,c||"default");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(v)}function Fc(v){var c=Tf(v,"string");return typeof c=="symbol"?c:String(c)}function u0(v,c){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}function kc(v,c,u,f){u&&Object.defineProperty(v,c,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(f):void 0})}function d0(v,c,u,f,m){var y={};return Object.keys(f).forEach(function(x){y[x]=f[x]}),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),y=u.slice().reverse().reduce(function(x,w){return w(v,c,x)||x},y),m&&y.initializer!==void 0&&(y.value=y.initializer?y.initializer.call(m):void 0,y.initializer=void 0),y.initializer===void 0&&(Object.defineProperty(v,c,y),y=null),y}var Df=0;function f0(v){return"__private_"+Df+++"_"+v}function h0(v,c){if(!Object.prototype.hasOwnProperty.call(v,c))throw new TypeError("attempted to use private field on non-instance");return v}function Rf(v,c){var u=c.get(v);if(!u)throw new TypeError("attempted to get private field on non-instance");return u.get?u.get.call(v):u.value}function p0(v,c,u){var f=c.get(v);if(!f)throw new TypeError("attempted to set private field on non-instance");if(f.set)f.set.call(v,u);else{if(!f.writable)throw new TypeError("attempted to set read only private field");f.value=u}return u}function S(v,c){if(!c.has(v))throw new TypeError("attempted to set private field on non-instance");var u=c.get(v);if(u.set)return"__destrObj"in u||(u.__destrObj={set value(f){u.set.call(v,f)}}),u.__destrObj;if(!u.writable)throw new TypeError("attempted to set read only private field");return u}function b(v,c,u){if(v!==c)throw new TypeError("Private static access of wrong provenance");return u.value}function C(v,c,u,f){if(v!==c)throw new TypeError("Private static access of wrong provenance");if(!u.writable)throw new TypeError("attempted to set read only private field");return u.value=f,f}function T(v,c,u){if(v!==c)throw new TypeError("Private static access of wrong provenance");return u}function D(){throw new TypeError("attempted to set read only static private field")}function k(v,c,u,f){var m=H();if(f)for(var y=0;y<f.length;y++)m=f[y](m);var x=c(function(O){m.initializeInstanceElements(O,w.elements)},u),w=m.decorateClass(pe(x.d.map(G)),v);return m.initializeClassElements(x.F,w.elements),m.runClassFinishers(x.F,w.finishers)}function H(){H=function(){return v};var v={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(c,u){["method","field"].forEach(function(f){u.forEach(function(m){m.kind===f&&m.placement==="own"&&this.defineClassElement(c,m)},this)},this)},initializeClassElements:function(c,u){var f=c.prototype;["method","field"].forEach(function(m){u.forEach(function(y){var x=y.placement;if(y.kind===m&&(x==="static"||x==="prototype")){var w=x==="static"?c:f;this.defineClassElement(w,y)}},this)},this)},defineClassElement:function(c,u){var f=u.descriptor;if(u.kind==="field"){var m=u.initializer;f={enumerable:f.enumerable,writable:f.writable,configurable:f.configurable,value:m===void 0?void 0:m.call(c)}}Object.defineProperty(c,u.key,f)},decorateClass:function(c,u){var f=[],m=[],y={static:[],prototype:[],own:[]};if(c.forEach(function(w){this.addElementPlacement(w,y)},this),c.forEach(function(w){if(!Me(w))return f.push(w);var I=this.decorateElement(w,y);f.push(I.element),f.push.apply(f,I.extras),m.push.apply(m,I.finishers)},this),!u)return{elements:f,finishers:m};var x=this.decorateConstructor(f,u);return m.push.apply(m,x.finishers),x.finishers=m,x},addElementPlacement:function(c,u,f){var m=u[c.placement];if(!f&&m.indexOf(c.key)!==-1)throw new TypeError("Duplicated element ("+c.key+")");m.push(c.key)},decorateElement:function(c,u){for(var f=[],m=[],y=c.decorators,x=y.length-1;x>=0;x--){var w=u[c.placement];w.splice(w.indexOf(c.key),1);var I=this.fromElementDescriptor(c),O=this.toElementFinisherExtras((0,y[x])(I)||I);c=O.element,this.addElementPlacement(c,u),O.finisher&&m.push(O.finisher);var M=O.extras;if(M){for(var B=0;B<M.length;B++)this.addElementPlacement(M[B],u);f.push.apply(f,M)}}return{element:c,finishers:m,extras:f}},decorateConstructor:function(c,u){for(var f=[],m=u.length-1;m>=0;m--){var y=this.fromClassDescriptor(c),x=this.toClassDescriptor((0,u[m])(y)||y);if(x.finisher!==void 0&&f.push(x.finisher),x.elements!==void 0){c=x.elements;for(var w=0;w<c.length-1;w++)for(var I=w+1;I<c.length;I++)if(c[w].key===c[I].key&&c[w].placement===c[I].placement)throw new TypeError("Duplicated element ("+c[w].key+")")}}return{elements:c,finishers:f}},fromElementDescriptor:function(c){var u={kind:c.kind,key:c.key,placement:c.placement,descriptor:c.descriptor},f={value:"Descriptor",configurable:!0};return Object.defineProperty(u,Symbol.toStringTag,f),c.kind==="field"&&(u.initializer=c.initializer),u},toElementDescriptors:function(c){if(c!==void 0)return Ef(c).map(function(u){var f=this.toElementDescriptor(u);return this.disallowProperty(u,"finisher","An element descriptor"),this.disallowProperty(u,"extras","An element descriptor"),f},this)},toElementDescriptor:function(c){var u=String(c.kind);if(u!=="method"&&u!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+u+'"');var f=Fc(c.key),m=String(c.placement);if(m!=="static"&&m!=="prototype"&&m!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+m+'"');var y=c.descriptor;this.disallowProperty(c,"elements","An element descriptor");var x={kind:u,key:f,placement:m,descriptor:Object.assign({},y)};return u!=="field"?this.disallowProperty(c,"initializer","A method descriptor"):(this.disallowProperty(y,"get","The property descriptor of a field descriptor"),this.disallowProperty(y,"set","The property descriptor of a field descriptor"),this.disallowProperty(y,"value","The property descriptor of a field descriptor"),x.initializer=c.initializer),x},toElementFinisherExtras:function(c){var u=this.toElementDescriptor(c),f=ot(c,"finisher"),m=this.toElementDescriptors(c.extras);return{element:u,finisher:f,extras:m}},fromClassDescriptor:function(c){var u={kind:"class",elements:c.map(this.fromElementDescriptor,this)},f={value:"Descriptor",configurable:!0};return Object.defineProperty(u,Symbol.toStringTag,f),u},toClassDescriptor:function(c){var u=String(c.kind);if(u!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+u+'"');this.disallowProperty(c,"key","A class descriptor"),this.disallowProperty(c,"placement","A class descriptor"),this.disallowProperty(c,"descriptor","A class descriptor"),this.disallowProperty(c,"initializer","A class descriptor"),this.disallowProperty(c,"extras","A class descriptor");var f=ot(c,"finisher"),m=this.toElementDescriptors(c.elements);return{elements:m,finisher:f}},runClassFinishers:function(c,u){for(var f=0;f<u.length;f++){var m=(0,u[f])(c);if(m!==void 0){if(typeof m!="function")throw new TypeError("Finishers must return a constructor.");c=m}}return c},disallowProperty:function(c,u,f){if(c[u]!==void 0)throw new TypeError(f+" can't have a ."+u+" property.")}};return v}function G(v){var c=Fc(v.key),u;v.kind==="method"?u={value:v.value,writable:!0,configurable:!0,enumerable:!1}:v.kind==="get"?u={get:v.value,configurable:!0,enumerable:!1}:v.kind==="set"?u={set:v.value,configurable:!0,enumerable:!1}:v.kind==="field"&&(u={configurable:!0,writable:!0,enumerable:!0});var f={kind:v.kind==="field"?"field":"method",key:c,placement:v.static?"static":v.kind==="field"?"own":"prototype",descriptor:u};return v.decorators&&(f.decorators=v.decorators),v.kind==="field"&&(f.initializer=v.value),f}function Z(v,c){v.descriptor.get!==void 0?c.descriptor.get=v.descriptor.get:c.descriptor.set=v.descriptor.set}function pe(v){for(var c=[],u=function(x){return x.kind==="method"&&x.key===m.key&&x.placement===m.placement},f=0;f<v.length;f++){var m=v[f],y;if(m.kind==="method"&&(y=c.find(u)))if(Te(m.descriptor)||Te(y.descriptor)){if(Me(m)||Me(y))throw new ReferenceError("Duplicated methods ("+m.key+") can't be decorated.");y.descriptor=m.descriptor}else{if(Me(m)){if(Me(y))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+m.key+").");y.decorators=m.decorators}Z(m,y)}else c.push(m)}return c}function Me(v){return v.decorators&&v.decorators.length}function Te(v){return v!==void 0&&!(v.value===void 0&&v.writable===void 0)}function ot(v,c){var u=v[c];if(u!==void 0&&typeof u!="function")throw new TypeError("Expected '"+c+"' to be a function");return u}function pr(v,c,u){if(!c.has(v))throw new TypeError("attempted to get private field on non-instance");return u}function Tt(){throw new TypeError("attempted to reassign private method")}function Wt(v,c){Wt=function(w,I){return new y(w,I)};var u=Hs(RegExp),f=RegExp.prototype,m=new WeakMap;function y(w,I){var O=u.call(this,w);return m.set(O,I),O}mf(y,u),y.prototype.exec=function(w){var I=f.exec.call(this,w);return I&&(I.groups=x(I,this)),I},y.prototype[Symbol.replace]=function(w,I){if(typeof I=="string"){var O=m.get(this);return f[Symbol.replace].call(this,w,I.replace(/\$<([^>]+)>/g,function(B,V){return"$"+O[V]}))}else if(typeof I=="function"){var M=this;return f[Symbol.replace].call(this,w,function(){var B=[];return B.push.apply(B,arguments),typeof B[B.length-1]!="object"&&B.push(x(B,M)),I.apply(this,B)})}else return f[Symbol.replace].call(this,w,I)};function x(w,I){var O=m.get(I);return Object.keys(O).reduce(function(M,B){return M[B]=w[O[B]],M},Object.create(null))}return Wt.apply(this,arguments)}var ur=function(c,u){return c.splice(u,1)},sr=function(c,u){u?c():document.hidden?Promise.resolve(1).then(c):setTimeout(c,0)},Xe=function(){var c=[],u=function(y,x){ur(c,c.findIndex(function(w){return w.event===y&&(w.cb===x||!x)}))},f=function(y,x,w){c.filter(function(I){return I.event===y}).map(function(I){return I.cb}).forEach(function(I){return sr(function(){return I.apply(void 0,So(x))},w)})};return{fireSync:function(y){for(var x=arguments.length,w=new Array(x>1?x-1:0),I=1;I<x;I++)w[I-1]=arguments[I];f(y,w,!0)},fire:function(y){for(var x=arguments.length,w=new Array(x>1?x-1:0),I=1;I<x;I++)w[I-1]=arguments[I];f(y,w,!1)},on:function(y,x){c.push({event:y,cb:x})},onOnce:function(y,x){c.push({event:y,cb:function(){u(y,x),x.apply(void 0,arguments)}})},off:u}},He=function(c,u,f){Object.getOwnPropertyNames(c).filter(function(m){return!f.includes(m)}).forEach(function(m){return Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(c,m))})},Ie=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],$=function(c){var u={};return He(c,u,Ie),u},fe=function(c){c.forEach(function(u,f){u.released&&ur(c,f)})},ce={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Ue={INPUT:1,LIMBO:2,LOCAL:3},Zt=function(c){return/[^0-9]+/.exec(c)},pt=function(){return Zt(1.1.toLocaleString())[0]},kt=function(){var c=pt(),u=1e3.toLocaleString(),f="1000";return u!==f?Zt(u)[0]:c==="."?",":"."},q={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},yr=[],Xt=function(c,u,f){return new Promise(function(m,y){var x=yr.filter(function(I){return I.key===c}).map(function(I){return I.cb});if(x.length===0){m(u);return}var w=x.shift();x.reduce(function(I,O){return I.then(function(M){return O(M,f)})},w(u,f)).then(function(I){return m(I)}).catch(function(I){return y(I)})})},zr=function(c,u,f){return yr.filter(function(m){return m.key===c}).map(function(m){return m.cb(u,f)})},qn=function(c,u){return yr.push({key:c,cb:u})},un=function(c){return Object.assign(dn,c)},Ni=function(){return Object.assign({},dn)},Oa=function(c){n(c,function(u,f){dn[u]&&(dn[u][0]=df(f,dn[u][0],dn[u][1]))})},dn={id:[null,q.STRING],name:["filepond",q.STRING],disabled:[!1,q.BOOLEAN],className:[null,q.STRING],required:[!1,q.BOOLEAN],captureMethod:[null,q.STRING],allowSyncAcceptAttribute:[!0,q.BOOLEAN],allowDrop:[!0,q.BOOLEAN],allowBrowse:[!0,q.BOOLEAN],allowPaste:[!0,q.BOOLEAN],allowMultiple:[!1,q.BOOLEAN],allowReplace:[!0,q.BOOLEAN],allowRevert:[!0,q.BOOLEAN],allowRemove:[!0,q.BOOLEAN],allowProcess:[!0,q.BOOLEAN],allowReorder:[!1,q.BOOLEAN],allowDirectoriesOnly:[!1,q.BOOLEAN],storeAsFile:[!1,q.BOOLEAN],forceRevert:[!1,q.BOOLEAN],maxFiles:[null,q.INT],checkValidity:[!1,q.BOOLEAN],itemInsertLocationFreedom:[!0,q.BOOLEAN],itemInsertLocation:["before",q.STRING],itemInsertInterval:[75,q.INT],dropOnPage:[!1,q.BOOLEAN],dropOnElement:[!0,q.BOOLEAN],dropValidation:[!1,q.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],q.ARRAY],instantUpload:[!0,q.BOOLEAN],maxParallelUploads:[2,q.INT],allowMinimumUploadDuration:[!0,q.BOOLEAN],chunkUploads:[!1,q.BOOLEAN],chunkForce:[!1,q.BOOLEAN],chunkSize:[5e6,q.INT],chunkRetryDelays:[[500,1e3,3e3],q.ARRAY],server:[null,q.SERVER_API],fileSizeBase:[1e3,q.INT],labelFileSizeBytes:["bytes",q.STRING],labelFileSizeKilobytes:["KB",q.STRING],labelFileSizeMegabytes:["MB",q.STRING],labelFileSizeGigabytes:["GB",q.STRING],labelDecimalSeparator:[pt(),q.STRING],labelThousandsSeparator:[kt(),q.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',q.STRING],labelInvalidField:["Field contains invalid files",q.STRING],labelFileWaitingForSize:["Waiting for size",q.STRING],labelFileSizeNotAvailable:["Size not available",q.STRING],labelFileCountSingular:["file in list",q.STRING],labelFileCountPlural:["files in list",q.STRING],labelFileLoading:["Loading",q.STRING],labelFileAdded:["Added",q.STRING],labelFileLoadError:["Error during load",q.STRING],labelFileRemoved:["Removed",q.STRING],labelFileRemoveError:["Error during remove",q.STRING],labelFileProcessing:["Uploading",q.STRING],labelFileProcessingComplete:["Upload complete",q.STRING],labelFileProcessingAborted:["Upload cancelled",q.STRING],labelFileProcessingError:["Error during upload",q.STRING],labelFileProcessingRevertError:["Error during revert",q.STRING],labelTapToCancel:["tap to cancel",q.STRING],labelTapToRetry:["tap to retry",q.STRING],labelTapToUndo:["tap to undo",q.STRING],labelButtonRemoveItem:["Remove",q.STRING],labelButtonAbortItemLoad:["Abort",q.STRING],labelButtonRetryItemLoad:["Retry",q.STRING],labelButtonAbortItemProcessing:["Cancel",q.STRING],labelButtonUndoItemProcessing:["Undo",q.STRING],labelButtonRetryItemProcessing:["Retry",q.STRING],labelButtonProcessItem:["Upload",q.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',q.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',q.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',q.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',q.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',q.STRING],oninit:[null,q.FUNCTION],onwarning:[null,q.FUNCTION],onerror:[null,q.FUNCTION],onactivatefile:[null,q.FUNCTION],oninitfile:[null,q.FUNCTION],onaddfilestart:[null,q.FUNCTION],onaddfileprogress:[null,q.FUNCTION],onaddfile:[null,q.FUNCTION],onprocessfilestart:[null,q.FUNCTION],onprocessfileprogress:[null,q.FUNCTION],onprocessfileabort:[null,q.FUNCTION],onprocessfilerevert:[null,q.FUNCTION],onprocessfile:[null,q.FUNCTION],onprocessfiles:[null,q.FUNCTION],onremovefile:[null,q.FUNCTION],onpreparefile:[null,q.FUNCTION],onupdatefiles:[null,q.FUNCTION],onreorderfiles:[null,q.FUNCTION],beforeDropFile:[null,q.FUNCTION],beforeAddFile:[null,q.FUNCTION],beforeRemoveFile:[null,q.FUNCTION],beforePrepareFile:[null,q.FUNCTION],stylePanelLayout:[null,q.STRING],stylePanelAspectRatio:[null,q.STRING],styleItemPanelAspectRatio:[null,q.STRING],styleButtonRemoveItemPosition:["left",q.STRING],styleButtonProcessItemPosition:["right",q.STRING],styleLoadIndicatorPosition:["right",q.STRING],styleProgressIndicatorPosition:["right",q.STRING],styleButtonRemoveItemAlign:[!1,q.BOOLEAN],files:[[],q.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],q.ARRAY]},Zi=function(c,u){return ln(u)?c[0]||null:xo(u)?c[u]||null:(typeof u=="object"&&(u=u.id),c.find(function(f){return f.id===u})||null)},To=function(c){if(ln(c))return c;if(/:/.test(c)){var u=c.split(":");return u[1]/u[0]}return parseFloat(c)},Qr=function(c){return c.filter(function(u){return!u.archived})},In={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},Ma=null,Do=function(){if(Ma===null)try{var c=new DataTransfer;c.items.add(new File(["hello world"],"This_Works.txt"));var u=document.createElement("input");u.setAttribute("type","file"),u.files=c.files,Ma=u.files.length===1}catch{Ma=!1}return Ma},Pa=[ce.LOAD_ERROR,ce.PROCESSING_ERROR,ce.PROCESSING_REVERT_ERROR],Lc=[ce.LOADING,ce.PROCESSING,ce.PROCESSING_QUEUED,ce.INIT],Bc=[ce.PROCESSING_COMPLETE],Vc=function(c){return Pa.includes(c.status)},m0=function(c){return Lc.includes(c.status)},Of=function(c){return Bc.includes(c.status)},g0=function(c){return kr(c.options.server)&&(kr(c.options.server.process)||cn(c.options.server.process))},Kx=function(c){return{GET_STATUS:function(){var f=Qr(c.items),m=In.EMPTY,y=In.ERROR,x=In.BUSY,w=In.IDLE,I=In.READY;return f.length===0?m:f.some(Vc)?y:f.some(m0)?x:f.some(Of)?I:w},GET_ITEM:function(f){return Zi(c.items,f)},GET_ACTIVE_ITEM:function(f){return Zi(Qr(c.items),f)},GET_ACTIVE_ITEMS:function(){return Qr(c.items)},GET_ITEMS:function(){return c.items},GET_ITEM_NAME:function(f){var m=Zi(c.items,f);return m?m.filename:null},GET_ITEM_SIZE:function(f){var m=Zi(c.items,f);return m?m.fileSize:null},GET_STYLES:function(){return Object.keys(c.options).filter(function(f){return/^style/.test(f)}).map(function(f){return{name:f,value:c.options[f]}})},GET_PANEL_ASPECT_RATIO:function(){var f=/circle/.test(c.options.stylePanelLayout),m=f?1:To(c.options.stylePanelAspectRatio);return m},GET_ITEM_PANEL_ASPECT_RATIO:function(){return c.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(f){return Qr(c.items).filter(function(m){return m.status===f})},GET_TOTAL_ITEMS:function(){return Qr(c.items).length},SHOULD_UPDATE_FILE_INPUT:function(){return c.options.storeAsFile&&Do()&&!g0(c)},IS_ASYNC:function(){return g0(c)},GET_FILE_SIZE_LABELS:function(f){return{labelBytes:f("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:f("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:f("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:f("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}}}},Qx=function(c){var u=Qr(c.items).length;if(!c.options.allowMultiple)return u===0;var f=c.options.maxFiles;return f===null||u<f},v0=function(c,u,f){return Math.max(Math.min(f,c),u)},Jx=function(c,u,f){return c.splice(u,0,f)},eE=function(c,u,f){return ln(u)?null:typeof f>"u"?(c.push(u),u):(f=v0(f,0,c.length),Jx(c,f,u),u)},Mf=function(c){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(c)},qs=function(c){return(""+c).split("/").pop().split("?").shift()},Uc=function(c){return c.split(".").pop()},tE=function(c){if(typeof c!="string")return"";var u=c.split("/").pop();return/svg/.test(u)?"svg":/zip|compressed/.test(u)?"zip":/plain/.test(u)?"txt":/msword/.test(u)?"doc":/[a-z]+/.test(u)?u==="jpeg"?"jpg":u:""},$s=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(u+c).slice(-u.length)},_0=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return c.getFullYear()+"-"+$s(c.getMonth()+1,"00")+"-"+$s(c.getDate(),"00")+"_"+$s(c.getHours(),"00")+"-"+$s(c.getMinutes(),"00")+"-"+$s(c.getSeconds(),"00")},Na=function(c,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,y=typeof f=="string"?c.slice(0,c.size,f):c.slice(0,c.size,c.type);return y.lastModifiedDate=new Date,c._relativePath&&(y._relativePath=c._relativePath),Wr(u)||(u=_0()),u&&m===null&&Uc(u)?y.name=u:(m=m||tE(y.type),y.name=u+(m?"."+m:"")),y},rE=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},y0=function(c,u){var f=rE();if(f){var m=new f;return m.append(c),m.getBlob(u)}return new Blob([c],{type:u})},iE=function(c,u){for(var f=new ArrayBuffer(c.length),m=new Uint8Array(f),y=0;y<c.length;y++)m[y]=c.charCodeAt(y);return y0(f,u)},b0=function(c){return(/^data:(.+);/.exec(c)||[])[1]||null},nE=function(c){var u=c.split(",")[1];return u.replace(/\s/g,"")},oE=function(c){return atob(nE(c))},aE=function(c){var u=b0(c),f=oE(c);return iE(f,u)},sE=function(c,u,f){return Na(aE(c),u,null,f)},lE=function(c){if(!/^content-disposition:/i.test(c))return null;var u=c.split(/filename=|filename\*=.+''/).splice(1).map(function(f){return f.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(f){return f.length});return u.length?decodeURI(u[u.length-1]):null},cE=function(c){if(/content-length:/i.test(c)){var u=c.match(/[0-9]+/)[0];return u?parseInt(u,10):null}return null},uE=function(c){if(/x-content-transfer-id:/i.test(c)){var u=(c.split(":")[1]||"").trim();return u||null}return null},Pf=function(c){var u={source:null,name:null,size:null},f=c.split(`
`),m=!0,y=!1,x=void 0;try{for(var w=f[Symbol.iterator](),I;!(m=(I=w.next()).done);m=!0){var O=I.value,M=lE(O);if(M){u.name=M;continue}var B=cE(O);if(B){u.size=B;continue}var V=uE(O);if(V){u.source=V;continue}}}catch(K){y=!0,x=K}finally{try{!m&&w.return!=null&&w.return()}finally{if(y)throw x}}return u},dE=function(c){var u={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},f=function(){return u.progress},m=function(){u.request&&u.request.abort&&u.request.abort()},y=function(){var O=u.source;w.fire("init",O),O instanceof File?w.fire("load",O):O instanceof Blob?w.fire("load",Na(O,O.name)):Mf(O)?w.fire("load",sE(O)):x(O)},x=function(O){if(!c){w.fire("error",{type:"error",body:"Can't load URL",code:400});return}u.timestamp=Date.now(),u.request=c(O,function(M){u.duration=Date.now()-u.timestamp,u.complete=!0,M instanceof Blob&&(M=Na(M,M.name||qs(O))),w.fire("load",M instanceof Blob?M:M?M.body:null)},function(M){w.fire("error",typeof M=="string"?{type:"error",code:0,body:M}:M)},function(M,B,V){if(V&&(u.size=V),u.duration=Date.now()-u.timestamp,!M){u.progress=null;return}u.progress=B/V,w.fire("progress",u.progress)},function(){w.fire("abort")},function(M){var B=Pf(typeof M=="string"?M:M.headers);w.fire("meta",{size:u.size||B.size,filename:B.name,source:B.source})})},w=Object.assign({},Xe(),{setSource:function(O){return u.source=O},getProgress:f,abort:m,load:y});return w},x0=function(c){return/GET|HEAD/.test(c)},Ro=function(c,u,f){var m={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){y=!0,w.abort()}},y=!1,x=!1;f=Object.assign({method:"POST",headers:{},withCredentials:!1},f),u=encodeURI(u),x0(f.method)&&c&&(u=""+u+encodeURIComponent(typeof c=="string"?c:JSON.stringify(c)));var w=new XMLHttpRequest,I=x0(f.method)?w:w.upload;return I.onprogress=function(O){y||m.onprogress(O.lengthComputable,O.loaded,O.total)},w.onreadystatechange=function(){w.readyState<2||w.readyState===4&&w.status===0||x||(x=!0,m.onheaders(w))},w.onload=function(){w.status>=200&&w.status<300?m.onload(w):m.onerror(w)},w.onerror=function(){return m.onerror(w)},w.onabort=function(){y=!0,m.onabort()},w.ontimeout=function(){return m.ontimeout(w)},w.open(f.method,u,!0),xo(f.timeout)&&(w.timeout=f.timeout),Object.keys(f.headers).forEach(function(O){var M=unescape(encodeURIComponent(f.headers[O]));w.setRequestHeader(O,M)}),f.responseType&&(w.responseType=f.responseType),f.withCredentials&&(w.withCredentials=!0),w.send(c),m},Ar=function(c,u,f,m){return{type:c,code:u,body:f,headers:m}},Oo=function(c){return function(u){c(Ar("error",0,"Timeout",u.getAllResponseHeaders()))}},E0=function(c){return/\?/.test(c)},Zs=function(){for(var c="",u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];return f.forEach(function(y){c+=E0(c)&&E0(y)?y.replace(/\?/,"&"):y}),c},Nf=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1?arguments[1]:void 0;if(typeof u=="function")return u;if(!u||!Wr(u.url))return null;var f=u.onload||function(y){return y},m=u.onerror||function(y){return null};return function(y,x,w,I,O,M){var B=Ro(y,Zs(c,u.url),Object.assign({},u,{responseType:"blob"}));return B.onload=function(V){var K=V.getAllResponseHeaders(),te=Pf(K).name||qs(y);x(Ar("load",V.status,u.method==="HEAD"?null:Na(f(V.response),te),K))},B.onerror=function(V){w(Ar("error",V.status,m(V.response)||V.statusText,V.getAllResponseHeaders()))},B.onheaders=function(V){M(Ar("headers",V.status,null,V.getAllResponseHeaders()))},B.ontimeout=Oo(w),B.onprogress=I,B.onabort=O,B}},Fi={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},fE=function(c,u,f,m,y,x,w,I,O,M,B){for(var V=[],K=B.chunkTransferId,te=B.chunkServer,ie=B.chunkSize,Y=B.chunkRetryDelays,ae={serverId:K,aborted:!1},we=u.ondata||function(ne){return ne},De=u.onload||function(ne,W){return W==="HEAD"?ne.getResponseHeader("Upload-Offset"):ne.response},de=u.onerror||function(ne){return null},tt=function(W){var Se=new FormData;kr(y)&&Se.append(f,JSON.stringify(y));var Qe=typeof u.headers=="function"?u.headers(m,y):Object.assign({},u.headers,{"Upload-Length":m.size}),lt=Object.assign({},u,{headers:Qe}),wt=Ro(we(Se),Zs(c,u.url),lt);wt.onload=function(Dt){return W(De(Dt,lt.method))},wt.onerror=function(Dt){return w(Ar("error",Dt.status,de(Dt.response)||Dt.statusText,Dt.getAllResponseHeaders()))},wt.ontimeout=Oo(w)},ge=function(W){var Se=Zs(c,te.url,ae.serverId),Qe=typeof u.headers=="function"?u.headers(ae.serverId):Object.assign({},u.headers),lt={headers:Qe,method:"HEAD"},wt=Ro(null,Se,lt);wt.onload=function(Dt){return W(De(Dt,lt.method))},wt.onerror=function(Dt){return w(Ar("error",Dt.status,de(Dt.response)||Dt.statusText,Dt.getAllResponseHeaders()))},wt.ontimeout=Oo(w)},Lt=Math.floor(m.size/ie),Bt=0;Bt<=Lt;Bt++){var xe=Bt*ie,Pe=m.slice(xe,xe+ie,"application/offset+octet-stream");V[Bt]={index:Bt,size:Pe.size,offset:xe,data:Pe,file:m,progress:0,retries:So(Y),status:Fi.QUEUED,error:null,request:null,timeout:null}}var Le=function(){return x(ae.serverId)},ve=function(W){return W.status===Fi.QUEUED||W.status===Fi.ERROR},Ce=function(W){if(!ae.aborted){if(W=W||V.find(ve),!W){V.every(function(br){return br.status===Fi.COMPLETE})&&Le();return}W.status=Fi.PROCESSING,W.progress=null;var Se=te.ondata||function(br){return br},Qe=te.onerror||function(br){return null},lt=te.onload||function(){},wt=Zs(c,te.url,ae.serverId),Dt=typeof te.headers=="function"?te.headers(W):Object.assign({},te.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":W.offset,"Upload-Length":m.size,"Upload-Name":m.name}),dr=W.request=Ro(Se(W.data),wt,Object.assign({},te,{headers:Dt}));dr.onload=function(br){lt(br,W.index,V.length),W.status=Fi.COMPLETE,W.request=null,Pt()},dr.onprogress=function(br,La,xv){W.progress=br?La:null,jt()},dr.onerror=function(br){W.status=Fi.ERROR,W.request=null,W.error=Qe(br.response)||br.statusText,ze(W)||w(Ar("error",br.status,Qe(br.response)||br.statusText,br.getAllResponseHeaders()))},dr.ontimeout=function(br){W.status=Fi.ERROR,W.request=null,ze(W)||Oo(w)(br)},dr.onabort=function(){W.status=Fi.QUEUED,W.request=null,O()}}},ze=function(W){return W.retries.length===0?!1:(W.status=Fi.WAITING,clearTimeout(W.timeout),W.timeout=setTimeout(function(){Ce(W)},W.retries.shift()),!0)},jt=function(){var W=V.reduce(function(Qe,lt){return Qe===null||lt.progress===null?null:Qe+lt.progress},0);if(W===null)return I(!1,0,0);var Se=V.reduce(function(Qe,lt){return Qe+lt.size},0);I(!0,W,Se)},Pt=function(){var W=V.filter(function(Se){return Se.status===Fi.PROCESSING}).length;W>=1||Ce()},je=function(){V.forEach(function(W){clearTimeout(W.timeout),W.request&&W.request.abort()})};return ae.serverId?ge(function(ne){ae.aborted||(V.filter(function(W){return W.offset<ne}).forEach(function(W){W.status=Fi.COMPLETE,W.progress=W.size}),Pt())}):tt(function(ne){ae.aborted||(M(ne),ae.serverId=ne,Pt())}),{abort:function(){ae.aborted=!0,je()}}},hE=function(c,u,f,m){return function(y,x,w,I,O,M,B){if(y){var V=m.chunkUploads,K=V&&y.size>m.chunkSize,te=V&&(K||m.chunkForce);if(y instanceof Blob&&te)return fE(c,u,f,y,x,w,I,O,M,B,m);var ie=u.ondata||function(ge){return ge},Y=u.onload||function(ge){return ge},ae=u.onerror||function(ge){return null},we=typeof u.headers=="function"?u.headers(y,x)||{}:Object.assign({},u.headers),De=Object.assign({},u,{headers:we}),de=new FormData;kr(x)&&de.append(f,JSON.stringify(x)),(y instanceof Blob?[{name:null,file:y}]:y).forEach(function(ge){de.append(f,ge.file,ge.name===null?ge.file.name:""+ge.name+ge.file.name)});var tt=Ro(ie(de),Zs(c,u.url),De);return tt.onload=function(ge){w(Ar("load",ge.status,Y(ge.response),ge.getAllResponseHeaders()))},tt.onerror=function(ge){I(Ar("error",ge.status,ae(ge.response)||ge.statusText,ge.getAllResponseHeaders()))},tt.ontimeout=Oo(I),tt.onprogress=O,tt.onabort=M,tt}}},pE=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1?arguments[1]:void 0,f=arguments.length>2?arguments[2]:void 0,m=arguments.length>3?arguments[3]:void 0;return typeof u=="function"?function(){for(var y=arguments.length,x=new Array(y),w=0;w<y;w++)x[w]=arguments[w];return u.apply(void 0,[f].concat(x,[m]))}:!u||!Wr(u.url)?null:hE(c,u,f,m)},Ks=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1?arguments[1]:void 0;if(typeof u=="function")return u;if(!u||!Wr(u.url))return function(y,x){return x()};var f=u.onload||function(y){return y},m=u.onerror||function(y){return null};return function(y,x,w){var I=Ro(y,c+u.url,u);return I.onload=function(O){x(Ar("load",O.status,f(O.response),O.getAllResponseHeaders()))},I.onerror=function(O){w(Ar("error",O.status,m(O.response)||O.statusText,O.getAllResponseHeaders()))},I.ontimeout=Oo(w),I}},w0=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return c+Math.random()*(u-c)},mE=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:25,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:250,x=null,w=Date.now(),I=function O(){var M=Date.now()-w,B=w0(m,y);M+B>u&&(B=M+B-u);var V=M/u;if(V>=1||document.hidden){c(1);return}c(V),x=setTimeout(O,B)};return u>0&&I(),{clear:function(){clearTimeout(x)}}},gE=function(c,u){var f={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},m=u.allowMinimumUploadDuration,y=function(V,K){var te=function(){f.duration===0||f.progress===null||M.fire("progress",M.getProgress())},ie=function(){f.complete=!0,M.fire("load-perceived",f.response.body)};M.fire("start"),f.timestamp=Date.now(),f.perceivedPerformanceUpdater=mE(function(Y){f.perceivedProgress=Y,f.perceivedDuration=Date.now()-f.timestamp,te(),f.response&&f.perceivedProgress===1&&!f.complete&&ie()},m?w0(750,1500):0),f.request=c(V,K,function(Y){f.response=kr(Y)?Y:{type:"load",code:200,body:""+Y,headers:{}},f.duration=Date.now()-f.timestamp,f.progress=1,M.fire("load",f.response.body),(!m||m&&f.perceivedProgress===1)&&ie()},function(Y){f.perceivedPerformanceUpdater.clear(),M.fire("error",kr(Y)?Y:{type:"error",code:0,body:""+Y})},function(Y,ae,we){f.duration=Date.now()-f.timestamp,f.progress=Y?ae/we:null,te()},function(){f.perceivedPerformanceUpdater.clear(),M.fire("abort",f.response?f.response.body:null)},function(Y){M.fire("transfer",Y)})},x=function(){f.request&&(f.perceivedPerformanceUpdater.clear(),f.request.abort&&f.request.abort(),f.complete=!0)},w=function(){x(),f.complete=!1,f.perceivedProgress=0,f.progress=0,f.timestamp=null,f.perceivedDuration=0,f.duration=0,f.request=null,f.response=null},I=m?function(){return f.progress?Math.min(f.progress,f.perceivedProgress):null}:function(){return f.progress||null},O=m?function(){return Math.min(f.duration,f.perceivedDuration)}:function(){return f.duration},M=Object.assign({},Xe(),{process:y,abort:x,getProgress:I,getDuration:O,reset:w});return M},C0=function(c){return c.substring(0,c.lastIndexOf("."))||c},vE=function(c){var u=[c.name,c.size,c.type];return c instanceof Blob||Mf(c)?u[0]=c.name||_0():Mf(c)?(u[1]=c.length,u[2]=b0(c)):Wr(c)&&(u[0]=qs(c),u[1]=0,u[2]="application/octet-stream"),{name:u[0],size:u[1],type:u[2]}},Mo=function(c){return!!(c instanceof File||c instanceof Blob&&c.name)},_E=function v(c){if(!kr(c))return c;var u=bo(c)?[]:{};for(var f in c)if(c.hasOwnProperty(f)){var m=c[f];u[f]=m&&kr(m)?v(m):m}return u},yE=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,m=Tc(),y={archived:!1,frozen:!1,released:!1,source:null,file:f,serverFileReference:u,transferId:null,processingAborted:!1,status:u?ce.PROCESSING_COMPLETE:ce.INIT,activeLoader:null,activeProcessor:null},x=null,w={},I=function(Pe){return y.status=Pe},O=function(Pe){if(!(y.released||y.frozen)){for(var Le=arguments.length,ve=new Array(Le>1?Le-1:0),Ce=1;Ce<Le;Ce++)ve[Ce-1]=arguments[Ce];Lt.fire.apply(Lt,[Pe].concat(ve))}},M=function(){return Uc(y.file.name)},B=function(){return y.file.type},V=function(){return y.file.size},K=function(){return y.file},te=function(Pe,Le,ve){if(y.source=Pe,Lt.fireSync("init"),y.file){Lt.fireSync("load-skip");return}y.file=vE(Pe),Le.on("init",function(){O("load-init")}),Le.on("meta",function(Ce){y.file.size=Ce.size,y.file.filename=Ce.filename,Ce.source&&(c=Ue.LIMBO,y.serverFileReference=Ce.source,y.status=ce.PROCESSING_COMPLETE),O("load-meta")}),Le.on("progress",function(Ce){I(ce.LOADING),O("load-progress",Ce)}),Le.on("error",function(Ce){I(ce.LOAD_ERROR),O("load-request-error",Ce)}),Le.on("abort",function(){I(ce.INIT),O("load-abort")}),Le.on("load",function(Ce){y.activeLoader=null;var ze=function(je){y.file=Mo(je)?je:y.file,c===Ue.LIMBO&&y.serverFileReference?I(ce.PROCESSING_COMPLETE):I(ce.IDLE),O("load")},jt=function(je){y.file=Ce,O("load-meta"),I(ce.LOAD_ERROR),O("load-file-error",je)};if(y.serverFileReference){ze(Ce);return}ve(Ce,ze,jt)}),Le.setSource(Pe),y.activeLoader=Le,Le.load()},ie=function(){y.activeLoader&&y.activeLoader.load()},Y=function(){if(y.activeLoader){y.activeLoader.abort();return}I(ce.INIT),O("load-abort")},ae=function xe(Pe,Le){if(y.processingAborted){y.processingAborted=!1;return}if(I(ce.PROCESSING),x=null,!(y.file instanceof Blob)){Lt.on("load",function(){xe(Pe,Le)});return}Pe.on("load",function(ze){y.transferId=null,y.serverFileReference=ze}),Pe.on("transfer",function(ze){y.transferId=ze}),Pe.on("load-perceived",function(ze){y.activeProcessor=null,y.transferId=null,y.serverFileReference=ze,I(ce.PROCESSING_COMPLETE),O("process-complete",ze)}),Pe.on("start",function(){O("process-start")}),Pe.on("error",function(ze){y.activeProcessor=null,I(ce.PROCESSING_ERROR),O("process-error",ze)}),Pe.on("abort",function(ze){y.activeProcessor=null,y.serverFileReference=ze,I(ce.IDLE),O("process-abort"),x&&x()}),Pe.on("progress",function(ze){O("process-progress",ze)});var ve=function(jt){y.archived||Pe.process(jt,Object.assign({},w))},Ce=console.error;Le(y.file,ve,Ce),y.activeProcessor=Pe},we=function(){y.processingAborted=!1,I(ce.PROCESSING_QUEUED)},De=function(){return new Promise(function(Pe){if(!y.activeProcessor){y.processingAborted=!0,I(ce.IDLE),O("process-abort"),Pe();return}x=function(){Pe()},y.activeProcessor.abort()})},de=function(Pe,Le){return new Promise(function(ve,Ce){var ze=y.serverFileReference!==null?y.serverFileReference:y.transferId;if(ze===null){ve();return}Pe(ze,function(){y.serverFileReference=null,y.transferId=null,ve()},function(jt){if(!Le){ve();return}I(ce.PROCESSING_REVERT_ERROR),O("process-revert-error"),Ce(jt)}),I(ce.IDLE),O("process-revert")})},tt=function(Pe,Le,ve){var Ce=Pe.split("."),ze=Ce[0],jt=Ce.pop(),Pt=w;Ce.forEach(function(je){return Pt=Pt[je]}),JSON.stringify(Pt[jt])!==JSON.stringify(Le)&&(Pt[jt]=Le,O("metadata-update",{key:ze,value:w[ze],silent:ve}))},ge=function(Pe){return _E(Pe?w[Pe]:w)},Lt=Object.assign({id:{get:function(){return m}},origin:{get:function(){return c},set:function(Pe){return c=Pe}},serverId:{get:function(){return y.serverFileReference}},transferId:{get:function(){return y.transferId}},status:{get:function(){return y.status}},filename:{get:function(){return y.file.name}},filenameWithoutExtension:{get:function(){return C0(y.file.name)}},fileExtension:{get:M},fileType:{get:B},fileSize:{get:V},file:{get:K},relativePath:{get:function(){return y.file._relativePath}},source:{get:function(){return y.source}},getMetadata:ge,setMetadata:function(Pe,Le,ve){if(kr(Pe)){var Ce=Pe;return Object.keys(Ce).forEach(function(ze){tt(ze,Ce[ze],Le)}),Pe}return tt(Pe,Le,ve),Le},extend:function(Pe,Le){return Bt[Pe]=Le},abortLoad:Y,retryLoad:ie,requestProcessing:we,abortProcessing:De,load:te,process:ae,revert:de},Xe(),{freeze:function(){return y.frozen=!0},release:function(){return y.released=!0},released:{get:function(){return y.released}},archive:function(){return y.archived=!0},archived:{get:function(){return y.archived}},setFile:function(Pe){return y.file=Pe}}),Bt=o(Lt);return Bt},bE=function(c,u){return ln(u)?0:Wr(u)?c.findIndex(function(f){return f.id===u}):-1},I0=function(c,u){var f=bE(c,u);if(!(f<0))return c[f]||null},A0=function(c,u,f,m,y,x){var w=Ro(null,c,{method:"GET",responseType:"blob"});return w.onload=function(I){var O=I.getAllResponseHeaders(),M=Pf(O).name||qs(c);u(Ar("load",I.status,Na(I.response,M),O))},w.onerror=function(I){f(Ar("error",I.status,I.statusText,I.getAllResponseHeaders()))},w.onheaders=function(I){x(Ar("headers",I.status,null,I.getAllResponseHeaders()))},w.ontimeout=Oo(f),w.onprogress=m,w.onabort=y,w},S0=function(c){return c.indexOf("//")===0&&(c=location.protocol+c),c.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},xE=function(c){return(c.indexOf(":")>-1||c.indexOf("//")>-1)&&S0(location.href)!==S0(c)},zc=function(c){return function(){return cn(c)?c.apply(void 0,arguments):c}},EE=function(c){return!Mo(c.file)},Ff=function(c,u){clearTimeout(u.listUpdateTimeout),u.listUpdateTimeout=setTimeout(function(){c("DID_UPDATE_ITEMS",{items:Qr(u.items)})},0)},T0=function(c){for(var u=arguments.length,f=new Array(u>1?u-1:0),m=1;m<u;m++)f[m-1]=arguments[m];return new Promise(function(y){if(!c)return y(!0);var x=c.apply(void 0,f);if(x==null)return y(!0);if(typeof x=="boolean")return y(x);typeof x.then=="function"&&x.then(y)})},kf=function(c,u){c.items.sort(function(f,m){return u($(f),$(m))})},ki=function(c,u){return function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=f.query,y=f.success,x=y===void 0?function(){}:y,w=f.failure,I=w===void 0?function(){}:w,O=_f(f,["query","success","failure"]),M=Zi(c.items,m);if(!M){I({error:Ar("error",0,"Item not found"),file:null});return}u(M,x,I,O||{})}},wE=function(c,u,f){return{ABORT_ALL:function(){Qr(f.items).forEach(function(y){y.freeze(),y.abortLoad(),y.abortProcessing()})},DID_SET_FILES:function(y){var x=y.value,w=x===void 0?[]:x,I=w.map(function(M){return{source:M.source?M.source:M,options:M.options}}),O=Qr(f.items);O.forEach(function(M){I.find(function(B){return B.source===M.source||B.source===M.file})||c("REMOVE_ITEM",{query:M,remove:!1})}),O=Qr(f.items),I.forEach(function(M,B){O.find(function(V){return V.source===M.source||V.file===M.source})||c("ADD_ITEM",Object.assign({},M,{interactionMethod:wi.NONE,index:B}))})},DID_UPDATE_ITEM_METADATA:function(y){var x=y.id,w=y.action,I=y.change;I.silent||(clearTimeout(f.itemUpdateTimeout),f.itemUpdateTimeout=setTimeout(function(){var O=I0(f.items,x);if(!u("IS_ASYNC")){Xt("SHOULD_PREPARE_OUTPUT",!1,{item:O,query:u,action:w,change:I}).then(function(K){var te=u("GET_BEFORE_PREPARE_FILE");te&&(K=te(O,K)),K&&c("REQUEST_PREPARE_OUTPUT",{query:x,item:O,success:function(Y){c("DID_PREPARE_OUTPUT",{id:x,file:Y})}},!0)});return}O.origin===Ue.LOCAL&&c("DID_LOAD_ITEM",{id:O.id,error:null,serverFileReference:O.source});var M=function(){setTimeout(function(){c("REQUEST_ITEM_PROCESSING",{query:x})},32)},B=function(te){O.revert(Ks(f.options.server.url,f.options.server.revert),u("GET_FORCE_REVERT")).then(te?M:function(){}).catch(function(){})},V=function(te){O.abortProcessing().then(te?M:function(){})};if(O.status===ce.PROCESSING_COMPLETE)return B(f.options.instantUpload);if(O.status===ce.PROCESSING)return V(f.options.instantUpload);f.options.instantUpload&&M()},0))},MOVE_ITEM:function(y){var x=y.query,w=y.index,I=Zi(f.items,x);if(I){var O=f.items.indexOf(I);w=v0(w,0,f.items.length-1),O!==w&&f.items.splice(w,0,f.items.splice(O,1)[0])}},SORT:function(y){var x=y.compare;kf(f,x),c("DID_SORT_ITEMS",{items:u("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(y){var x=y.items,w=y.index,I=y.interactionMethod,O=y.success,M=O===void 0?function(){}:O,B=y.failure,V=B===void 0?function(){}:B,K=w;if(w===-1||typeof w>"u"){var te=u("GET_ITEM_INSERT_LOCATION"),ie=u("GET_TOTAL_ITEMS");K=te==="before"?0:ie}var Y=u("GET_IGNORED_FILES"),ae=function(tt){return Mo(tt)?!Y.includes(tt.name.toLowerCase()):!ln(tt)},we=x.filter(ae),De=we.map(function(de){return new Promise(function(tt,ge){c("ADD_ITEM",{interactionMethod:I,source:de.source||de,success:tt,failure:ge,index:K++,options:de.options||{}})})});Promise.all(De).then(M).catch(V)},ADD_ITEM:function(y){var x=y.source,w=y.index,I=w===void 0?-1:w,O=y.interactionMethod,M=y.success,B=M===void 0?function(){}:M,V=y.failure,K=V===void 0?function(){}:V,te=y.options,ie=te===void 0?{}:te;if(ln(x)){K({error:Ar("error",0,"No source"),file:null});return}if(!(Mo(x)&&f.options.ignoredFiles.includes(x.name.toLowerCase()))){if(!Qx(f)){if(f.options.allowMultiple||!f.options.allowMultiple&&!f.options.allowReplace){var Y=Ar("warning",0,"Max files");c("DID_THROW_MAX_FILES",{source:x,error:Y}),K({error:Y,file:null});return}var ae=Qr(f.items)[0];if(ae.status===ce.PROCESSING_COMPLETE||ae.status===ce.PROCESSING_REVERT_ERROR){var we=u("GET_FORCE_REVERT");if(ae.revert(Ks(f.options.server.url,f.options.server.revert),we).then(function(){we&&c("ADD_ITEM",{source:x,index:I,interactionMethod:O,success:B,failure:K,options:ie})}).catch(function(){}),we)return}c("REMOVE_ITEM",{query:ae.id})}var De=ie.type==="local"?Ue.LOCAL:ie.type==="limbo"?Ue.LIMBO:Ue.INPUT,de=yE(De,De===Ue.INPUT?null:x,ie.file);Object.keys(ie.metadata||{}).forEach(function(ve){de.setMetadata(ve,ie.metadata[ve])}),zr("DID_CREATE_ITEM",de,{query:u,dispatch:c});var tt=u("GET_ITEM_INSERT_LOCATION");f.options.itemInsertLocationFreedom||(I=tt==="before"?-1:f.items.length),eE(f.items,de,I),cn(tt)&&x&&kf(f,tt);var ge=de.id;de.on("init",function(){c("DID_INIT_ITEM",{id:ge})}),de.on("load-init",function(){c("DID_START_ITEM_LOAD",{id:ge})}),de.on("load-meta",function(){c("DID_UPDATE_ITEM_META",{id:ge})}),de.on("load-progress",function(ve){c("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:ge,progress:ve})}),de.on("load-request-error",function(ve){var Ce=zc(f.options.labelFileLoadError)(ve);if(ve.code>=400&&ve.code<500){c("DID_THROW_ITEM_INVALID",{id:ge,error:ve,status:{main:Ce,sub:ve.code+" ("+ve.body+")"}}),K({error:ve,file:$(de)});return}c("DID_THROW_ITEM_LOAD_ERROR",{id:ge,error:ve,status:{main:Ce,sub:f.options.labelTapToRetry}})}),de.on("load-file-error",function(ve){c("DID_THROW_ITEM_INVALID",{id:ge,error:ve.status,status:ve.status}),K({error:ve.status,file:$(de)})}),de.on("load-abort",function(){c("REMOVE_ITEM",{query:ge})}),de.on("load-skip",function(){de.on("metadata-update",function(ve){Mo(de.file)&&c("DID_UPDATE_ITEM_METADATA",{id:ge,change:ve})}),c("COMPLETE_LOAD_ITEM",{query:ge,item:de,data:{source:x,success:B}})}),de.on("load",function(){var ve=function(ze){if(!ze){c("REMOVE_ITEM",{query:ge});return}de.on("metadata-update",function(jt){c("DID_UPDATE_ITEM_METADATA",{id:ge,change:jt})}),Xt("SHOULD_PREPARE_OUTPUT",!1,{item:de,query:u}).then(function(jt){var Pt=u("GET_BEFORE_PREPARE_FILE");Pt&&(jt=Pt(de,jt));var je=function(){c("COMPLETE_LOAD_ITEM",{query:ge,item:de,data:{source:x,success:B}}),Ff(c,f)};if(jt){c("REQUEST_PREPARE_OUTPUT",{query:ge,item:de,success:function(W){c("DID_PREPARE_OUTPUT",{id:ge,file:W}),je()}},!0);return}je()})};Xt("DID_LOAD_ITEM",de,{query:u,dispatch:c}).then(function(){T0(u("GET_BEFORE_ADD_FILE"),$(de)).then(ve)}).catch(function(Ce){if(!Ce||!Ce.error||!Ce.status)return ve(!1);c("DID_THROW_ITEM_INVALID",{id:ge,error:Ce.error,status:Ce.status})})}),de.on("process-start",function(){c("DID_START_ITEM_PROCESSING",{id:ge})}),de.on("process-progress",function(ve){c("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:ge,progress:ve})}),de.on("process-error",function(ve){c("DID_THROW_ITEM_PROCESSING_ERROR",{id:ge,error:ve,status:{main:zc(f.options.labelFileProcessingError)(ve),sub:f.options.labelTapToRetry}})}),de.on("process-revert-error",function(ve){c("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:ge,error:ve,status:{main:zc(f.options.labelFileProcessingRevertError)(ve),sub:f.options.labelTapToRetry}})}),de.on("process-complete",function(ve){c("DID_COMPLETE_ITEM_PROCESSING",{id:ge,error:null,serverFileReference:ve}),c("DID_DEFINE_VALUE",{id:ge,value:ve})}),de.on("process-abort",function(){c("DID_ABORT_ITEM_PROCESSING",{id:ge})}),de.on("process-revert",function(){c("DID_REVERT_ITEM_PROCESSING",{id:ge}),c("DID_DEFINE_VALUE",{id:ge,value:null})}),c("DID_ADD_ITEM",{id:ge,index:I,interactionMethod:O}),Ff(c,f);var Lt=f.options.server||{},Bt=Lt.url,xe=Lt.load,Pe=Lt.restore,Le=Lt.fetch;de.load(x,dE(De===Ue.INPUT?Wr(x)&&xE(x)&&Le?Nf(Bt,Le):A0:De===Ue.LIMBO?Nf(Bt,Pe):Nf(Bt,xe)),function(ve,Ce,ze){Xt("LOAD_FILE",ve,{query:u}).then(Ce).catch(ze)})}},REQUEST_PREPARE_OUTPUT:function(y){var x=y.item,w=y.success,I=y.failure,O=I===void 0?function(){}:I,M={error:Ar("error",0,"Item not found"),file:null};if(x.archived)return O(M);Xt("PREPARE_OUTPUT",x.file,{query:u,item:x}).then(function(B){Xt("COMPLETE_PREPARE_OUTPUT",B,{query:u,item:x}).then(function(V){if(x.archived)return O(M);w(V)})})},COMPLETE_LOAD_ITEM:function(y){var x=y.item,w=y.data,I=w.success,O=w.source,M=u("GET_ITEM_INSERT_LOCATION");if(cn(M)&&O&&kf(f,M),c("DID_LOAD_ITEM",{id:x.id,error:null,serverFileReference:x.origin===Ue.INPUT?null:O}),I($(x)),x.origin===Ue.LOCAL){c("DID_LOAD_LOCAL_ITEM",{id:x.id});return}if(x.origin===Ue.LIMBO){c("DID_COMPLETE_ITEM_PROCESSING",{id:x.id,error:null,serverFileReference:O}),c("DID_DEFINE_VALUE",{id:x.id,value:x.serverId||O});return}u("IS_ASYNC")&&f.options.instantUpload&&c("REQUEST_ITEM_PROCESSING",{query:x.id})},RETRY_ITEM_LOAD:ki(f,function(m){m.retryLoad()}),REQUEST_ITEM_PREPARE:ki(f,function(m,y,x){c("REQUEST_PREPARE_OUTPUT",{query:m.id,item:m,success:function(I){c("DID_PREPARE_OUTPUT",{id:m.id,file:I}),y({file:m,output:I})},failure:x},!0)}),REQUEST_ITEM_PROCESSING:ki(f,function(m,y,x){var w=m.status===ce.IDLE||m.status===ce.PROCESSING_ERROR;if(!w){var I=function(){return c("REQUEST_ITEM_PROCESSING",{query:m,success:y,failure:x})},O=function(){return document.hidden?I():setTimeout(I,32)};m.status===ce.PROCESSING_COMPLETE||m.status===ce.PROCESSING_REVERT_ERROR?m.revert(Ks(f.options.server.url,f.options.server.revert),u("GET_FORCE_REVERT")).then(O).catch(function(){}):m.status===ce.PROCESSING&&m.abortProcessing().then(O);return}m.status!==ce.PROCESSING_QUEUED&&(m.requestProcessing(),c("DID_REQUEST_ITEM_PROCESSING",{id:m.id}),c("PROCESS_ITEM",{query:m,success:y,failure:x},!0))}),PROCESS_ITEM:ki(f,function(m,y,x){var w=u("GET_MAX_PARALLEL_UPLOADS"),I=u("GET_ITEMS_BY_STATUS",ce.PROCESSING).length;if(I===w){f.processingQueue.push({id:m.id,success:y,failure:x});return}if(m.status!==ce.PROCESSING){var O=function B(){var V=f.processingQueue.shift();if(V){var K=V.id,te=V.success,ie=V.failure,Y=Zi(f.items,K);if(!Y||Y.archived){B();return}c("PROCESS_ITEM",{query:K,success:te,failure:ie},!0)}};m.onOnce("process-complete",function(){y($(m)),O();var B=f.options.server,V=f.options.instantUpload;if(V&&m.origin===Ue.LOCAL&&cn(B.remove)){var K=function(){};m.origin=Ue.LIMBO,f.options.server.remove(m.source,K,K)}var te=u("GET_ITEMS_BY_STATUS",ce.PROCESSING_COMPLETE).length===f.items.length;te&&c("DID_COMPLETE_ITEM_PROCESSING_ALL")}),m.onOnce("process-error",function(B){x({error:B,file:$(m)}),O()});var M=f.options;m.process(gE(pE(M.server.url,M.server.process,M.name,{chunkTransferId:m.transferId,chunkServer:M.server.patch,chunkUploads:M.chunkUploads,chunkForce:M.chunkForce,chunkSize:M.chunkSize,chunkRetryDelays:M.chunkRetryDelays}),{allowMinimumUploadDuration:u("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),function(B,V,K){Xt("PREPARE_OUTPUT",B,{query:u,item:m}).then(function(te){c("DID_PREPARE_OUTPUT",{id:m.id,file:te}),V(te)}).catch(K)})}}),RETRY_ITEM_PROCESSING:ki(f,function(m){c("REQUEST_ITEM_PROCESSING",{query:m})}),REQUEST_REMOVE_ITEM:ki(f,function(m){T0(u("GET_BEFORE_REMOVE_FILE"),$(m)).then(function(y){y&&c("REMOVE_ITEM",{query:m})})}),RELEASE_ITEM:ki(f,function(m){m.release()}),REMOVE_ITEM:ki(f,function(m,y,x,w){var I=function(){var B=m.id;I0(f.items,B).archive(),c("DID_REMOVE_ITEM",{error:null,id:B,item:m}),Ff(c,f),y($(m))},O=f.options.server;m.origin===Ue.LOCAL&&O&&cn(O.remove)&&w.remove!==!1?(c("DID_START_ITEM_REMOVE",{id:m.id}),O.remove(m.source,function(){return I()},function(M){c("DID_THROW_ITEM_REMOVE_ERROR",{id:m.id,error:Ar("error",0,M,null),status:{main:zc(f.options.labelFileRemoveError)(M),sub:f.options.labelTapToRetry}})})):((w.revert&&m.origin!==Ue.LOCAL&&m.serverId!==null||f.options.chunkUploads&&m.file.size>f.options.chunkSize||f.options.chunkUploads&&f.options.chunkForce)&&m.revert(Ks(f.options.server.url,f.options.server.revert),u("GET_FORCE_REVERT")),I())}),ABORT_ITEM_LOAD:ki(f,function(m){m.abortLoad()}),ABORT_ITEM_PROCESSING:ki(f,function(m){if(m.serverId){c("REVERT_ITEM_PROCESSING",{id:m.id});return}m.abortProcessing().then(function(){var y=f.options.instantUpload;y&&c("REMOVE_ITEM",{query:m.id})})}),REQUEST_REVERT_ITEM_PROCESSING:ki(f,function(m){if(!f.options.instantUpload){c("REVERT_ITEM_PROCESSING",{query:m});return}var y=function(O){O&&c("REVERT_ITEM_PROCESSING",{query:m})},x=u("GET_BEFORE_REMOVE_FILE");if(!x)return y(!0);var w=x($(m));if(w==null)return y(!0);if(typeof w=="boolean")return y(w);typeof w.then=="function"&&w.then(y)}),REVERT_ITEM_PROCESSING:ki(f,function(m){m.revert(Ks(f.options.server.url,f.options.server.revert),u("GET_FORCE_REVERT")).then(function(){var y=f.options.instantUpload||EE(m);y&&c("REMOVE_ITEM",{query:m.id})}).catch(function(){})}),SET_OPTIONS:function(y){var x=y.options,w=Object.keys(x),I=CE.filter(function(M){return w.includes(M)}),O=[].concat(So(I),So(Object.keys(x).filter(function(M){return!I.includes(M)})));O.forEach(function(M){c("SET_"+Ca(M,"_").toUpperCase(),{value:x[M]})})}}},CE=["server"],Lf=function(c){return c},An=function(c){return document.createElement(c)},Sr=function(c,u){var f=c.childNodes[0];f?u!==f.nodeValue&&(f.nodeValue=u):(f=document.createTextNode(u),c.appendChild(f))},D0=function(c,u,f,m){var y=(m%360-90)*Math.PI/180;return{x:c+f*Math.cos(y),y:u+f*Math.sin(y)}},IE=function(c,u,f,m,y,x){var w=D0(c,u,f,y),I=D0(c,u,f,m);return["M",w.x,w.y,"A",f,f,0,x,0,I.x,I.y].join(" ")},AE=function(c,u,f,m,y){var x=1;return y>m&&y-m<=.5&&(x=0),m>y&&m-y>=.5&&(x=0),IE(c,u,f,Math.min(.9999,m)*360,Math.min(.9999,y)*360,x)},SE=function(c){var u=c.root,f=c.props;f.spin=!1,f.progress=0,f.opacity=0;var m=h("svg");u.ref.path=h("path",{"stroke-width":2,"stroke-linecap":"round"}),m.appendChild(u.ref.path),u.ref.svg=m,u.appendChild(m)},TE=function(c){var u=c.root,f=c.props;if(f.opacity!==0){f.align&&(u.element.dataset.align=f.align);var m=parseInt(a(u.ref.path,"stroke-width"),10),y=u.rect.element.width*.5,x=0,w=0;f.spin?(x=0,w=.5):(x=0,w=f.progress);var I=AE(y,y,y-m,x,w);a(u.ref.path,"d",I),a(u.ref.path,"stroke-opacity",f.spin||f.progress>0?1:0)}},R0=Ir({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:SE,write:TE,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),DE=function(c){var u=c.root,f=c.props;u.element.innerHTML=(f.icon||"")+("<span>"+f.label+"</span>"),f.isDisabled=!1},RE=function(c){var u=c.root,f=c.props,m=f.isDisabled,y=u.query("GET_DISABLED")||f.opacity===0;y&&!m?(f.isDisabled=!0,a(u.element,"disabled","disabled")):!y&&m&&(f.isDisabled=!1,u.element.removeAttribute("disabled"))},O0=Ir({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:DE,write:RE}),M0=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=m.labelBytes,x=y===void 0?"bytes":y,w=m.labelKilobytes,I=w===void 0?"KB":w,O=m.labelMegabytes,M=O===void 0?"MB":O,B=m.labelGigabytes,V=B===void 0?"GB":B;c=Math.round(Math.abs(c));var K=f,te=f*f,ie=f*f*f;return c<K?c+" "+x:c<te?Math.floor(c/K)+" "+I:c<ie?P0(c/te,1,u)+" "+M:P0(c/ie,2,u)+" "+V},P0=function(c,u,f){return c.toFixed(u).split(".").filter(function(m){return m!=="0"}).join(f)},OE=function(c){var u=c.root,f=c.props,m=An("span");m.className="filepond--file-info-main",a(m,"aria-hidden","true"),u.appendChild(m),u.ref.fileName=m;var y=An("span");y.className="filepond--file-info-sub",u.appendChild(y),u.ref.fileSize=y,Sr(y,u.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Sr(m,Lf(u.query("GET_ITEM_NAME",f.id)))},Bf=function(c){var u=c.root,f=c.props;Sr(u.ref.fileSize,M0(u.query("GET_ITEM_SIZE",f.id),".",u.query("GET_FILE_SIZE_BASE"),u.query("GET_FILE_SIZE_LABELS",u.query))),Sr(u.ref.fileName,Lf(u.query("GET_ITEM_NAME",f.id)))},N0=function(c){var u=c.root,f=c.props;if(xo(u.query("GET_ITEM_SIZE",f.id))){Bf({root:u,props:f});return}Sr(u.ref.fileSize,u.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},ME=Ir({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Kr({DID_LOAD_ITEM:Bf,DID_UPDATE_ITEM_META:Bf,DID_THROW_ITEM_LOAD_ERROR:N0,DID_THROW_ITEM_INVALID:N0}),didCreateView:function(c){zr("CREATE_VIEW",Object.assign({},c,{view:c}))},create:OE,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),F0=function(c){return Math.round(c*100)},PE=function(c){var u=c.root,f=An("span");f.className="filepond--file-status-main",u.appendChild(f),u.ref.main=f;var m=An("span");m.className="filepond--file-status-sub",u.appendChild(m),u.ref.sub=m,k0({root:u,action:{progress:null}})},k0=function(c){var u=c.root,f=c.action,m=f.progress===null?u.query("GET_LABEL_FILE_LOADING"):u.query("GET_LABEL_FILE_LOADING")+" "+F0(f.progress)+"%";Sr(u.ref.main,m),Sr(u.ref.sub,u.query("GET_LABEL_TAP_TO_CANCEL"))},NE=function(c){var u=c.root,f=c.action,m=f.progress===null?u.query("GET_LABEL_FILE_PROCESSING"):u.query("GET_LABEL_FILE_PROCESSING")+" "+F0(f.progress)+"%";Sr(u.ref.main,m),Sr(u.ref.sub,u.query("GET_LABEL_TAP_TO_CANCEL"))},FE=function(c){var u=c.root;Sr(u.ref.main,u.query("GET_LABEL_FILE_PROCESSING")),Sr(u.ref.sub,u.query("GET_LABEL_TAP_TO_CANCEL"))},kE=function(c){var u=c.root;Sr(u.ref.main,u.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Sr(u.ref.sub,u.query("GET_LABEL_TAP_TO_RETRY"))},LE=function(c){var u=c.root;Sr(u.ref.main,u.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Sr(u.ref.sub,u.query("GET_LABEL_TAP_TO_UNDO"))},L0=function(c){var u=c.root;Sr(u.ref.main,""),Sr(u.ref.sub,"")},Qs=function(c){var u=c.root,f=c.action;Sr(u.ref.main,f.status.main),Sr(u.ref.sub,f.status.sub)},BE=Ir({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Kr({DID_LOAD_ITEM:L0,DID_REVERT_ITEM_PROCESSING:L0,DID_REQUEST_ITEM_PROCESSING:FE,DID_ABORT_ITEM_PROCESSING:kE,DID_COMPLETE_ITEM_PROCESSING:LE,DID_UPDATE_ITEM_PROCESS_PROGRESS:NE,DID_UPDATE_ITEM_LOAD_PROGRESS:k0,DID_THROW_ITEM_LOAD_ERROR:Qs,DID_THROW_ITEM_INVALID:Qs,DID_THROW_ITEM_PROCESSING_ERROR:Qs,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Qs,DID_THROW_ITEM_REMOVE_ERROR:Qs}),didCreateView:function(c){zr("CREATE_VIEW",Object.assign({},c,{view:c}))},create:PE,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Vf={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Uf=[];n(Vf,function(v){Uf.push(v)});var Ii=function(c){if(zf(c)==="right")return 0;var u=c.ref.buttonRemoveItem.rect.element;return u.hidden?null:u.width+u.left},VE=function(c){var u=c.ref.buttonAbortItemLoad.rect.element;return u.width},jc=function(c){return Math.floor(c.ref.buttonRemoveItem.rect.element.height/4)},UE=function(c){return Math.floor(c.ref.buttonRemoveItem.rect.element.left/2)},zE=function(c){return c.query("GET_STYLE_LOAD_INDICATOR_POSITION")},jE=function(c){return c.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")},zf=function(c){return c.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},GE={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:zE},processProgressIndicator:{opacity:0,align:jE},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},B0={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Ii},status:{translateX:Ii}},jf={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Fa={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Ii},status:{translateX:Ii,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Ii},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:zf},info:{translateX:Ii},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:zf},buttonRemoveItem:{opacity:1},info:{translateX:Ii},status:{opacity:1,translateX:Ii}},DID_LOAD_ITEM:B0,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Ii},status:{translateX:Ii}},DID_START_ITEM_PROCESSING:jf,DID_REQUEST_ITEM_PROCESSING:jf,DID_UPDATE_ITEM_PROCESS_PROGRESS:jf,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Ii}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Ii},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:B0},HE=Ir({create:function(c){var u=c.root;u.element.innerHTML=u.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),WE=function(c){var u=c.root,f=c.props,m=Object.keys(Vf).reduce(function(we,De){return we[De]=Object.assign({},Vf[De]),we},{}),y=f.id,x=u.query("GET_ALLOW_REVERT"),w=u.query("GET_ALLOW_REMOVE"),I=u.query("GET_ALLOW_PROCESS"),O=u.query("GET_INSTANT_UPLOAD"),M=u.query("IS_ASYNC"),B=u.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN"),V;M?I&&!x?V=function(De){return!/RevertItemProcessing/.test(De)}:!I&&x?V=function(De){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(De)}:!I&&!x&&(V=function(De){return!/Process/.test(De)}):V=function(De){return!/Process/.test(De)};var K=V?Uf.filter(V):Uf.concat();if(O&&x&&(m.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",m.RevertItemProcessing.icon="GET_ICON_REMOVE"),M&&!x){var te=Fa.DID_COMPLETE_ITEM_PROCESSING;te.info.translateX=UE,te.info.translateY=jc,te.status.translateY=jc,te.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(M&&!I&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(function(we){Fa[we].status.translateY=jc}),Fa.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=VE),B&&x){m.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var ie=Fa.DID_COMPLETE_ITEM_PROCESSING;ie.info.translateX=Ii,ie.status.translateY=jc,ie.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}w||(m.RemoveItem.disabled=!0),n(m,function(we,De){var de=u.createChildView(O0,{label:u.query(De.label),icon:u.query(De.icon),opacity:0});K.includes(we)&&u.appendChildView(de),De.disabled&&(de.element.setAttribute("disabled","disabled"),de.element.setAttribute("hidden","hidden")),de.element.dataset.align=u.query("GET_STYLE_"+De.align),de.element.classList.add(De.className),de.on("click",function(tt){tt.stopPropagation(),!De.disabled&&u.dispatch(De.action,{query:y})}),u.ref["button"+we]=de}),u.ref.processingCompleteIndicator=u.appendChildView(u.createChildView(HE)),u.ref.processingCompleteIndicator.element.dataset.align=u.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),u.ref.info=u.appendChildView(u.createChildView(ME,{id:y})),u.ref.status=u.appendChildView(u.createChildView(BE,{id:y}));var Y=u.appendChildView(u.createChildView(R0,{opacity:0,align:u.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));Y.element.classList.add("filepond--load-indicator"),u.ref.loadProgressIndicator=Y;var ae=u.appendChildView(u.createChildView(R0,{opacity:0,align:u.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));ae.element.classList.add("filepond--process-indicator"),u.ref.processProgressIndicator=ae,u.ref.activeStyles=[]},XE=function(c){var u=c.root,f=c.actions,m=c.props;YE({root:u,actions:f,props:m});var y=f.concat().filter(function(w){return/^DID_/.test(w.type)}).reverse().find(function(w){return Fa[w.type]});if(y){u.ref.activeStyles=[];var x=Fa[y.type];n(GE,function(w,I){var O=u.ref[w];n(I,function(M,B){var V=x[w]&&typeof x[w][M]<"u"?x[w][M]:B;u.ref.activeStyles.push({control:O,key:M,value:V})})})}u.ref.activeStyles.forEach(function(w){var I=w.control,O=w.key,M=w.value;I[O]=typeof M=="function"?M(u):M})},YE=Kr({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(c){var u=c.root,f=c.action;u.ref.buttonAbortItemProcessing.label=f.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(c){var u=c.root,f=c.action;u.ref.buttonAbortItemLoad.label=f.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(c){var u=c.root,f=c.action;u.ref.buttonAbortItemRemoval.label=f.value},DID_REQUEST_ITEM_PROCESSING:function(c){var u=c.root;u.ref.processProgressIndicator.spin=!0,u.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(c){var u=c.root;u.ref.loadProgressIndicator.spin=!0,u.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(c){var u=c.root;u.ref.processProgressIndicator.spin=!0,u.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(c){var u=c.root,f=c.action;u.ref.loadProgressIndicator.spin=!1,u.ref.loadProgressIndicator.progress=f.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(c){var u=c.root,f=c.action;u.ref.processProgressIndicator.spin=!1,u.ref.processProgressIndicator.progress=f.progress}}),qE=Ir({create:WE,write:XE,didCreateView:function(c){zr("CREATE_VIEW",Object.assign({},c,{view:c}))},name:"file"}),$E=function(c){var u=c.root,f=c.props;u.ref.fileName=An("legend"),u.appendChild(u.ref.fileName),u.ref.file=u.appendChildView(u.createChildView(qE,{id:f.id})),u.ref.data=!1},ZE=function(c){var u=c.root,f=c.props;Sr(u.ref.fileName,Lf(u.query("GET_ITEM_NAME",f.id)))},KE=Ir({create:$E,ignoreRect:!0,write:Kr({DID_LOAD_ITEM:ZE}),didCreateView:function(c){zr("CREATE_VIEW",Object.assign({},c,{view:c}))},tag:"fieldset",name:"file-wrapper"}),V0={type:"spring",damping:.6,mass:7},QE=function(c){var u=c.root,f=c.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:V0},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:V0},styles:["translateY"]}}].forEach(function(m){JE(u,m,f.name)}),u.element.classList.add("filepond--"+f.name),u.ref.scalable=null},JE=function(c,u,f){var m=Ir({name:"panel-"+u.name+" filepond--"+f,mixins:u.mixins,ignoreRectUpdate:!0}),y=c.createChildView(m,u.props);c.ref[u.name]=c.appendChildView(y)},ew=function(c){var u=c.root,f=c.props;if((u.ref.scalable===null||f.scalable!==u.ref.scalable)&&(u.ref.scalable=xa(f.scalable)?f.scalable:!0,u.element.dataset.scalable=u.ref.scalable),!!f.height){var m=u.ref.top.rect.element,y=u.ref.bottom.rect.element,x=Math.max(m.height+y.height,f.height);u.ref.center.translateY=m.height,u.ref.center.scaleY=(x-m.height-y.height)/100,u.ref.bottom.translateY=x-y.height}},U0=Ir({name:"panel",read:function(c){var u=c.root,f=c.props;return f.heightCurrent=u.ref.bottom.translateY},write:ew,create:QE,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),tw=function(c){var u=c.map(function(m){return m.id}),f=void 0;return{setIndex:function(y){f=y},getIndex:function(){return f},getItemIndex:function(y){return u.indexOf(y.id)}}},z0={type:"spring",stiffness:.75,damping:.45,mass:10},j0="spring",G0={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},rw=function(c){var u=c.root,f=c.props;if(u.ref.handleClick=function(y){return u.dispatch("DID_ACTIVATE_ITEM",{id:f.id})},u.element.id="filepond--item-"+f.id,u.element.addEventListener("click",u.ref.handleClick),u.ref.container=u.appendChildView(u.createChildView(KE,{id:f.id})),u.ref.panel=u.appendChildView(u.createChildView(U0,{name:"item-panel"})),u.ref.panel.height=null,f.markedForRemoval=!1,!!u.query("GET_ALLOW_REORDER")){u.element.dataset.dragState="idle";var m=function(x){if(x.isPrimary){var w=!1,I={x:x.pageX,y:x.pageY};f.dragOrigin={x:u.translateX,y:u.translateY},f.dragCenter={x:x.offsetX,y:x.offsetY};var O=tw(u.query("GET_ACTIVE_ITEMS"));u.dispatch("DID_GRAB_ITEM",{id:f.id,dragState:O});var M=function(ie){if(ie.isPrimary){ie.stopPropagation(),ie.preventDefault(),f.dragOffset={x:ie.pageX-I.x,y:ie.pageY-I.y};var Y=f.dragOffset.x*f.dragOffset.x+f.dragOffset.y*f.dragOffset.y;Y>16&&!w&&(w=!0,u.element.removeEventListener("click",u.ref.handleClick)),u.dispatch("DID_DRAG_ITEM",{id:f.id,dragState:O})}},B=function(ie){ie.isPrimary&&(f.dragOffset={x:ie.pageX-I.x,y:ie.pageY-I.y},K())},V=function(){K()},K=function(){document.removeEventListener("pointercancel",V),document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",B),u.dispatch("DID_DROP_ITEM",{id:f.id,dragState:O}),w&&setTimeout(function(){return u.element.addEventListener("click",u.ref.handleClick)},0)};document.addEventListener("pointercancel",V),document.addEventListener("pointermove",M),document.addEventListener("pointerup",B)}};u.element.addEventListener("pointerdown",m)}},iw=Kr({DID_UPDATE_PANEL_HEIGHT:function(c){var u=c.root,f=c.action;u.height=f.height}}),nw=Kr({DID_GRAB_ITEM:function(c){var u=c.root,f=c.props;f.dragOrigin={x:u.translateX,y:u.translateY}},DID_DRAG_ITEM:function(c){var u=c.root;u.element.dataset.dragState="drag"},DID_DROP_ITEM:function(c){var u=c.root,f=c.props;f.dragOffset=null,f.dragOrigin=null,u.element.dataset.dragState="drop"}},function(v){var c=v.root,u=v.actions,f=v.props,m=v.shouldOptimize;c.element.dataset.dragState==="drop"&&c.scaleX<=1&&(c.element.dataset.dragState="idle");var y=u.concat().filter(function(w){return/^DID_/.test(w.type)}).reverse().find(function(w){return G0[w.type]});y&&y.type!==f.currentState&&(f.currentState=y.type,c.element.dataset.filepondItemState=G0[f.currentState]||"");var x=c.query("GET_ITEM_PANEL_ASPECT_RATIO")||c.query("GET_PANEL_ASPECT_RATIO");x?m||(c.height=c.rect.element.width*x):(iw({root:c,actions:u,props:f}),!c.height&&c.ref.container.rect.element.height>0&&(c.height=c.ref.container.rect.element.height)),m&&(c.ref.panel.height=null),c.ref.panel.height=c.height}),ow=Ir({create:rw,write:nw,destroy:function(c){var u=c.root,f=c.props;u.element.removeEventListener("click",u.ref.handleClick),u.dispatch("RELEASE_ITEM",{query:f.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:j0,scaleY:j0,translateX:z0,translateY:z0,opacity:{type:"tween",duration:150}}}}),Gf=function(v,c){return Math.max(1,Math.floor((v+1)/c))},Hf=function(c,u,f){if(f){var m=c.rect.element.width,y=u.length,x=null;if(y===0||f.top<u[0].rect.element.top)return-1;var w=u[0],I=w.rect.element,O=I.marginLeft+I.marginRight,M=I.width+O,B=Gf(m,M);if(B===1){for(var V=0;V<y;V++){var K=u[V],te=K.rect.outer.top+K.rect.element.height*.5;if(f.top<te)return V}return y}for(var ie=I.marginTop+I.marginBottom,Y=I.height+ie,ae=0;ae<y;ae++){var we=ae%B,De=Math.floor(ae/B),de=we*M,tt=De*Y,ge=tt-I.marginTop,Lt=de+M,Bt=tt+Y+I.marginBottom;if(f.top<Bt&&f.top>ge){if(f.left<Lt)return ae;ae!==y-1?x=ae:x=null}}return x!==null?x:y}},Gc={height:0,width:0,get getHeight(){return this.height},set setHeight(v){(this.height===0||v===0)&&(this.height=v)},get getWidth(){return this.width},set setWidth(v){(this.width===0||v===0)&&(this.width=v)},setDimensions:function(c,u){(this.height===0||c===0)&&(this.height=c),(this.width===0||u===0)&&(this.width=u)}},aw=function(c){var u=c.root;a(u.element,"role","list"),u.ref.lastItemSpanwDate=Date.now()},sw=function(c){var u=c.root,f=c.action,m=f.id,y=f.index,x=f.interactionMethod;u.ref.addIndex=y;var w=Date.now(),I=w,O=1;if(x!==wi.NONE){O=0;var M=u.query("GET_ITEM_INSERT_INTERVAL"),B=w-u.ref.lastItemSpanwDate;I=B<M?w+(M-B):w}u.ref.lastItemSpanwDate=I,u.appendChildView(u.createChildView(ow,{spawnDate:I,id:m,opacity:O,interactionMethod:x}),y)},H0=function(c,u,f){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;c.dragOffset?(c.translateX=null,c.translateY=null,c.translateX=c.dragOrigin.x+c.dragOffset.x,c.translateY=c.dragOrigin.y+c.dragOffset.y,c.scaleX=1.025,c.scaleY=1.025):(c.translateX=u,c.translateY=f,Date.now()>c.spawnDate&&(c.opacity===0&&lw(c,u,f,m,y),c.scaleX=1,c.scaleY=1,c.opacity=1))},lw=function(c,u,f,m,y){c.interactionMethod===wi.NONE?(c.translateX=null,c.translateX=u,c.translateY=null,c.translateY=f):c.interactionMethod===wi.DROP?(c.translateX=null,c.translateX=u-m*20,c.translateY=null,c.translateY=f-y*10,c.scaleX=.8,c.scaleY=.8):c.interactionMethod===wi.BROWSE?(c.translateY=null,c.translateY=f-30):c.interactionMethod===wi.API&&(c.translateX=null,c.translateX=u-30,c.translateY=null)},cw=function(c){var u=c.root,f=c.action,m=f.id,y=u.childViews.find(function(x){return x.id===m});y&&(y.scaleX=.9,y.scaleY=.9,y.opacity=0,y.markedForRemoval=!0)},Wf=function(c){return c.rect.element.height+c.rect.element.marginBottom*.5+c.rect.element.marginTop*.5},uw=function(c){return c.rect.element.width+c.rect.element.marginLeft*.5+c.rect.element.marginRight*.5},dw=function(c){var u=c.root,f=c.action,m=f.id,y=f.dragState,x=u.query("GET_ITEM",{id:m}),w=u.childViews.find(function(we){return we.id===m}),I=u.childViews.length,O=y.getItemIndex(x);if(w){var M={x:w.dragOrigin.x+w.dragOffset.x+w.dragCenter.x,y:w.dragOrigin.y+w.dragOffset.y+w.dragCenter.y},B=Wf(w),V=uw(w),K=Math.floor(u.rect.outer.width/V);K>I&&(K=I);var te=Math.floor(I/K+1);Gc.setHeight=B*te,Gc.setWidth=V*K;var ie={y:Math.floor(M.y/B),x:Math.floor(M.x/V),getGridIndex:function(){return M.y>Gc.getHeight||M.y<0||M.x>Gc.getWidth||M.x<0?O:this.y*K+this.x},getColIndex:function(){for(var De=u.query("GET_ACTIVE_ITEMS"),de=u.childViews.filter(function(ze){return ze.rect.element.height}),tt=De.map(function(ze){return de.find(function(jt){return jt.id===ze.id})}),ge=tt.findIndex(function(ze){return ze===w}),Lt=Wf(w),Bt=tt.length,xe=Bt,Pe=0,Le=0,ve=0,Ce=0;Ce<Bt;Ce++)if(Pe=Wf(tt[Ce]),ve=Le,Le=ve+Pe,M.y<Le){if(ge>Ce){if(M.y<ve+Lt){xe=Ce;break}continue}xe=Ce;break}return xe}},Y=K>1?ie.getGridIndex():ie.getColIndex();u.dispatch("MOVE_ITEM",{query:w,index:Y});var ae=y.getIndex();if(ae===void 0||ae!==Y){if(y.setIndex(Y),ae===void 0)return;u.dispatch("DID_REORDER_ITEMS",{items:u.query("GET_ACTIVE_ITEMS"),origin:O,target:Y})}}},fw=Kr({DID_ADD_ITEM:sw,DID_REMOVE_ITEM:cw,DID_DRAG_ITEM:dw}),hw=function(c){var u=c.root,f=c.props,m=c.actions,y=c.shouldOptimize;fw({root:u,props:f,actions:m});var x=f.dragCoordinates,w=u.rect.element.width,I=u.childViews.filter(function(xe){return xe.rect.element.height}),O=u.query("GET_ACTIVE_ITEMS").map(function(xe){return I.find(function(Pe){return Pe.id===xe.id})}).filter(function(xe){return xe}),M=x?Hf(u,O,x):null,B=u.ref.addIndex||null;u.ref.addIndex=null;var V=0,K=0,te=0;if(O.length!==0){var ie=O[0].rect.element,Y=ie.marginTop+ie.marginBottom,ae=ie.marginLeft+ie.marginRight,we=ie.width+ae,De=ie.height+Y,de=Gf(w,we);if(de===1){var tt=0,ge=0;O.forEach(function(xe,Pe){if(M){var Le=Pe-M;Le===-2?ge=-Y*.25:Le===-1?ge=-Y*.75:Le===0?ge=Y*.75:Le===1?ge=Y*.25:ge=0}y&&(xe.translateX=null,xe.translateY=null),xe.markedForRemoval||H0(xe,0,tt+ge);var ve=xe.rect.element.height+Y,Ce=ve*(xe.markedForRemoval?xe.opacity:1);tt+=Ce})}else{var Lt=0,Bt=0;O.forEach(function(xe,Pe){Pe===M&&(V=1),Pe===B&&(te+=1),xe.markedForRemoval&&xe.opacity<.5&&(K-=1);var Le=Pe+te+V+K,ve=Le%de,Ce=Math.floor(Le/de),ze=ve*we,jt=Ce*De,Pt=Math.sign(ze-Lt),je=Math.sign(jt-Bt);Lt=ze,Bt=jt,!xe.markedForRemoval&&(y&&(xe.translateX=null,xe.translateY=null),H0(xe,ze,jt,Pt,je))})}}},pw=function(c,u){return u.filter(function(f){return f.data&&f.data.id?c.id===f.data.id:!0})},mw=Ir({create:aw,write:hw,tag:"ul",name:"list",didWriteView:function(c){var u=c.root;u.childViews.filter(function(f){return f.markedForRemoval&&f.opacity===0&&f.resting}).forEach(function(f){f._destroy(),u.removeChildView(f)})},filterFrameActionsForChild:pw,mixins:{apis:["dragCoordinates"]}}),gw=function(c){var u=c.root,f=c.props;u.ref.list=u.appendChildView(u.createChildView(mw)),f.dragCoordinates=null,f.overflowing=!1},vw=function(c){var u=c.root,f=c.props,m=c.action;u.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(f.dragCoordinates={left:m.position.scopeLeft-u.ref.list.rect.element.left,top:m.position.scopeTop-(u.rect.outer.top+u.rect.element.marginTop+u.rect.element.scrollTop)})},_w=function(c){var u=c.props;u.dragCoordinates=null},yw=Kr({DID_DRAG:vw,DID_END_DRAG:_w}),bw=function(c){var u=c.root,f=c.props,m=c.actions;if(yw({root:u,props:f,actions:m}),u.ref.list.dragCoordinates=f.dragCoordinates,f.overflowing&&!f.overflow&&(f.overflowing=!1,u.element.dataset.state="",u.height=null),f.overflow){var y=Math.round(f.overflow);y!==u.height&&(f.overflowing=!0,u.element.dataset.state="overflow",u.height=y)}},xw=Ir({create:gw,write:bw,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Ki=function(c,u,f){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";f?a(c,u,m):c.removeAttribute(u)},Ew=function(c){if(!(!c||c.value==="")){try{c.value=""}catch{}if(c.value){var u=An("form"),f=c.parentNode,m=c.nextSibling;u.appendChild(c),u.reset(),m?f.insertBefore(c,m):f.appendChild(c)}}},ww=function(c){var u=c.root,f=c.props;u.element.id="filepond--browser-"+f.id,a(u.element,"name",u.query("GET_NAME")),a(u.element,"aria-controls","filepond--assistant-"+f.id),a(u.element,"aria-labelledby","filepond--drop-label-"+f.id),W0({root:u,action:{value:u.query("GET_ACCEPTED_FILE_TYPES")}}),X0({root:u,action:{value:u.query("GET_ALLOW_MULTIPLE")}}),Y0({root:u,action:{value:u.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Xf({root:u}),q0({root:u,action:{value:u.query("GET_REQUIRED")}}),$0({root:u,action:{value:u.query("GET_CAPTURE_METHOD")}}),u.ref.handleChange=function(m){if(u.element.value){var y=Array.from(u.element.files).map(function(x){return x._relativePath=x.webkitRelativePath,x});setTimeout(function(){f.onload(y),Ew(u.element)},250)}},u.element.addEventListener("change",u.ref.handleChange)},W0=function(c){var u=c.root,f=c.action;u.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Ki(u.element,"accept",!!f.value,f.value?f.value.join(","):"")},X0=function(c){var u=c.root,f=c.action;Ki(u.element,"multiple",f.value)},Y0=function(c){var u=c.root,f=c.action;Ki(u.element,"webkitdirectory",f.value)},Xf=function(c){var u=c.root,f=u.query("GET_DISABLED"),m=u.query("GET_ALLOW_BROWSE"),y=f||!m;Ki(u.element,"disabled",y)},q0=function(c){var u=c.root,f=c.action;f.value?u.query("GET_TOTAL_ITEMS")===0&&Ki(u.element,"required",!0):Ki(u.element,"required",!1)},$0=function(c){var u=c.root,f=c.action;Ki(u.element,"capture",!!f.value,f.value===!0?"":f.value)},Z0=function(c){var u=c.root,f=u.element;if(u.query("GET_TOTAL_ITEMS")>0)Ki(f,"required",!1),Ki(f,"name",!1);else{Ki(f,"name",!0,u.query("GET_NAME"));var m=u.query("GET_CHECK_VALIDITY");m&&f.setCustomValidity(""),u.query("GET_REQUIRED")&&Ki(f,"required",!0)}},Cw=function(c){var u=c.root,f=u.query("GET_CHECK_VALIDITY");f&&u.element.setCustomValidity(u.query("GET_LABEL_INVALID_FIELD"))},Iw=Ir({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:ww,destroy:function(c){var u=c.root;u.element.removeEventListener("change",u.ref.handleChange)},write:Kr({DID_LOAD_ITEM:Z0,DID_REMOVE_ITEM:Z0,DID_THROW_ITEM_INVALID:Cw,DID_SET_DISABLED:Xf,DID_SET_ALLOW_BROWSE:Xf,DID_SET_ALLOW_DIRECTORIES_ONLY:Y0,DID_SET_ALLOW_MULTIPLE:X0,DID_SET_ACCEPTED_FILE_TYPES:W0,DID_SET_CAPTURE_METHOD:$0,DID_SET_REQUIRED:q0})}),K0={ENTER:13,SPACE:32},Aw=function(c){var u=c.root,f=c.props,m=An("label");a(m,"for","filepond--browser-"+f.id),a(m,"id","filepond--drop-label-"+f.id),u.ref.handleKeyDown=function(y){var x=y.keyCode===K0.ENTER||y.keyCode===K0.SPACE;x&&(y.preventDefault(),u.ref.label.click())},u.ref.handleClick=function(y){var x=y.target===m||m.contains(y.target);x||u.ref.label.click()},m.addEventListener("keydown",u.ref.handleKeyDown),u.element.addEventListener("click",u.ref.handleClick),Q0(m,f.caption),u.appendChild(m),u.ref.label=m},Q0=function(c,u){c.innerHTML=u;var f=c.querySelector(".filepond--label-action");return f&&a(f,"tabindex","0"),u},Sw=Ir({name:"drop-label",ignoreRect:!0,create:Aw,destroy:function(c){var u=c.root;u.ref.label.addEventListener("keydown",u.ref.handleKeyDown),u.element.removeEventListener("click",u.ref.handleClick)},write:Kr({DID_SET_LABEL_IDLE:function(c){var u=c.root,f=c.action;Q0(u.ref.label,f.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Tw=Ir({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Dw=function(c){var u=c.root,f=u.rect.element.width*.5,m=u.rect.element.height*.5;u.ref.blob=u.appendChildView(u.createChildView(Tw,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:f,translateY:m}))},Rw=function(c){var u=c.root,f=c.action;if(!u.ref.blob){Dw({root:u});return}u.ref.blob.translateX=f.position.scopeLeft,u.ref.blob.translateY=f.position.scopeTop,u.ref.blob.scaleX=1,u.ref.blob.scaleY=1,u.ref.blob.opacity=1},Ow=function(c){var u=c.root;u.ref.blob&&(u.ref.blob.opacity=0)},Mw=function(c){var u=c.root;u.ref.blob&&(u.ref.blob.scaleX=2.5,u.ref.blob.scaleY=2.5,u.ref.blob.opacity=0)},Pw=function(c){var u=c.root,f=c.props,m=c.actions;Nw({root:u,props:f,actions:m});var y=u.ref.blob;m.length===0&&y&&y.opacity===0&&(u.removeChildView(y),u.ref.blob=null)},Nw=Kr({DID_DRAG:Rw,DID_DROP:Mw,DID_END_DRAG:Ow}),Fw=Ir({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Pw}),J0=function(c,u){try{var f=new DataTransfer;u.forEach(function(m){m instanceof File?f.items.add(m):f.items.add(new File([m],m.name,{type:m.type}))}),c.files=f.files}catch{return!1}return!0},kw=function(c){var u=c.root;return u.ref.fields={}},Hc=function(c,u){return c.ref.fields[u]},Yf=function(c){c.query("GET_ACTIVE_ITEMS").forEach(function(u){c.ref.fields[u.id]&&c.element.appendChild(c.ref.fields[u.id])})},ev=function(c){var u=c.root;return Yf(u)},Lw=function(c){var u=c.root,f=c.action,m=u.query("GET_ITEM",f.id),y=m.origin===Ue.LOCAL,x=!y&&u.query("SHOULD_UPDATE_FILE_INPUT"),w=An("input");w.type=x?"file":"hidden",w.name=u.query("GET_NAME"),u.ref.fields[f.id]=w,Yf(u)},Bw=function(c){var u=c.root,f=c.action,m=Hc(u,f.id);if(m&&(f.serverFileReference!==null&&(m.value=f.serverFileReference),!!u.query("SHOULD_UPDATE_FILE_INPUT"))){var y=u.query("GET_ITEM",f.id);J0(m,[y.file])}},Vw=function(c){var u=c.root,f=c.action;u.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(function(){var m=Hc(u,f.id);m&&J0(m,[f.file])},0)},Uw=function(c){var u=c.root;u.element.disabled=u.query("GET_DISABLED")},zw=function(c){var u=c.root,f=c.action,m=Hc(u,f.id);m&&(m.parentNode&&m.parentNode.removeChild(m),delete u.ref.fields[f.id])},jw=function(c){var u=c.root,f=c.action,m=Hc(u,f.id);m&&(f.value===null?m.removeAttribute("value"):m.type!="file"&&(m.value=f.value),Yf(u))},Gw=Kr({DID_SET_DISABLED:Uw,DID_ADD_ITEM:Lw,DID_LOAD_ITEM:Bw,DID_REMOVE_ITEM:zw,DID_DEFINE_VALUE:jw,DID_PREPARE_OUTPUT:Vw,DID_REORDER_ITEMS:ev,DID_SORT_ITEMS:ev}),Hw=Ir({tag:"fieldset",name:"data",create:kw,write:Gw,ignoreRect:!0}),Ww=function(c){return"getRootNode"in c?c.getRootNode():document},Xw=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Yw=["css","csv","html","txt"],qw={zip:"zip|compressed",epub:"application/epub+zip"},tv=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return c=c.toLowerCase(),Xw.includes(c)?"image/"+(c==="jpg"?"jpeg":c==="svg"?"svg+xml":c):Yw.includes(c)?"text/"+c:qw[c]||""},qf=function(c){return new Promise(function(u,f){var m=rC(c);if(m.length&&!$w(c))return u(m);Zw(c).then(u)})},$w=function(c){return c.files?c.files.length>0:!1},Zw=function(c){return new Promise(function(u,f){var m=(c.items?Array.from(c.items):[]).filter(function(y){return Kw(y)}).map(function(y){return Qw(y)});if(!m.length){u(c.files?Array.from(c.files):[]);return}Promise.all(m).then(function(y){var x=[];y.forEach(function(w){x.push.apply(x,w)}),u(x.filter(function(w){return w}).map(function(w){return w._relativePath||(w._relativePath=w.webkitRelativePath),w}))}).catch(console.error)})},Kw=function(c){if(rv(c)){var u=$f(c);if(u)return u.isFile||u.isDirectory}return c.kind==="file"},Qw=function(c){return new Promise(function(u,f){if(tC(c)){Jw($f(c)).then(u).catch(f);return}u([c.getAsFile()])})},Jw=function(c){return new Promise(function(u,f){var m=[],y=0,x=0,w=function(){x===0&&y===0&&u(m)},I=function O(M){y++;var B=M.createReader(),V=function K(){B.readEntries(function(te){if(te.length===0){y--,w();return}te.forEach(function(ie){ie.isDirectory?O(ie):(x++,ie.file(function(Y){var ae=eC(Y);ie.fullPath&&(ae._relativePath=ie.fullPath),m.push(ae),x--,w()}))}),K()},f)};V()};I(c)})},eC=function(c){if(c.type.length)return c;var u=c.lastModifiedDate,f=c.name,m=tv(Uc(c.name));return m.length&&(c=c.slice(0,c.size,m),c.name=f,c.lastModifiedDate=u),c},tC=function(c){return rv(c)&&($f(c)||{}).isDirectory},rv=function(c){return"webkitGetAsEntry"in c},$f=function(c){return c.webkitGetAsEntry()},rC=function(c){var u=[];try{if(u=nC(c),u.length)return u;u=iC(c)}catch{}return u},iC=function(c){var u=c.getData("url");return typeof u=="string"&&u.length?[u]:[]},nC=function(c){var u=c.getData("text/html");if(typeof u=="string"&&u.length){var f=u.match(/src\s*=\s*"(.+?)"/);if(f)return[f[1]]}return[]},Wc=[],Po=function(c){return{pageLeft:c.pageX,pageTop:c.pageY,scopeLeft:c.offsetX||c.layerX,scopeTop:c.offsetY||c.layerY}},oC=function(c,u,f){var m=aC(u),y={element:c,filterElement:f,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return y.destroy=m.addListener(y),y},aC=function(c){var u=Wc.find(function(m){return m.element===c});if(u)return u;var f=sC(c);return Wc.push(f),f},sC=function(c){var u=[],f={dragenter:cC,dragover:uC,dragleave:fC,drop:dC},m={};n(f,function(x,w){m[x]=w(c,u),c.addEventListener(x,m[x],!1)});var y={element:c,addListener:function(w){return u.push(w),function(){u.splice(u.indexOf(w),1),u.length===0&&(Wc.splice(Wc.indexOf(y),1),n(f,function(I){c.removeEventListener(I,m[I],!1)}))}}};return y},lC=function(c,u){return"elementFromPoint"in c||(c=document),c.elementFromPoint(u.x,u.y)},Zf=function(c,u){var f=Ww(u),m=lC(f,{x:c.pageX-window.pageXOffset,y:c.pageY-window.pageYOffset});return m===u||u.contains(m)},iv=null,Xc=function(c,u){try{c.dropEffect=u}catch{}},cC=function(c,u){return function(f){f.preventDefault(),iv=f.target,u.forEach(function(m){var y=m.element,x=m.onenter;Zf(f,y)&&(m.state="enter",x(Po(f)))})}},uC=function(c,u){return function(f){f.preventDefault();var m=f.dataTransfer;qf(m).then(function(y){var x=!1;u.some(function(w){var I=w.filterElement,O=w.element,M=w.onenter,B=w.onexit,V=w.ondrag,K=w.allowdrop;Xc(m,"copy");var te=K(y);if(!te){Xc(m,"none");return}if(Zf(f,O)){if(x=!0,w.state===null){w.state="enter",M(Po(f));return}if(w.state="over",I&&!te){Xc(m,"none");return}V(Po(f))}else I&&!x&&Xc(m,"none"),w.state&&(w.state=null,B(Po(f)))})})}},dC=function(c,u){return function(f){f.preventDefault();var m=f.dataTransfer;qf(m).then(function(y){u.forEach(function(x){var w=x.filterElement,I=x.element,O=x.ondrop,M=x.onexit,B=x.allowdrop;if(x.state=null,!(w&&!Zf(f,I))){if(!B(y))return M(Po(f));O(Po(f),y)}})})}},fC=function(c,u){return function(f){iv===f.target&&u.forEach(function(m){var y=m.onexit;m.state=null,y(Po(f))})}},hC=function(c,u,f){c.classList.add("filepond--hopper");var m=f.catchesDropsOnPage,y=f.requiresDropOnElement,x=f.filterItems,w=x===void 0?function(V){return V}:x,I=oC(c,m?document.documentElement:c,y),O="",M="";I.allowdrop=function(V){return u(w(V))},I.ondrop=function(V,K){var te=w(K);if(!u(te)){B.ondragend(V);return}M="drag-drop",B.onload(te,V)},I.ondrag=function(V){B.ondrag(V)},I.onenter=function(V){M="drag-over",B.ondragstart(V)},I.onexit=function(V){M="drag-exit",B.ondragend(V)};var B={updateHopperState:function(){O!==M&&(c.dataset.hopperState=M,O=M)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){I.destroy()}};return B},Kf=!1,ka=[],nv=function(c){var u=document.activeElement,f=u&&(/textarea|input/i.test(u.nodeName)||u.getAttribute("contenteditable")==="true");if(f){for(var m=!1,y=u;y!==document.body;){if(y.classList.contains("filepond--root")){m=!0;break}y=y.parentNode}if(!m)return}qf(c.clipboardData).then(function(x){x.length&&ka.forEach(function(w){return w(x)})})},pC=function(c){ka.includes(c)||(ka.push(c),!Kf&&(Kf=!0,document.addEventListener("paste",nv)))},mC=function(c){ur(ka,ka.indexOf(c)),ka.length===0&&(document.removeEventListener("paste",nv),Kf=!1)},gC=function(){var c=function(m){u.onload(m)},u={destroy:function(){mC(c)},onload:function(){}};return pC(c),u},vC=function(c){var u=c.root,f=c.props;u.element.id="filepond--assistant-"+f.id,a(u.element,"role","alert"),a(u.element,"aria-live","polite"),a(u.element,"aria-relevant","additions")},ov=null,av=null,Qf=[],Yc=function(c,u){c.element.textContent=u},_C=function(c){c.element.textContent=""},sv=function(c,u,f){var m=c.query("GET_TOTAL_ITEMS");Yc(c,f+" "+u+", "+m+" "+(m===1?c.query("GET_LABEL_FILE_COUNT_SINGULAR"):c.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(av),av=setTimeout(function(){_C(c)},1500)},lv=function(c){return c.element.parentNode.contains(document.activeElement)},yC=function(c){var u=c.root,f=c.action;if(lv(u)){u.element.textContent="";var m=u.query("GET_ITEM",f.id);Qf.push(m.filename),clearTimeout(ov),ov=setTimeout(function(){sv(u,Qf.join(", "),u.query("GET_LABEL_FILE_ADDED")),Qf.length=0},750)}},bC=function(c){var u=c.root,f=c.action;if(lv(u)){var m=f.item;sv(u,m.filename,u.query("GET_LABEL_FILE_REMOVED"))}},xC=function(c){var u=c.root,f=c.action,m=u.query("GET_ITEM",f.id),y=m.filename,x=u.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Yc(u,y+" "+x)},cv=function(c){var u=c.root,f=c.action,m=u.query("GET_ITEM",f.id),y=m.filename,x=u.query("GET_LABEL_FILE_PROCESSING_ABORTED");Yc(u,y+" "+x)},qc=function(c){var u=c.root,f=c.action,m=u.query("GET_ITEM",f.id),y=m.filename;Yc(u,f.status.main+" "+y+" "+f.status.sub)},EC=Ir({create:vC,ignoreRect:!0,ignoreRectUpdate:!0,write:Kr({DID_LOAD_ITEM:yC,DID_REMOVE_ITEM:bC,DID_COMPLETE_ITEM_PROCESSING:xC,DID_ABORT_ITEM_PROCESSING:cv,DID_REVERT_ITEM_PROCESSING:cv,DID_THROW_ITEM_REMOVE_ERROR:qc,DID_THROW_ITEM_LOAD_ERROR:qc,DID_THROW_ITEM_INVALID:qc,DID_THROW_ITEM_PROCESSING_ERROR:qc}),tag:"span",name:"assistant"}),uv=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return c.replace(new RegExp(u+".","g"),function(f){return f.charAt(1).toUpperCase()})},dv=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,m=Date.now(),y=null;return function(){for(var x=arguments.length,w=new Array(x),I=0;I<x;I++)w[I]=arguments[I];clearTimeout(y);var O=Date.now()-m,M=function(){m=Date.now(),c.apply(void 0,w)};O<u?f||(y=setTimeout(M,u-O)):M()}},wC=1e6,$c=function(c){return c.preventDefault()},CC=function(c){var u=c.root,f=c.props,m=u.query("GET_ID");m&&(u.element.id=m);var y=u.query("GET_CLASS_NAME");y&&y.split(" ").filter(function(B){return B.length}).forEach(function(B){u.element.classList.add(B)}),u.ref.label=u.appendChildView(u.createChildView(Sw,Object.assign({},f,{translateY:null,caption:u.query("GET_LABEL_IDLE")}))),u.ref.list=u.appendChildView(u.createChildView(xw,{translateY:null})),u.ref.panel=u.appendChildView(u.createChildView(U0,{name:"panel-root"})),u.ref.assistant=u.appendChildView(u.createChildView(EC,Object.assign({},f))),u.ref.data=u.appendChildView(u.createChildView(Hw,Object.assign({},f))),u.ref.measure=An("div"),u.ref.measure.style.height="100%",u.element.appendChild(u.ref.measure),u.ref.bounds=null,u.query("GET_STYLES").filter(function(B){return!ln(B.value)}).map(function(B){var V=B.name,K=B.value;u.element.dataset[V]=K}),u.ref.widthPrevious=null,u.ref.widthUpdated=dv(function(){u.ref.updateHistory=[],u.dispatch("DID_RESIZE_ROOT")},250),u.ref.previousAspectRatio=null,u.ref.updateHistory=[];var x=window.matchMedia("(pointer: fine) and (hover: hover)").matches,w="PointerEvent"in window;u.query("GET_ALLOW_REORDER")&&w&&!x&&(u.element.addEventListener("touchmove",$c,{passive:!1}),u.element.addEventListener("gesturestart",$c));var I=u.query("GET_CREDITS"),O=I.length===2;if(O){var M=document.createElement("a");M.className="filepond--credits",M.href=I[0],M.tabIndex=-1,M.target="_blank",M.rel="noopener noreferrer",M.textContent=I[1],u.element.appendChild(M),u.ref.credits=M}},IC=function(c){var u=c.root,f=c.props,m=c.actions;if(RC({root:u,props:f,actions:m}),m.filter(function(Dt){return/^DID_SET_STYLE_/.test(Dt.type)}).filter(function(Dt){return!ln(Dt.data.value)}).map(function(Dt){var dr=Dt.type,br=Dt.data,La=uv(dr.substring(8).toLowerCase(),"_");u.element.dataset[La]=br.value,u.invalidateLayout()}),!u.rect.element.hidden){u.rect.element.width!==u.ref.widthPrevious&&(u.ref.widthPrevious=u.rect.element.width,u.ref.widthUpdated());var y=u.ref.bounds;y||(y=u.ref.bounds=TC(u),u.element.removeChild(u.ref.measure),u.ref.measure=null);var x=u.ref,w=x.hopper,I=x.label,O=x.list,M=x.panel;w&&w.updateHopperState();var B=u.query("GET_PANEL_ASPECT_RATIO"),V=u.query("GET_ALLOW_MULTIPLE"),K=u.query("GET_TOTAL_ITEMS"),te=V?u.query("GET_MAX_FILES")||wC:1,ie=K===te,Y=m.find(function(Dt){return Dt.type==="DID_ADD_ITEM"});if(ie&&Y){var ae=Y.data.interactionMethod;I.opacity=0,V?I.translateY=-40:ae===wi.API?I.translateX=40:ae===wi.BROWSE?I.translateY=40:I.translateY=30}else ie||(I.opacity=1,I.translateX=0,I.translateY=0);var we=AC(u),De=SC(u),de=I.rect.element.height,tt=!V||ie?0:de,ge=ie?O.rect.element.marginTop:0,Lt=K===0?0:O.rect.element.marginBottom,Bt=tt+ge+De.visual+Lt,xe=tt+ge+De.bounds+Lt;if(O.translateY=Math.max(0,tt-O.rect.element.marginTop)-we.top,B){var Pe=u.rect.element.width,Le=Pe*B;B!==u.ref.previousAspectRatio&&(u.ref.previousAspectRatio=B,u.ref.updateHistory=[]);var ve=u.ref.updateHistory;ve.push(Pe);var Ce=2;if(ve.length>Ce*2){for(var ze=ve.length,jt=ze-10,Pt=0,je=ze;je>=jt;je--)if(ve[je]===ve[je-2]&&Pt++,Pt>=Ce)return}M.scalable=!1,M.height=Le;var ne=Le-tt-(Lt-we.bottom)-(ie?ge:0);De.visual>ne?O.overflow=ne:O.overflow=null,u.height=Le}else if(y.fixedHeight){M.scalable=!1;var W=y.fixedHeight-tt-(Lt-we.bottom)-(ie?ge:0);De.visual>W?O.overflow=W:O.overflow=null}else if(y.cappedHeight){var Se=Bt>=y.cappedHeight,Qe=Math.min(y.cappedHeight,Bt);M.scalable=!0,M.height=Se?Qe:Qe-we.top-we.bottom;var lt=Qe-tt-(Lt-we.bottom)-(ie?ge:0);Bt>y.cappedHeight&&De.visual>lt?O.overflow=lt:O.overflow=null,u.height=Math.min(y.cappedHeight,xe-we.top-we.bottom)}else{var wt=K>0?we.top+we.bottom:0;M.scalable=!0,M.height=Math.max(de,Bt-wt),u.height=Math.max(de,xe-wt)}u.ref.credits&&M.heightCurrent&&(u.ref.credits.style.transform="translateY("+M.heightCurrent+"px)")}},AC=function(c){var u=c.ref.list.childViews[0].childViews[0];return u?{top:u.rect.element.marginTop,bottom:u.rect.element.marginBottom}:{top:0,bottom:0}},SC=function(c){var u=0,f=0,m=c.ref.list,y=m.childViews[0],x=y.childViews.filter(function(De){return De.rect.element.height}),w=c.query("GET_ACTIVE_ITEMS").map(function(De){return x.find(function(de){return de.id===De.id})}).filter(function(De){return De});if(w.length===0)return{visual:u,bounds:f};var I=y.rect.element.width,O=Hf(y,w,m.dragCoordinates),M=w[0].rect.element,B=M.marginTop+M.marginBottom,V=M.marginLeft+M.marginRight,K=M.width+V,te=M.height+B,ie=typeof O<"u"&&O>=0?1:0,Y=w.find(function(De){return De.markedForRemoval&&De.opacity<.45})?-1:0,ae=w.length+ie+Y,we=Gf(I,K);return we===1?w.forEach(function(De){var de=De.rect.element.height+B;f+=de,u+=de*De.opacity}):(f=Math.ceil(ae/we)*te,u=f),{visual:u,bounds:f}},TC=function(c){var u=c.ref.measureHeight||null,f=parseInt(c.style.maxHeight,10)||null,m=u===0?null:u;return{cappedHeight:f,fixedHeight:m}},Jf=function(c,u){var f=c.query("GET_ALLOW_REPLACE"),m=c.query("GET_ALLOW_MULTIPLE"),y=c.query("GET_TOTAL_ITEMS"),x=c.query("GET_MAX_FILES"),w=u.length;if(!m&&w>1)return c.dispatch("DID_THROW_MAX_FILES",{source:u,error:Ar("warning",0,"Max files")}),!0;if(x=m?x:1,!m&&f)return!1;var I=xo(x);return I&&y+w>x?(c.dispatch("DID_THROW_MAX_FILES",{source:u,error:Ar("warning",0,"Max files")}),!0):!1},DC=function(c,u,f){var m=c.childViews[0];return Hf(m,u,{left:f.scopeLeft-m.rect.element.left,top:f.scopeTop-(c.rect.outer.top+c.rect.element.marginTop+c.rect.element.scrollTop)})},fv=function(c){var u=c.query("GET_ALLOW_DROP"),f=c.query("GET_DISABLED"),m=u&&!f;if(m&&!c.ref.hopper){var y=hC(c.element,function(x){var w=c.query("GET_BEFORE_DROP_FILE")||function(){return!0},I=c.query("GET_DROP_VALIDATION");return I?x.every(function(O){return zr("ALLOW_HOPPER_ITEM",O,{query:c.query}).every(function(M){return M===!0})&&w(O)}):!0},{filterItems:function(w){var I=c.query("GET_IGNORED_FILES");return w.filter(function(O){return Mo(O)?!I.includes(O.name.toLowerCase()):!0})},catchesDropsOnPage:c.query("GET_DROP_ON_PAGE"),requiresDropOnElement:c.query("GET_DROP_ON_ELEMENT")});y.onload=function(x,w){var I=c.ref.list.childViews[0],O=I.childViews.filter(function(B){return B.rect.element.height}),M=c.query("GET_ACTIVE_ITEMS").map(function(B){return O.find(function(V){return V.id===B.id})}).filter(function(B){return B});Xt("ADD_ITEMS",x,{dispatch:c.dispatch}).then(function(B){if(Jf(c,B))return!1;c.dispatch("ADD_ITEMS",{items:B,index:DC(c.ref.list,M,w),interactionMethod:wi.DROP})}),c.dispatch("DID_DROP",{position:w}),c.dispatch("DID_END_DRAG",{position:w})},y.ondragstart=function(x){c.dispatch("DID_START_DRAG",{position:x})},y.ondrag=dv(function(x){c.dispatch("DID_DRAG",{position:x})}),y.ondragend=function(x){c.dispatch("DID_END_DRAG",{position:x})},c.ref.hopper=y,c.ref.drip=c.appendChildView(c.createChildView(Fw))}else!m&&c.ref.hopper&&(c.ref.hopper.destroy(),c.ref.hopper=null,c.removeChildView(c.ref.drip))},hv=function(c,u){var f=c.query("GET_ALLOW_BROWSE"),m=c.query("GET_DISABLED"),y=f&&!m;y&&!c.ref.browser?c.ref.browser=c.appendChildView(c.createChildView(Iw,Object.assign({},u,{onload:function(w){Xt("ADD_ITEMS",w,{dispatch:c.dispatch}).then(function(I){if(Jf(c,I))return!1;c.dispatch("ADD_ITEMS",{items:I,index:-1,interactionMethod:wi.BROWSE})})}})),0):!y&&c.ref.browser&&(c.removeChildView(c.ref.browser),c.ref.browser=null)},pv=function(c){var u=c.query("GET_ALLOW_PASTE"),f=c.query("GET_DISABLED"),m=u&&!f;m&&!c.ref.paster?(c.ref.paster=gC(),c.ref.paster.onload=function(y){Xt("ADD_ITEMS",y,{dispatch:c.dispatch}).then(function(x){if(Jf(c,x))return!1;c.dispatch("ADD_ITEMS",{items:x,index:-1,interactionMethod:wi.PASTE})})}):!m&&c.ref.paster&&(c.ref.paster.destroy(),c.ref.paster=null)},RC=Kr({DID_SET_ALLOW_BROWSE:function(c){var u=c.root,f=c.props;hv(u,f)},DID_SET_ALLOW_DROP:function(c){var u=c.root;fv(u)},DID_SET_ALLOW_PASTE:function(c){var u=c.root;pv(u)},DID_SET_DISABLED:function(c){var u=c.root,f=c.props;fv(u),pv(u),hv(u,f);var m=u.query("GET_DISABLED");m?u.element.dataset.disabled="disabled":u.element.removeAttribute("data-disabled")}}),OC=Ir({name:"root",read:function(c){var u=c.root;u.ref.measure&&(u.ref.measureHeight=u.ref.measure.offsetHeight)},create:CC,write:IC,destroy:function(c){var u=c.root;u.ref.paster&&u.ref.paster.destroy(),u.ref.hopper&&u.ref.hopper.destroy(),u.element.removeEventListener("touchmove",$c),u.element.removeEventListener("gesturestart",$c)},mixins:{styles:["height"]}}),MC=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=null,f=Ni(),m=t(hf(f),[Kx,Sc(f)],[wE,Ac(f)]);m.dispatch("SET_OPTIONS",{options:c});var y=function(){document.hidden||m.dispatch("KICK")};document.addEventListener("visibilitychange",y);var x=null,w=!1,I=!1,O=null,M=null,B=function(){w||(w=!0),clearTimeout(x),x=setTimeout(function(){w=!1,O=null,M=null,I&&(I=!1,m.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",B);var V=OC(m,{id:Tc()}),K=!1,te=!1,ie={_read:function(){w&&(M=window.innerWidth,O||(O=M),!I&&M!==O&&(m.dispatch("DID_START_RESIZE"),I=!0)),te&&K&&(K=V.element.offsetParent===null),!K&&(V._read(),te=V.rect.element.hidden)},_write:function(ne){var W=m.processActionQueue().filter(function(Se){return!/^SET_/.test(Se.type)});K&&!W.length||(De(W),K=V._write(ne,W,I),fe(m.query("GET_ITEMS")),K&&m.processDispatchQueue())}},Y=function(ne){return function(W){var Se={type:ne};if(!W)return Se;if(W.hasOwnProperty("error")&&(Se.error=W.error?Object.assign({},W.error):null),W.status&&(Se.status=Object.assign({},W.status)),W.file&&(Se.output=W.file),W.source)Se.file=W.source;else if(W.item||W.id){var Qe=W.item?W.item:m.query("GET_ITEM",W.id);Se.file=Qe?$(Qe):null}return W.items&&(Se.items=W.items.map($)),/progress/.test(ne)&&(Se.progress=W.progress),W.hasOwnProperty("origin")&&W.hasOwnProperty("target")&&(Se.origin=W.origin,Se.target=W.target),Se}},ae={DID_DESTROY:Y("destroy"),DID_INIT:Y("init"),DID_THROW_MAX_FILES:Y("warning"),DID_INIT_ITEM:Y("initfile"),DID_START_ITEM_LOAD:Y("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:Y("addfileprogress"),DID_LOAD_ITEM:Y("addfile"),DID_THROW_ITEM_INVALID:[Y("error"),Y("addfile")],DID_THROW_ITEM_LOAD_ERROR:[Y("error"),Y("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[Y("error"),Y("removefile")],DID_PREPARE_OUTPUT:Y("preparefile"),DID_START_ITEM_PROCESSING:Y("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:Y("processfileprogress"),DID_ABORT_ITEM_PROCESSING:Y("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:Y("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:Y("processfiles"),DID_REVERT_ITEM_PROCESSING:Y("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[Y("error"),Y("processfile")],DID_REMOVE_ITEM:Y("removefile"),DID_UPDATE_ITEMS:Y("updatefiles"),DID_ACTIVATE_ITEM:Y("activatefile"),DID_REORDER_ITEMS:Y("reorderfiles")},we=function(ne){var W=Object.assign({pond:Pt},ne);delete W.type,V.element.dispatchEvent(new CustomEvent("FilePond:"+ne.type,{detail:W,bubbles:!0,cancelable:!0,composed:!0}));var Se=[];ne.hasOwnProperty("error")&&Se.push(ne.error),ne.hasOwnProperty("file")&&Se.push(ne.file);var Qe=["type","error","file"];Object.keys(ne).filter(function(wt){return!Qe.includes(wt)}).forEach(function(wt){return Se.push(ne[wt])}),Pt.fire.apply(Pt,[ne.type].concat(Se));var lt=m.query("GET_ON"+ne.type.toUpperCase());lt&&lt.apply(void 0,Se)},De=function(ne){ne.length&&ne.filter(function(W){return ae[W.type]}).forEach(function(W){var Se=ae[W.type];(Array.isArray(Se)?Se:[Se]).forEach(function(Qe){W.type==="DID_INIT_ITEM"?we(Qe(W.data)):setTimeout(function(){we(Qe(W.data))},0)})})},de=function(ne){return m.dispatch("SET_OPTIONS",{options:ne})},tt=function(ne){return m.query("GET_ACTIVE_ITEM",ne)},ge=function(ne){return new Promise(function(W,Se){m.dispatch("REQUEST_ITEM_PREPARE",{query:ne,success:function(lt){W(lt)},failure:function(lt){Se(lt)}})})},Lt=function(ne){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(Se,Qe){Pe([{source:ne,options:W}],{index:W.index}).then(function(lt){return Se(lt&&lt[0])}).catch(Qe)})},Bt=function(ne){return ne.file&&ne.id},xe=function(ne,W){return typeof ne=="object"&&!Bt(ne)&&!W&&(W=ne,ne=void 0),m.dispatch("REMOVE_ITEM",Object.assign({},W,{query:ne})),m.query("GET_ACTIVE_ITEM",ne)===null},Pe=function(){for(var ne=arguments.length,W=new Array(ne),Se=0;Se<ne;Se++)W[Se]=arguments[Se];return new Promise(function(Qe,lt){var wt=[],Dt={};if(bo(W[0]))wt.push.apply(wt,W[0]),Object.assign(Dt,W[1]||{});else{var dr=W[W.length-1];typeof dr=="object"&&!(dr instanceof Blob)&&Object.assign(Dt,W.pop()),wt.push.apply(wt,W)}m.dispatch("ADD_ITEMS",{items:wt,index:Dt.index,interactionMethod:wi.API,success:Qe,failure:lt})})},Le=function(){return m.query("GET_ACTIVE_ITEMS")},ve=function(ne){return new Promise(function(W,Se){m.dispatch("REQUEST_ITEM_PROCESSING",{query:ne,success:function(lt){W(lt)},failure:function(lt){Se(lt)}})})},Ce=function(){for(var ne=arguments.length,W=new Array(ne),Se=0;Se<ne;Se++)W[Se]=arguments[Se];var Qe=Array.isArray(W[0])?W[0]:W,lt=Qe.length?Qe:Le();return Promise.all(lt.map(ge))},ze=function(){for(var ne=arguments.length,W=new Array(ne),Se=0;Se<ne;Se++)W[Se]=arguments[Se];var Qe=Array.isArray(W[0])?W[0]:W;if(!Qe.length){var lt=Le().filter(function(wt){return!(wt.status===ce.IDLE&&wt.origin===Ue.LOCAL)&&wt.status!==ce.PROCESSING&&wt.status!==ce.PROCESSING_COMPLETE&&wt.status!==ce.PROCESSING_REVERT_ERROR});return Promise.all(lt.map(ve))}return Promise.all(Qe.map(ve))},jt=function(){for(var ne=arguments.length,W=new Array(ne),Se=0;Se<ne;Se++)W[Se]=arguments[Se];var Qe=Array.isArray(W[0])?W[0]:W,lt;typeof Qe[Qe.length-1]=="object"?lt=Qe.pop():Array.isArray(W[0])&&(lt=W[1]);var wt=Le();if(!Qe.length)return Promise.all(wt.map(function(dr){return xe(dr,lt)}));var Dt=Qe.map(function(dr){return X(dr)?wt[dr]?wt[dr].id:null:dr}).filter(function(dr){return dr});return Dt.map(function(dr){return xe(dr,lt)})},Pt=Object.assign({},Xe(),{},ie,{},Eo(m,f),{setOptions:de,addFile:Lt,addFiles:Pe,getFile:tt,processFile:ve,prepareFile:ge,removeFile:xe,moveFile:function(ne,W){return m.dispatch("MOVE_ITEM",{query:ne,index:W})},getFiles:Le,processFiles:ze,removeFiles:jt,prepareFiles:Ce,sort:function(ne){return m.dispatch("SORT",{compare:ne})},browse:function(){var ne=V.element.querySelector("input[type=file]");ne&&ne.click()},destroy:function(){Pt.fire("destroy",V.element),m.dispatch("ABORT_ALL"),V._destroy(),window.removeEventListener("resize",B),document.removeEventListener("visibilitychange",y),m.dispatch("DID_DESTROY")},insertBefore:function(ne){return af(V.element,ne)},insertAfter:function(ne){return xc(V.element,ne)},appendTo:function(ne){return ne.appendChild(V.element)},replaceElement:function(ne){af(V.element,ne),ne.parentNode.removeChild(ne),u=ne},restoreElement:function(){u&&(xc(u,V.element),V.element.parentNode.removeChild(V.element),u=null)},isAttachedTo:function(ne){return V.element===ne||u===ne},element:{get:function(){return V.element}},status:{get:function(){return m.query("GET_STATUS")}}});return m.dispatch("DID_INIT"),o(Pt)},mv=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u={};n(Ni(),function(m,y){u[m]=y[0]});var f=MC(Object.assign({},u,{},c));return f},PC=function(c){return c.charAt(0).toLowerCase()+c.slice(1)},NC=function(c){return uv(c.replace(/^data-/,""))},FC=function v(c,u){n(u,function(f,m){n(c,function(y,x){var w=new RegExp(f),I=w.test(y);if(I&&(delete c[y],m!==!1)){if(Wr(m)){c[m]=x;return}var O=m.group;kr(m)&&!c[O]&&(c[O]={}),c[O][PC(y.replace(w,""))]=x}}),m.mapping&&v(c[m.group],m.mapping)})},kC=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=[];n(c.attributes,function(y){f.push(c.attributes[y])});var m=f.filter(function(y){return y.name}).reduce(function(y,x){var w=a(c,x.name);return y[NC(x.name)]=w===x.name?!0:w,y},{});return FC(m,u),m},LC=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};zr("SET_ATTRIBUTE_TO_OPTION_MAP",f);var m=Object.assign({},u),y=kC(c.nodeName==="FIELDSET"?c.querySelector("input[type=file]"):c,f);Object.keys(y).forEach(function(w){kr(y[w])?(kr(m[w])||(m[w]={}),Object.assign(m[w],y[w])):m[w]=y[w]}),m.files=(u.files||[]).concat(Array.from(c.querySelectorAll("input:not([type=file])")).map(function(w){return{source:w.value,options:{type:w.dataset.type}}}));var x=mv(m);return c.files&&Array.from(c.files).forEach(function(w){x.addFile(w)}),x.replaceElement(c),x},BC=function(){return e(arguments.length<=0?void 0:arguments[0])?LC.apply(void 0,arguments):mv.apply(void 0,arguments)},VC=["fire","_read","_write"],gv=function(c){var u={};return He(c,u,VC),u},UC=function(c,u){return c.replace(/(?:{([a-zA-Z]+)})/g,function(f,m){return u[m]})},zC=function(c){var u=new Blob(["(",c.toString(),")()"],{type:"application/javascript"}),f=URL.createObjectURL(u),m=new Worker(f);return{transfer:function(x,w){},post:function(x,w,I){var O=Tc();m.onmessage=function(M){M.data.id===O&&w(M.data.message)},m.postMessage({id:O,message:x},I)},terminate:function(){m.terminate(),URL.revokeObjectURL(f)}}},jC=function(c){return new Promise(function(u,f){var m=new Image;m.onload=function(){u(m)},m.onerror=function(y){f(y)},m.src=c})},vv=function(c,u){var f=c.slice(0,c.size,c.type);return f.lastModifiedDate=c.lastModifiedDate,f.name=u,f},GC=function(c){return vv(c,c.name)},_v=[],HC=function(c){if(!_v.includes(c)){_v.push(c);var u=c({addFilter:qn,utils:{Type:q,forin:n,isString:Wr,isFile:Mo,toNaturalFileSize:M0,replaceInString:UC,getExtensionFromFilename:Uc,getFilenameWithoutExtension:C0,guesstimateMimeType:tv,getFileFromBlob:Na,getFilenameFromURL:qs,createRoute:Kr,createWorker:zC,createView:Ir,createItemAPI:$,loadImage:jC,copyFile:GC,renameFile:vv,createBlob:y0,applyFilterChain:Xt,text:Sr,getNumericAspectRatioFromString:To},views:{fileActionButton:O0}});un(u.options)}},WC=function(){return Object.prototype.toString.call(window.operamini)==="[object OperaMini]"},XC=function(){return"Promise"in window},YC=function(){return"slice"in Blob.prototype},qC=function(){return"URL"in window&&"createObjectURL"in window.URL},$C=function(){return"visibilityState"in document},ZC=function(){return"performance"in window},KC=function(){return"supports"in(window.CSS||{})},QC=function(){return/MSIE|Trident/.test(window.navigator.userAgent)},eh=function(){var v=A()&&!WC()&&$C()&&XC()&&YC()&&qC()&&ZC()&&(KC()||QC());return function(){return v}}(),$n={apps:[]},JC="filepond",No=function(){};if(i.Status={},i.FileStatus={},i.FileOrigin={},i.OptionTypes={},i.create=No,i.destroy=No,i.parse=No,i.find=No,i.registerPlugin=No,i.getOptions=No,i.setOptions=No,eh()){Lg(function(){$n.apps.forEach(function(v){return v._read()})},function(v){$n.apps.forEach(function(c){return c._write(v)})});var yv=function v(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:eh,create:i.create,destroy:i.destroy,parse:i.parse,find:i.find,registerPlugin:i.registerPlugin,setOptions:i.setOptions}})),document.removeEventListener("DOMContentLoaded",v)};document.readyState!=="loading"?setTimeout(function(){return yv()},0):document.addEventListener("DOMContentLoaded",yv);var bv=function(){return n(Ni(),function(c,u){i.OptionTypes[c]=u[1]})};i.Status=Object.assign({},In),i.FileOrigin=Object.assign({},Ue),i.FileStatus=Object.assign({},ce),i.OptionTypes={},bv(),i.create=function(){var c=BC.apply(void 0,arguments);return c.on("destroy",i.destroy),$n.apps.push(c),gv(c)},i.destroy=function(c){var u=$n.apps.findIndex(function(m){return m.isAttachedTo(c)});if(u>=0){var f=$n.apps.splice(u,1)[0];return f.restoreElement(),!0}return!1},i.parse=function(c){var u=Array.from(c.querySelectorAll("."+JC)),f=u.filter(function(m){return!$n.apps.find(function(y){return y.isAttachedTo(m)})});return f.map(function(m){return i.create(m)})},i.find=function(c){var u=$n.apps.find(function(f){return f.isAttachedTo(c)});return u?gv(u):null},i.registerPlugin=function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];u.forEach(HC),bv()},i.getOptions=function(){var c={};return n(Ni(),function(u,f){c[u]=f[0]}),c},i.setOptions=function(c){return kr(c)&&($n.apps.forEach(function(u){u.setOptions(c)}),Oa(c)),i.getOptions()}}i.supported=eh,Object.defineProperty(i,"__esModule",{value:!0})})});var yb=rh((zm,jm)=>{"use strict";(function(i,e){typeof zm=="object"&&typeof jm<"u"?jm.exports=e():typeof define=="function"&&define.amd?define(e):(i=i||self,i.FilePondPluginImagePreview=e())})(zm,function(){"use strict";var i=function(b){return/^image/.test(b.type)};function e(S){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(b){return typeof b}:e=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},e(S)}var t;function r(S,b,C,T){t||(t=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103);var D=S&&S.defaultProps,k=arguments.length-3;if(!b&&k!==0&&(b={children:void 0}),b&&D)for(var H in D)b[H]===void 0&&(b[H]=D[H]);else b||(b=D||{});if(k===1)b.children=T;else if(k>1){for(var G=new Array(k),Z=0;Z<k;Z++)G[Z]=arguments[Z+3];b.children=G}return{$$typeof:t,type:S,key:C===void 0?null:""+C,ref:null,props:b,_owner:null}}function n(S){var b;if(typeof Symbol=="function"&&(Symbol.asyncIterator&&(b=S[Symbol.asyncIterator],b!=null)||Symbol.iterator&&(b=S[Symbol.iterator],b!=null)))return b.call(S);throw new TypeError("Object is not async iterable")}function o(S){this.wrapped=S}function a(S){var b,C;function T(H,G){return new Promise(function(Z,pe){var Me={key:H,arg:G,resolve:Z,reject:pe,next:null};C?C=C.next=Me:(b=C=Me,D(H,G))})}function D(H,G){try{var Z=S[H](G),pe=Z.value,Me=pe instanceof o;Promise.resolve(Me?pe.wrapped:pe).then(function(Te){if(Me){D("next",Te);return}k(Z.done?"return":"normal",Te)},function(Te){D("throw",Te)})}catch(Te){k("throw",Te)}}function k(H,G){switch(H){case"return":b.resolve({value:G,done:!0});break;case"throw":b.reject(G);break;default:b.resolve({value:G,done:!1});break}b=b.next,b?D(b.key,b.arg):C=null}this._invoke=T,typeof S.return!="function"&&(this.return=void 0)}typeof Symbol=="function"&&Symbol.asyncIterator&&(a.prototype[Symbol.asyncIterator]=function(){return this}),a.prototype.next=function(S){return this._invoke("next",S)},a.prototype.throw=function(S){return this._invoke("throw",S)},a.prototype.return=function(S){return this._invoke("return",S)};function s(S){return function(){return new a(S.apply(this,arguments))}}function l(S){return new o(S)}function d(S,b){var C={},T=!1;function D(k,H){return T=!0,H=new Promise(function(G){G(S[k](H))}),{done:!1,value:b(H)}}return typeof Symbol=="function"&&Symbol.iterator&&(C[Symbol.iterator]=function(){return this}),C.next=function(k){return T?(T=!1,k):D("next",k)},typeof S.throw=="function"&&(C.throw=function(k){if(T)throw T=!1,k;return D("throw",k)}),typeof S.return=="function"&&(C.return=function(k){return D("return",k)}),C}function h(S,b,C,T,D,k,H){try{var G=S[k](H),Z=G.value}catch(pe){C(pe);return}G.done?b(Z):Promise.resolve(Z).then(T,D)}function p(S){return function(){var b=this,C=arguments;return new Promise(function(T,D){var k=S.apply(b,C);function H(Z){h(k,T,D,H,G,"next",Z)}function G(Z){h(k,T,D,H,G,"throw",Z)}H(void 0)})}}function g(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")}function _(S,b){for(var C=0;C<b.length;C++){var T=b[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,T.key,T)}}function E(S,b,C){return b&&_(S.prototype,b),C&&_(S,C),S}function A(S,b){for(var C in b){var T=b[C];T.configurable=T.enumerable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,C,T)}if(Object.getOwnPropertySymbols)for(var D=Object.getOwnPropertySymbols(b),k=0;k<D.length;k++){var H=D[k],T=b[H];T.configurable=T.enumerable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,H,T)}return S}function N(S,b){for(var C=Object.getOwnPropertyNames(b),T=0;T<C.length;T++){var D=C[T],k=Object.getOwnPropertyDescriptor(b,D);k&&k.configurable&&S[D]===void 0&&Object.defineProperty(S,D,k)}return S}function F(S,b,C){return b in S?Object.defineProperty(S,b,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[b]=C,S}function P(){return P=Object.assign||function(S){for(var b=1;b<arguments.length;b++){var C=arguments[b];for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(S[T]=C[T])}return S},P.apply(this,arguments)}function L(S){for(var b=1;b<arguments.length;b++){var C=arguments[b]!=null?arguments[b]:{},T=Object.keys(C);typeof Object.getOwnPropertySymbols=="function"&&(T=T.concat(Object.getOwnPropertySymbols(C).filter(function(D){return Object.getOwnPropertyDescriptor(C,D).enumerable}))),T.forEach(function(D){F(S,D,C[D])})}return S}function z(S,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(b&&b.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),b&&re(S,b)}function X(S,b){S.prototype=Object.create(b.prototype),S.prototype.constructor=S,S.__proto__=b}function Q(S){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)},Q(S)}function re(S,b){return re=Object.setPrototypeOf||function(T,D){return T.__proto__=D,T},re(S,b)}function be(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ke(S,b,C){return be()?ke=Reflect.construct:ke=function(D,k,H){var G=[null];G.push.apply(G,k);var Z=Function.bind.apply(D,G),pe=new Z;return H&&re(pe,H.prototype),pe},ke.apply(null,arguments)}function Ve(S){return Function.toString.call(S).indexOf("[native code]")!==-1}function Et(S){var b=typeof Map=="function"?new Map:void 0;return Et=function(T){if(T===null||!Ve(T))return T;if(typeof T!="function")throw new TypeError("Super expression must either be null or a function");if(typeof b<"u"){if(b.has(T))return b.get(T);b.set(T,D)}function D(){return ke(T,arguments,Q(this).constructor)}return D.prototype=Object.create(T.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),re(D,T)},Et(S)}function Ke(S,b){return b!=null&&typeof Symbol<"u"&&b[Symbol.hasInstance]?b[Symbol.hasInstance](S):S instanceof b}function _t(S){return S&&S.__esModule?S:{default:S}}function Mr(S){if(S&&S.__esModule)return S;var b={};if(S!=null){for(var C in S)if(Object.prototype.hasOwnProperty.call(S,C)){var T=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(S,C):{};T.get||T.set?Object.defineProperty(b,C,T):b[C]=S[C]}}return b.default=S,b}function Ei(S,b){if(S!==b)throw new TypeError("Cannot instantiate an arrow function")}function Yn(S){if(S==null)throw new TypeError("Cannot destructure undefined")}function Pi(S,b){if(S==null)return{};var C={},T=Object.keys(S),D,k;for(k=0;k<T.length;k++)D=T[k],!(b.indexOf(D)>=0)&&(C[D]=S[D]);return C}function wn(S,b){if(S==null)return{};var C=Pi(S,b),T,D;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(S);for(D=0;D<k.length;D++)T=k[D],!(b.indexOf(T)>=0)&&Object.prototype.propertyIsEnumerable.call(S,T)&&(C[T]=S[T])}return C}function cr(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function Cn(S,b){return b&&(typeof b=="object"||typeof b=="function")?b:cr(S)}function bc(S,b){for(;!Object.prototype.hasOwnProperty.call(S,b)&&(S=Q(S),S!==null););return S}function Vs(S,b,C){return typeof Reflect<"u"&&Reflect.get?Vs=Reflect.get:Vs=function(D,k,H){var G=bc(D,k);if(G){var Z=Object.getOwnPropertyDescriptor(G,k);return Z.get?Z.get.call(H):Z.value}},Vs(S,b,C||S)}function ba(S,b,C,T){return typeof Reflect<"u"&&Reflect.set?ba=Reflect.set:ba=function(k,H,G,Z){var pe=bc(k,H),Me;if(pe){if(Me=Object.getOwnPropertyDescriptor(pe,H),Me.set)return Me.set.call(Z,G),!0;if(!Me.writable)return!1}if(Me=Object.getOwnPropertyDescriptor(Z,H),Me){if(!Me.writable)return!1;Me.value=G,Object.defineProperty(Z,H,Me)}else F(Z,H,G);return!0},ba(S,b,C,T)}function kg(S,b,C,T,D){var k=ba(S,b,C,T||S);if(!k&&D)throw new Error("failed to set property");return C}function of(S,b){return b||(b=S.slice(0)),Object.freeze(Object.defineProperties(S,{raw:{value:Object.freeze(b)}}))}function Ir(S,b){return b||(b=S.slice(0)),S.raw=b,S}function Lg(S,b){if(S===xc)throw new ReferenceError(b+" is not defined - temporal dead zone");return S}function Kr(S){throw new Error('"'+S+'" is read-only')}function af(S){throw new Error('Class "'+S+'" cannot be referenced in computed property keys.')}var xc={};function bo(S,b){return xa(S)||Wr(S,b)||wa()}function ln(S,b){return xa(S)||Ec(S,b)||wa()}function sf(S){return xa(S)||zs(S)||wa()}function Us(S){return lf(S)||zs(S)||Ea()}function lf(S){if(Array.isArray(S)){for(var b=0,C=new Array(S.length);b<S.length;b++)C[b]=S[b];return C}}function xa(S){if(Array.isArray(S))return S}function zs(S){if(Symbol.iterator in Object(S)||Object.prototype.toString.call(S)==="[object Arguments]")return Array.from(S)}function Wr(S,b){var C=[],T=!0,D=!1,k=void 0;try{for(var H=S[Symbol.iterator](),G;!(T=(G=H.next()).done)&&(C.push(G.value),!(b&&C.length===b));T=!0);}catch(Z){D=!0,k=Z}finally{try{!T&&H.return!=null&&H.return()}finally{if(D)throw k}}return C}function Ec(S,b){for(var C=[],T=S[Symbol.iterator](),D;!(D=T.next()).done&&(C.push(D.value),!(b&&C.length===b)););return C}function Ea(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function wa(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function xo(S){return function(){var b=S.apply(this,arguments);return b.next(),b}}function wc(S,b){if(typeof S!="object"||S===null)return S;var C=S[Symbol.toPrimitive];if(C!==void 0){var T=C.call(S,b||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(S)}function cn(S){var b=wc(S,"string");return typeof b=="symbol"?b:String(b)}function Bg(S,b){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}function cf(S,b,C,T){C&&Object.defineProperty(S,b,{enumerable:C.enumerable,configurable:C.configurable,writable:C.writable,value:C.initializer?C.initializer.call(T):void 0})}function Vg(S,b,C,T,D){var k={};return Object.keys(T).forEach(function(H){k[H]=T[H]}),k.enumerable=!!k.enumerable,k.configurable=!!k.configurable,("value"in k||k.initializer)&&(k.writable=!0),k=C.slice().reverse().reduce(function(H,G){return G(S,b,H)||H},k),D&&k.initializer!==void 0&&(k.value=k.initializer?k.initializer.call(D):void 0,k.initializer=void 0),k.initializer===void 0&&(Object.defineProperty(S,b,k),k=null),k}var uf=0;function Ug(S){return"__private_"+uf+++"_"+S}function zg(S,b){if(!Object.prototype.hasOwnProperty.call(S,b))throw new TypeError("attempted to use private field on non-instance");return S}function kr(S,b){if(!b.has(S))throw new TypeError("attempted to get private field on non-instance");var C=b.get(S);return C.get?C.get.call(S):C.value}function jg(S,b,C){if(!b.has(S))throw new TypeError("attempted to set private field on non-instance");var T=b.get(S);if(T.set)T.set.call(S,C);else{if(!T.writable)throw new TypeError("attempted to set read only private field");T.value=C}return C}function Cc(S,b,C){if(S!==b)throw new TypeError("Private static access of wrong provenance");return C.value}function Gg(S,b,C,T){if(S!==b)throw new TypeError("Private static access of wrong provenance");if(!C.writable)throw new TypeError("attempted to set read only private field");return C.value=T,T}function Hg(S,b,C){if(S!==b)throw new TypeError("Private static access of wrong provenance");return C}function Wg(){throw new TypeError("attempted to set read only static private field")}function df(S,b,C,T){var D=Ic();if(T)for(var k=0;k<T.length;k++)D=T[k](D);var H=b(function(pe){D.initializeInstanceElements(pe,G.elements)},C),G=D.decorateClass(Ca(H.d.map(ff)),S);return D.initializeClassElements(H.F,G.elements),D.runClassFinishers(H.F,G.finishers)}function Ic(){Ic=function(){return S};var S={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(b,C){["method","field"].forEach(function(T){C.forEach(function(D){D.kind===T&&D.placement==="own"&&this.defineClassElement(b,D)},this)},this)},initializeClassElements:function(b,C){var T=b.prototype;["method","field"].forEach(function(D){C.forEach(function(k){var H=k.placement;if(k.kind===D&&(H==="static"||H==="prototype")){var G=H==="static"?b:T;this.defineClassElement(G,k)}},this)},this)},defineClassElement:function(b,C){var T=C.descriptor;if(C.kind==="field"){var D=C.initializer;T={enumerable:T.enumerable,writable:T.writable,configurable:T.configurable,value:D===void 0?void 0:D.call(b)}}Object.defineProperty(b,C.key,T)},decorateClass:function(b,C){var T=[],D=[],k={static:[],prototype:[],own:[]};if(b.forEach(function(G){this.addElementPlacement(G,k)},this),b.forEach(function(G){if(!Eo(G))return T.push(G);var Z=this.decorateElement(G,k);T.push(Z.element),T.push.apply(T,Z.extras),D.push.apply(D,Z.finishers)},this),!C)return{elements:T,finishers:D};var H=this.decorateConstructor(T,C);return D.push.apply(D,H.finishers),H.finishers=D,H},addElementPlacement:function(b,C,T){var D=C[b.placement];if(!T&&D.indexOf(b.key)!==-1)throw new TypeError("Duplicated element ("+b.key+")");D.push(b.key)},decorateElement:function(b,C){for(var T=[],D=[],k=b.decorators,H=k.length-1;H>=0;H--){var G=C[b.placement];G.splice(G.indexOf(b.key),1);var Z=this.fromElementDescriptor(b),pe=this.toElementFinisherExtras((0,k[H])(Z)||Z);b=pe.element,this.addElementPlacement(b,C),pe.finisher&&D.push(pe.finisher);var Me=pe.extras;if(Me){for(var Te=0;Te<Me.length;Te++)this.addElementPlacement(Me[Te],C);T.push.apply(T,Me)}}return{element:b,finishers:D,extras:T}},decorateConstructor:function(b,C){for(var T=[],D=C.length-1;D>=0;D--){var k=this.fromClassDescriptor(b),H=this.toClassDescriptor((0,C[D])(k)||k);if(H.finisher!==void 0&&T.push(H.finisher),H.elements!==void 0){b=H.elements;for(var G=0;G<b.length-1;G++)for(var Z=G+1;Z<b.length;Z++)if(b[G].key===b[Z].key&&b[G].placement===b[Z].placement)throw new TypeError("Duplicated element ("+b[G].key+")")}}return{elements:b,finishers:T}},fromElementDescriptor:function(b){var C={kind:b.kind,key:b.key,placement:b.placement,descriptor:b.descriptor},T={value:"Descriptor",configurable:!0};return Object.defineProperty(C,Symbol.toStringTag,T),b.kind==="field"&&(C.initializer=b.initializer),C},toElementDescriptors:function(b){if(b!==void 0)return sf(b).map(function(C){var T=this.toElementDescriptor(C);return this.disallowProperty(C,"finisher","An element descriptor"),this.disallowProperty(C,"extras","An element descriptor"),T},this)},toElementDescriptor:function(b){var C=String(b.kind);if(C!=="method"&&C!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+C+'"');var T=cn(b.key),D=String(b.placement);if(D!=="static"&&D!=="prototype"&&D!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+D+'"');var k=b.descriptor;this.disallowProperty(b,"elements","An element descriptor");var H={kind:C,key:T,placement:D,descriptor:Object.assign({},k)};return C!=="field"?this.disallowProperty(b,"initializer","A method descriptor"):(this.disallowProperty(k,"get","The property descriptor of a field descriptor"),this.disallowProperty(k,"set","The property descriptor of a field descriptor"),this.disallowProperty(k,"value","The property descriptor of a field descriptor"),H.initializer=b.initializer),H},toElementFinisherExtras:function(b){var C=this.toElementDescriptor(b),T=Sc(b,"finisher"),D=this.toElementDescriptors(b.extras);return{element:C,finisher:T,extras:D}},fromClassDescriptor:function(b){var C={kind:"class",elements:b.map(this.fromElementDescriptor,this)},T={value:"Descriptor",configurable:!0};return Object.defineProperty(C,Symbol.toStringTag,T),C},toClassDescriptor:function(b){var C=String(b.kind);if(C!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+C+'"');this.disallowProperty(b,"key","A class descriptor"),this.disallowProperty(b,"placement","A class descriptor"),this.disallowProperty(b,"descriptor","A class descriptor"),this.disallowProperty(b,"initializer","A class descriptor"),this.disallowProperty(b,"extras","A class descriptor");var T=Sc(b,"finisher"),D=this.toElementDescriptors(b.elements);return{elements:D,finisher:T}},runClassFinishers:function(b,C){for(var T=0;T<C.length;T++){var D=(0,C[T])(b);if(D!==void 0){if(typeof D!="function")throw new TypeError("Finishers must return a constructor.");b=D}}return b},disallowProperty:function(b,C,T){if(b[C]!==void 0)throw new TypeError(T+" can't have a ."+C+" property.")}};return S}function ff(S){var b=cn(S.key),C;S.kind==="method"?C={value:S.value,writable:!0,configurable:!0,enumerable:!1}:S.kind==="get"?C={get:S.value,configurable:!0,enumerable:!1}:S.kind==="set"?C={set:S.value,configurable:!0,enumerable:!1}:S.kind==="field"&&(C={configurable:!0,writable:!0,enumerable:!0});var T={kind:S.kind==="field"?"field":"method",key:b,placement:S.static?"static":S.kind==="field"?"own":"prototype",descriptor:C};return S.decorators&&(T.decorators=S.decorators),S.kind==="field"&&(T.initializer=S.value),T}function hf(S,b){S.descriptor.get!==void 0?b.descriptor.get=S.descriptor.get:b.descriptor.set=S.descriptor.set}function Ca(S){for(var b=[],C=function(H){return H.kind==="method"&&H.key===D.key&&H.placement===D.placement},T=0;T<S.length;T++){var D=S[T],k;if(D.kind==="method"&&(k=b.find(C)))if(Ac(D.descriptor)||Ac(k.descriptor)){if(Eo(D)||Eo(k))throw new ReferenceError("Duplicated methods ("+D.key+") can't be decorated.");k.descriptor=D.descriptor}else{if(Eo(D)){if(Eo(k))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+D.key+").");k.decorators=D.decorators}hf(D,k)}else b.push(D)}return b}function Eo(S){return S.decorators&&S.decorators.length}function Ac(S){return S!==void 0&&!(S.value===void 0&&S.writable===void 0)}function Sc(S,b){var C=S[b];if(C!==void 0&&typeof C!="function")throw new TypeError("Expected '"+b+"' to be a function");return C}function wi(S,b,C){if(!b.has(S))throw new TypeError("attempted to get private field on non-instance");return C}function Tc(){throw new TypeError("attempted to reassign private method")}function Ia(S,b){Ia=function(G,Z){return new k(G,Z)};var C=Et(RegExp),T=RegExp.prototype,D=new WeakMap;function k(G,Z){var pe=C.call(this,G);return D.set(pe,Z),pe}z(k,C),k.prototype.exec=function(G){var Z=T.exec.call(this,G);return Z&&(Z.groups=H(Z,this)),Z},k.prototype[Symbol.replace]=function(G,Z){if(typeof Z=="string"){var pe=D.get(this);return T[Symbol.replace].call(this,G,Z.replace(/\$<([^>]+)>/g,function(Te,ot){return"$"+pe[ot]}))}else if(typeof Z=="function"){var Me=this;return T[Symbol.replace].call(this,G,function(){var Te=[];return Te.push.apply(Te,arguments),typeof Te[Te.length-1]!="object"&&Te.push(H(Te,Me)),Z.apply(this,Te)})}else return T[Symbol.replace].call(this,G,Z)};function H(G,Z){var pe=D.get(Z);return Object.keys(pe).reduce(function(Me,Te){return Me[Te]=G[pe[Te]],Me},Object.create(null))}return Ia.apply(this,arguments)}var Aa=function(b,C){return Yi(b.x*C,b.y*C)},pf=function(b,C){return Yi(b.x+C.x,b.y+C.y)},Xg=function(b){var C=Math.sqrt(b.x*b.x+b.y*b.y);return C===0?{x:0,y:0}:Yi(b.x/C,b.y/C)},wo=function(b,C,T){var D=Math.cos(C),k=Math.sin(C),H=Yi(b.x-T.x,b.y-T.y);return Yi(T.x+D*H.x-k*H.y,T.y+k*H.x+D*H.y)},Yi=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{x:b,y:C}},ii=function(b,C){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=arguments.length>3?arguments[3]:void 0;if(typeof b=="string")return parseFloat(b)*T;if(typeof b=="number")return b*(D?C[D]:Math.min(C.width,C.height))},Yg=function(b,C,T){var D=b.borderStyle||b.lineStyle||"solid",k=b.backgroundColor||b.fontColor||"transparent",H=b.borderColor||b.lineColor||"transparent",G=ii(b.borderWidth||b.lineWidth,C,T),Z=b.lineCap||"round",pe=b.lineJoin||"round",Me=typeof D=="string"?"":D.map(function(ot){return ii(ot,C,T)}).join(","),Te=b.opacity||1;return{"stroke-linecap":Z,"stroke-linejoin":pe,"stroke-width":G||0,"stroke-dasharray":Me,stroke:H,fill:k,opacity:Te}},Ci=function(b){return b!=null},Dc=function(b,C){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=ii(b.x,C,T,"width")||ii(b.left,C,T,"width"),k=ii(b.y,C,T,"height")||ii(b.top,C,T,"height"),H=ii(b.width,C,T,"width"),G=ii(b.height,C,T,"height"),Z=ii(b.right,C,T,"width"),pe=ii(b.bottom,C,T,"height");return Ci(k)||(Ci(G)&&Ci(pe)?k=C.height-G-pe:k=pe),Ci(D)||(Ci(H)&&Ci(Z)?D=C.width-H-Z:D=Z),Ci(H)||(Ci(D)&&Ci(Z)?H=C.width-D-Z:H=0),Ci(G)||(Ci(k)&&Ci(pe)?G=C.height-k-pe:G=0),{x:D||0,y:k||0,width:H||0,height:G||0}},qg=function(b){return b.map(function(C,T){return"".concat(T===0?"M":"L"," ").concat(C.x," ").concat(C.y)}).join(" ")},qi=function(b,C){return Object.keys(C).forEach(function(T){return b.setAttribute(T,C[T])})},Rc="http://www.w3.org/2000/svg",Co=function(b,C){var T=document.createElementNS(Rc,b);return C&&qi(T,C),T},$g=function(b){return qi(b,Object.assign({},b.rect,b.styles))},Zg=function(b){var C=b.rect.x+b.rect.width*.5,T=b.rect.y+b.rect.height*.5,D=b.rect.width*.5,k=b.rect.height*.5;return qi(b,Object.assign({cx:C,cy:T,rx:D,ry:k},b.styles))},js={contain:"xMidYMid meet",cover:"xMidYMid slice"},Oc=function(b,C){qi(b,Object.assign({},b.rect,b.styles,{preserveAspectRatio:js[C.fit]||"none"}))},Kg={left:"start",center:"middle",right:"end"},Mc=function(b,C,T,D){var k=ii(C.fontSize,T,D),H=C.fontFamily||"sans-serif",G=C.fontWeight||"normal",Z=Kg[C.textAlign]||"start";qi(b,Object.assign({},b.rect,b.styles,{"stroke-width":0,"font-weight":G,"font-size":k,"font-family":H,"text-anchor":Z})),b.text!==C.text&&(b.text=C.text,b.textContent=C.text.length?C.text:" ")},Qg=function(b,C,T,D){qi(b,Object.assign({},b.rect,b.styles,{fill:"none"}));var k=b.childNodes[0],H=b.childNodes[1],G=b.childNodes[2],Z=b.rect,pe={x:b.rect.x+b.rect.width,y:b.rect.y+b.rect.height};if(qi(k,{x1:Z.x,y1:Z.y,x2:pe.x,y2:pe.y}),!!C.lineDecoration){H.style.display="none",G.style.display="none";var Me=Xg({x:pe.x-Z.x,y:pe.y-Z.y}),Te=ii(.05,T,D);if(C.lineDecoration.indexOf("arrow-begin")!==-1){var ot=Aa(Me,Te),pr=pf(Z,ot),Tt=wo(Z,2,pr),Wt=wo(Z,-2,pr);qi(H,{style:"display:block;",d:"M".concat(Tt.x,",").concat(Tt.y," L").concat(Z.x,",").concat(Z.y," L").concat(Wt.x,",").concat(Wt.y)})}if(C.lineDecoration.indexOf("arrow-end")!==-1){var ur=Aa(Me,-Te),sr=pf(pe,ur),Xe=wo(pe,2,sr),He=wo(pe,-2,sr);qi(G,{style:"display:block;",d:"M".concat(Xe.x,",").concat(Xe.y," L").concat(pe.x,",").concat(pe.y," L").concat(He.x,",").concat(He.y)})}}},mf=function(b,C,T,D){qi(b,Object.assign({},b.styles,{fill:"none",d:qg(C.points.map(function(k){return{x:ii(k.x,T,D,"width"),y:ii(k.y,T,D,"height")}}))}))},Gs=function(b){return function(C){return Co(b,{id:C.id})}},Sa=function(b){var C=Co("image",{id:b.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return C.onload=function(){C.setAttribute("opacity",b.opacity||1)},C.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b.src),C},Io=function(b){var C=Co("g",{id:b.id,"stroke-linecap":"round","stroke-linejoin":"round"}),T=Co("line");C.appendChild(T);var D=Co("path");C.appendChild(D);var k=Co("path");return C.appendChild(k),C},gf={image:Sa,rect:Gs("rect"),ellipse:Gs("ellipse"),text:Gs("text"),path:Gs("path"),line:Io},Ta={rect:$g,ellipse:Zg,image:Oc,text:Mc,path:mf,line:Qg},vf=function(b,C){return gf[b](C)},Hs=function(b,C,T,D,k){C!=="path"&&(b.rect=Dc(T,D,k)),b.styles=Yg(T,D,k),Ta[C](b,T,D,k)},Jg=["x","y","left","top","right","bottom","width","height"],e0=function(b){return typeof b=="string"&&/%/.test(b)?parseFloat(b)/100:b},t0=function(b){var C=bo(b,2),T=C[0],D=C[1],k=D.points?{}:Jg.reduce(function(H,G){return H[G]=e0(D[G]),H},{});return[T,Object.assign({zIndex:0},D,k)]},r0=function(b,C){return b[1].zIndex>C[1].zIndex?1:b[1].zIndex<C[1].zIndex?-1:0},i0=function(b){return b.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(T){var D=T.root,k=T.props;if(k.dirty){var H=k.crop,G=k.resize,Z=k.markup,pe=k.width,Me=k.height,Te=H.width,ot=H.height;if(G){var pr=G.size,Tt=pr&&pr.width,Wt=pr&&pr.height,ur=G.mode,sr=G.upscale;Tt&&!Wt&&(Wt=Tt),Wt&&!Tt&&(Tt=Wt);var Xe=Te<Tt&&ot<Wt;if(!Xe||Xe&&sr){var He=Tt/Te,Ie=Wt/ot;if(ur==="force")Te=Tt,ot=Wt;else{var $;ur==="cover"?$=Math.max(He,Ie):ur==="contain"&&($=Math.min(He,Ie)),Te=Te*$,ot=ot*$}}}var fe={width:pe,height:Me};D.element.setAttribute("width",fe.width),D.element.setAttribute("height",fe.height);var ce=Math.min(pe/Te,Me/ot);D.element.innerHTML="";var Ue=D.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");Z.filter(Ue).map(t0).sort(r0).forEach(function(Zt){var pt=bo(Zt,2),kt=pt[0],q=pt[1],yr=vf(kt,q);Hs(yr,kt,q,fe,ce),D.element.appendChild(yr)})}}})},Ao=function(b,C){return{x:b,y:C}},_f=function(b,C){return b.x*C.x+b.y*C.y},Pc=function(b,C){return Ao(b.x-C.x,b.y-C.y)},n0=function(b,C){return _f(Pc(b,C),Pc(b,C))},Ws=function(b,C){return Math.sqrt(n0(b,C))},Da=function(b,C){var T=b,D=1.5707963267948966,k=C,H=1.5707963267948966-C,G=Math.sin(D),Z=Math.sin(k),pe=Math.sin(H),Me=Math.cos(H),Te=T/G,ot=Te*Z,pr=Te*pe;return Ao(Me*ot,Me*pr)},Ra=function(b,C){var T=b.width,D=b.height,k=Da(T,C),H=Da(D,C),G=Ao(b.x+Math.abs(k.x),b.y-Math.abs(k.y)),Z=Ao(b.x+b.width+Math.abs(H.y),b.y+Math.abs(H.x)),pe=Ao(b.x-Math.abs(H.y),b.y+b.height-Math.abs(H.x));return{width:Ws(G,Z),height:Ws(G,pe)}},o0=function(b,C){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=b.height/b.width,k=1,H=C,G=1,Z=D;Z>H&&(Z=H,G=Z/D);var pe=Math.max(k/G,H/Z),Me=b.width/(T*pe*G),Te=Me*C;return{width:Me,height:Te}},yf=function(b,C,T,D){var k=D.x>.5?1-D.x:D.x,H=D.y>.5?1-D.y:D.y,G=k*2*b.width,Z=H*2*b.height,pe=Ra(C,T);return Math.max(pe.width/G,pe.height/Z)},bf=function(b,C){var T=b.width,D=T*C;D>b.height&&(D=b.height,T=D/C);var k=(b.width-T)*.5,H=(b.height-D)*.5;return{x:k,y:H,width:T,height:D}},a0=function(b){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=C.zoom,D=C.rotation,k=C.center,H=C.aspectRatio;H||(H=b.height/b.width);var G=o0(b,H,T),Z={x:G.width*.5,y:G.height*.5},pe={x:0,y:0,width:G.width,height:G.height,center:Z},Me=typeof C.scaleToFit>"u"||C.scaleToFit,Te=yf(b,bf(pe,H),D,Me?k:{x:.5,y:.5}),ot=T*Te;return{widthFloat:G.width/ot,heightFloat:G.height/ot,width:Math.round(G.width/ot),height:Math.round(G.height/ot)}},$i={type:"spring",stiffness:.5,damping:.45,mass:10},s0=function(b){return b.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(T){var D=T.root,k=T.props;D.appendChild(k.image)}})},xf=function(b){return b.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:$i,originY:$i,scaleX:$i,scaleY:$i,translateX:$i,translateY:$i,rotateZ:$i}},create:function(T){var D=T.root,k=T.props;k.width=k.image.width,k.height=k.image.height,D.ref.bitmap=D.appendChildView(D.createChildView(s0(b),{image:k.image}))},write:function(T){var D=T.root,k=T.props,H=k.crop.flip,G=D.ref.bitmap;G.scaleX=H.horizontal?-1:1,G.scaleY=H.vertical?-1:1}})},l0=function(b){return b.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(T){var D=T.root,k=T.props;k.background&&(D.element.style.backgroundColor=k.background)},create:function(T){var D=T.root,k=T.props;D.ref.image=D.appendChildView(D.createChildView(xf(b),Object.assign({},k))),D.ref.createMarkup=function(){D.ref.markup||(D.ref.markup=D.appendChildView(D.createChildView(i0(b),Object.assign({},k))))},D.ref.destroyMarkup=function(){D.ref.markup&&(D.removeChildView(D.ref.markup),D.ref.markup=null)};var H=D.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");H!==null&&(H==="grid"?D.element.dataset.transparencyIndicator=H:D.element.dataset.transparencyIndicator="color")},write:function(T){var D=T.root,k=T.props,H=T.shouldOptimize,G=k.crop,Z=k.markup,pe=k.resize,Me=k.dirty,Te=k.width,ot=k.height;D.ref.image.crop=G;var pr={x:0,y:0,width:Te,height:ot,center:{x:Te*.5,y:ot*.5}},Tt={width:D.ref.image.width,height:D.ref.image.height},Wt={x:G.center.x*Tt.width,y:G.center.y*Tt.height},ur={x:pr.center.x-Tt.width*G.center.x,y:pr.center.y-Tt.height*G.center.y},sr=Math.PI*2+G.rotation%(Math.PI*2),Xe=G.aspectRatio||Tt.height/Tt.width,He=typeof G.scaleToFit>"u"||G.scaleToFit,Ie=yf(Tt,bf(pr,Xe),sr,He?G.center:{x:.5,y:.5}),$=G.zoom*Ie;Z&&Z.length?(D.ref.createMarkup(),D.ref.markup.width=Te,D.ref.markup.height=ot,D.ref.markup.resize=pe,D.ref.markup.dirty=Me,D.ref.markup.markup=Z,D.ref.markup.crop=a0(Tt,G)):D.ref.markup&&D.ref.destroyMarkup();var fe=D.ref.image;if(H){fe.originX=null,fe.originY=null,fe.translateX=null,fe.translateY=null,fe.rotateZ=null,fe.scaleX=null,fe.scaleY=null;return}fe.originX=Wt.x,fe.originY=Wt.y,fe.translateX=ur.x,fe.translateY=ur.y,fe.rotateZ=sr,fe.scaleX=$,fe.scaleY=$}})},c0=function(b){return b.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:$i,scaleY:$i,translateY:$i,opacity:{type:"tween",duration:400}}},create:function(T){var D=T.root,k=T.props;D.ref.clip=D.appendChildView(D.createChildView(l0(b),{id:k.id,image:k.image,crop:k.crop,markup:k.markup,resize:k.resize,dirty:k.dirty,background:k.background}))},write:function(T){var D=T.root,k=T.props,H=T.shouldOptimize,G=D.ref.clip,Z=k.image,pe=k.crop,Me=k.markup,Te=k.resize,ot=k.dirty;if(G.crop=pe,G.markup=Me,G.resize=Te,G.dirty=ot,G.opacity=H?0:1,!(H||D.rect.element.hidden)){var pr=Z.height/Z.width,Tt=pe.aspectRatio||pr,Wt=D.rect.inner.width,ur=D.rect.inner.height,sr=D.query("GET_IMAGE_PREVIEW_HEIGHT"),Xe=D.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),He=D.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),Ie=D.query("GET_PANEL_ASPECT_RATIO"),$=D.query("GET_ALLOW_MULTIPLE");Ie&&!$&&(sr=Wt*Ie,Tt=Ie);var fe=sr!==null?sr:Math.max(Xe,Math.min(Wt*Tt,He)),ce=fe/Tt;ce>Wt&&(ce=Wt,fe=ce*Tt),fe>ur&&(fe=ur,ce=ur/Tt),G.width=ce,G.height=fe}}})},Ef=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,So=0,wf=function(b){return b.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(T){var D=T.root,k=T.props,H=Ef;if(document.querySelector("base")){var G=new URL(window.location.href.replace(window.location.hash,"")).href;H=H.replace(/url\(\#/g,"url("+G+"#")}So++,D.element.classList.add("filepond--image-preview-overlay-".concat(k.status)),D.element.innerHTML=H.replace(/__UID__/g,So)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},Xs=function(){self.onmessage=function(b){createImageBitmap(b.data.message.file).then(function(C){self.postMessage({id:b.data.id,message:C},[C])})}},Nc=function(){self.onmessage=function(b){for(var C=b.data.message.imageData,T=b.data.message.colorMatrix,D=C.data,k=D.length,H=T[0],G=T[1],Z=T[2],pe=T[3],Me=T[4],Te=T[5],ot=T[6],pr=T[7],Tt=T[8],Wt=T[9],ur=T[10],sr=T[11],Xe=T[12],He=T[13],Ie=T[14],$=T[15],fe=T[16],ce=T[17],Ue=T[18],Zt=T[19],pt=0,kt=0,q=0,yr=0,Xt=0;pt<k;pt+=4)kt=D[pt]/255,q=D[pt+1]/255,yr=D[pt+2]/255,Xt=D[pt+3]/255,D[pt]=Math.max(0,Math.min((kt*H+q*G+yr*Z+Xt*pe+Me)*255,255)),D[pt+1]=Math.max(0,Math.min((kt*Te+q*ot+yr*pr+Xt*Tt+Wt)*255,255)),D[pt+2]=Math.max(0,Math.min((kt*ur+q*sr+yr*Xe+Xt*He+Ie)*255,255)),D[pt+3]=Math.max(0,Math.min((kt*$+q*fe+yr*ce+Xt*Ue+Zt)*255,255));self.postMessage({id:b.data.id,message:C},[C.data.buffer])}},Cf=function(b,C){var T=new Image;T.onload=function(){var D=T.naturalWidth,k=T.naturalHeight;T=null,C(D,k)},T.src=b},If={1:function(){return[1,0,0,1,0,0]},2:function(b){return[-1,0,0,1,b,0]},3:function(b,C){return[-1,0,0,-1,b,C]},4:function(b,C){return[1,0,0,-1,0,C]},5:function(){return[0,1,1,0,0,0]},6:function(b,C){return[0,1,-1,0,C,0]},7:function(b,C){return[0,-1,-1,0,C,b]},8:function(b){return[0,-1,1,0,0,b]}},Af=function(b,C,T,D){D!==-1&&b.transform.apply(b,If[D](C,T))},Ys=function(b,C,T,D){C=Math.round(C),T=Math.round(T);var k=document.createElement("canvas");k.width=C,k.height=T;var H=k.getContext("2d");if(D>=5&&D<=8){var G=[T,C];C=G[0],T=G[1]}return Af(H,C,T,D),H.drawImage(b,0,0,C,T),k},Sf=function(b){return/^image/.test(b.type)&&!/svg/.test(b.type)},Tf=10,Fc=10,u0=function(b){var C=Math.min(Tf/b.width,Fc/b.height),T=document.createElement("canvas"),D=T.getContext("2d"),k=T.width=Math.ceil(b.width*C),H=T.height=Math.ceil(b.height*C);D.drawImage(b,0,0,k,H);var G=null;try{G=D.getImageData(0,0,k,H).data}catch{return null}for(var Z=G.length,pe=0,Me=0,Te=0,ot=0;ot<Z;ot+=4)pe+=G[ot]*G[ot],Me+=G[ot+1]*G[ot+1],Te+=G[ot+2]*G[ot+2];return pe=kc(pe,Z),Me=kc(Me,Z),Te=kc(Te,Z),{r:pe,g:Me,b:Te}},kc=function(b,C){return Math.floor(Math.sqrt(b/(C/4)))},d0=function(b,C){C=C||document.createElement("canvas"),C.width=b.width,C.height=b.height;var T=C.getContext("2d");return T.drawImage(b,0,0),C},Df=function(b){var C;try{C=new ImageData(b.width,b.height)}catch{var T=document.createElement("canvas"),D=T.getContext("2d");C=D.createImageData(b.width,b.height)}return C.data.set(new Uint8ClampedArray(b.data)),C},f0=function(b){return new Promise(function(C,T){var D=new Image;D.crossOrigin="Anonymous",D.onload=function(){C(D)},D.onerror=function(k){T(k)},D.src=b})},h0=function(b){var C=wf(b),T=c0(b),D=b.utils.createWorker,k=function(Ie,$,fe){return new Promise(function(ce){Ie.ref.imageData||(Ie.ref.imageData=fe.getContext("2d").getImageData(0,0,fe.width,fe.height));var Ue=Df(Ie.ref.imageData);if(!$||$.length!==20)return fe.getContext("2d").putImageData(Ue,0,0),ce();var Zt=D(Nc);Zt.post({imageData:Ue,colorMatrix:$},function(pt){fe.getContext("2d").putImageData(pt,0,0),Zt.terminate(),ce()},[Ue.data.buffer])})},H=function(Ie,$){Ie.removeChildView($),$.image.width=1,$.image.height=1,$._destroy()},G=function(Ie){var $=Ie.root,fe=$.ref.images.shift();return fe.opacity=0,fe.translateY=-15,$.ref.imageViewBin.push(fe),fe},Z=function(Ie){var $=Ie.root,fe=Ie.props,ce=Ie.image,Ue=fe.id,Zt=$.query("GET_ITEM",{id:Ue});if(Zt){var pt=Zt.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},kt=$.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),q,yr,Xt=!1;$.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(q=Zt.getMetadata("markup")||[],yr=Zt.getMetadata("resize"),Xt=!0);var zr=$.appendChildView($.createChildView(T,{id:Ue,image:ce,crop:pt,resize:yr,markup:q,dirty:Xt,background:kt,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),$.childViews.length);$.ref.images.push(zr),zr.opacity=1,zr.scaleX=1,zr.scaleY=1,zr.translateY=0,setTimeout(function(){$.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:Ue})},250)}},pe=function(Ie){var $=Ie.root,fe=Ie.props,ce=$.query("GET_ITEM",{id:fe.id});if(ce){var Ue=$.ref.images[$.ref.images.length-1];Ue.crop=ce.getMetadata("crop"),Ue.background=$.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),$.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(Ue.dirty=!0,Ue.resize=ce.getMetadata("resize"),Ue.markup=ce.getMetadata("markup"))}},Me=function(Ie){var $=Ie.root,fe=Ie.props,ce=Ie.action;if(/crop|filter|markup|resize/.test(ce.change.key)&&$.ref.images.length){var Ue=$.query("GET_ITEM",{id:fe.id});if(Ue){if(/filter/.test(ce.change.key)){var Zt=$.ref.images[$.ref.images.length-1];k($,ce.change.value,Zt.image);return}if(/crop|markup|resize/.test(ce.change.key)){var pt=Ue.getMetadata("crop"),kt=$.ref.images[$.ref.images.length-1];if(pt&&pt.aspectRatio&&kt.crop&&kt.crop.aspectRatio&&Math.abs(pt.aspectRatio-kt.crop.aspectRatio)>1e-5){var q=G({root:$});Z({root:$,props:fe,image:d0(q.image)})}else pe({root:$,props:fe})}}}},Te=function(Ie){var $=window.navigator.userAgent,fe=$.match(/Firefox\/([0-9]+)\./),ce=fe?parseInt(fe[1]):null;return ce!==null&&ce<=58?!1:"createImageBitmap"in window&&Sf(Ie)},ot=function(Ie){var $=Ie.root,fe=Ie.props,ce=fe.id,Ue=$.query("GET_ITEM",ce);if(Ue){var Zt=URL.createObjectURL(Ue.file);Cf(Zt,function(pt,kt){$.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:ce,width:pt,height:kt})})}},pr=function(Ie){var $=Ie.root,fe=Ie.props,ce=fe.id,Ue=$.query("GET_ITEM",ce);if(Ue){var Zt=URL.createObjectURL(Ue.file),pt=function(){f0(Zt).then(kt)},kt=function(Xt){URL.revokeObjectURL(Zt);var zr=Ue.getMetadata("exif")||{},qn=zr.orientation||-1,un=Xt.width,Ni=Xt.height;if(!(!un||!Ni)){if(qn>=5&&qn<=8){var Oa=[Ni,un];un=Oa[0],Ni=Oa[1]}var dn=Math.max(1,window.devicePixelRatio*.75),Zi=$.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR"),To=Zi*dn,Qr=Ni/un,In=$.rect.element.width,Ma=$.rect.element.height,Do=In,Pa=Do*Qr;Qr>1?(Do=Math.min(un,In*To),Pa=Do*Qr):(Pa=Math.min(Ni,Ma*To),Do=Pa/Qr);var Lc=Ys(Xt,Do,Pa,qn),Bc=function(){var Of=$.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?u0(data):null;Ue.setMetadata("color",Of,!0),"close"in Xt&&Xt.close(),$.ref.overlayShadow.opacity=1,Z({root:$,props:fe,image:Lc})},Vc=Ue.getMetadata("filter");Vc?k($,Vc,Lc).then(Bc):Bc()}};if(Te(Ue.file)){var q=D(Xs);q.post({file:Ue.file},function(yr){if(q.terminate(),!yr){pt();return}kt(yr)})}else pt()}},Tt=function(Ie){var $=Ie.root,fe=$.ref.images[$.ref.images.length-1];fe.translateY=0,fe.scaleX=1,fe.scaleY=1,fe.opacity=1},Wt=function(Ie){var $=Ie.root;$.ref.overlayShadow.opacity=1,$.ref.overlayError.opacity=0,$.ref.overlaySuccess.opacity=0},ur=function(Ie){var $=Ie.root;$.ref.overlayShadow.opacity=.25,$.ref.overlayError.opacity=1},sr=function(Ie){var $=Ie.root;$.ref.overlayShadow.opacity=.25,$.ref.overlaySuccess.opacity=1},Xe=function(Ie){var $=Ie.root;$.ref.images=[],$.ref.imageData=null,$.ref.imageViewBin=[],$.ref.overlayShadow=$.appendChildView($.createChildView(C,{opacity:0,status:"idle"})),$.ref.overlaySuccess=$.appendChildView($.createChildView(C,{opacity:0,status:"success"})),$.ref.overlayError=$.appendChildView($.createChildView(C,{opacity:0,status:"failure"}))};return b.utils.createView({name:"image-preview-wrapper",create:Xe,styles:["height"],apis:["height"],destroy:function(Ie){var $=Ie.root;$.ref.images.forEach(function(fe){fe.image.width=1,fe.image.height=1})},didWriteView:function(Ie){var $=Ie.root;$.ref.images.forEach(function(fe){fe.dirty=!1})},write:b.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:Tt,DID_IMAGE_PREVIEW_CONTAINER_CREATE:ot,DID_FINISH_CALCULATE_PREVIEWSIZE:pr,DID_UPDATE_ITEM_METADATA:Me,DID_THROW_ITEM_LOAD_ERROR:ur,DID_THROW_ITEM_PROCESSING_ERROR:ur,DID_THROW_ITEM_INVALID:ur,DID_COMPLETE_ITEM_PROCESSING:sr,DID_START_ITEM_PROCESSING:Wt,DID_REVERT_ITEM_PROCESSING:Wt},function(He){var Ie=He.root,$=Ie.ref.imageViewBin.filter(function(fe){return fe.opacity===0});Ie.ref.imageViewBin=Ie.ref.imageViewBin.filter(function(fe){return fe.opacity>0}),$.forEach(function(fe){return H(Ie,fe)}),$.length=0})})},Rf=function(b){var C=b.addFilter,T=b.utils,D=T.Type,k=T.createRoute,H=T.isFile,G=h0(b);return C("CREATE_VIEW",function(Z){var pe=Z.is,Me=Z.view,Te=Z.query;if(!(!pe("file")||!Te("GET_ALLOW_IMAGE_PREVIEW"))){var ot=function(Xe){var He=Xe.root,Ie=Xe.props,$=Ie.id,fe=Te("GET_ITEM",$);if(!(!fe||!H(fe.file)||fe.archived)){var ce=fe.file;if(i(ce)&&Te("GET_IMAGE_PREVIEW_FILTER_ITEM")(fe)){var Ue="createImageBitmap"in(window||{}),Zt=Te("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!Ue&&Zt&&ce.size>Zt)){He.ref.imagePreview=Me.appendChildView(Me.createChildView(G,{id:$}));var pt=He.query("GET_IMAGE_PREVIEW_HEIGHT");pt&&He.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:fe.id,height:pt});var kt=!Ue&&ce.size>Te("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");He.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:$},kt)}}}},pr=function(Xe,He){if(Xe.ref.imagePreview){var Ie=He.id,$=Xe.query("GET_ITEM",{id:Ie});if($){var fe=Xe.query("GET_PANEL_ASPECT_RATIO"),ce=Xe.query("GET_ITEM_PANEL_ASPECT_RATIO"),Ue=Xe.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(fe||ce||Ue)){var Zt=Xe.ref,pt=Zt.imageWidth,kt=Zt.imageHeight;if(!(!pt||!kt)){var q=Xe.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),yr=Xe.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),Xt=$.getMetadata("exif")||{},zr=Xt.orientation||-1;if(zr>=5&&zr<=8){var qn=[kt,pt];pt=qn[0],kt=qn[1]}if(!Sf($.file)||Xe.query("GET_IMAGE_PREVIEW_UPSCALE")){var un=2048/pt;pt*=un,kt*=un}var Ni=kt/pt,Oa=($.getMetadata("crop")||{}).aspectRatio||Ni,dn=Math.max(q,Math.min(kt,yr)),Zi=Xe.rect.element.width,To=Math.min(Zi*Oa,dn);Xe.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:$.id,height:To})}}}}},Tt=function(Xe){var He=Xe.root;He.ref.shouldRescale=!0},Wt=function(Xe){var He=Xe.root,Ie=Xe.action;Ie.change.key==="crop"&&(He.ref.shouldRescale=!0)},ur=function(Xe){var He=Xe.root,Ie=Xe.action;He.ref.imageWidth=Ie.width,He.ref.imageHeight=Ie.height,He.ref.shouldRescale=!0,He.ref.shouldDrawPreview=!0,He.dispatch("KICK")};Me.registerWriter(k({DID_RESIZE_ROOT:Tt,DID_STOP_RESIZE:Tt,DID_LOAD_ITEM:ot,DID_IMAGE_PREVIEW_CALCULATE_SIZE:ur,DID_UPDATE_ITEM_METADATA:Wt},function(sr){var Xe=sr.root,He=sr.props;Xe.ref.imagePreview&&(Xe.rect.element.hidden||(Xe.ref.shouldRescale&&(pr(Xe,He),Xe.ref.shouldRescale=!1),Xe.ref.shouldDrawPreview&&(requestAnimationFrame(function(){requestAnimationFrame(function(){Xe.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:He.id})})}),Xe.ref.shouldDrawPreview=!1)))}))}}),{options:{allowImagePreview:[!0,D.BOOLEAN],imagePreviewFilterItem:[function(){return!0},D.FUNCTION],imagePreviewHeight:[null,D.INT],imagePreviewMinHeight:[44,D.INT],imagePreviewMaxHeight:[256,D.INT],imagePreviewMaxFileSize:[null,D.INT],imagePreviewZoomFactor:[2,D.INT],imagePreviewUpscale:[!1,D.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,D.INT],imagePreviewTransparencyIndicator:[null,D.STRING],imagePreviewCalculateAverageImageColor:[!1,D.BOOLEAN],imagePreviewMarkupShow:[!0,D.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},D.FUNCTION]}}},p0=typeof window<"u"&&typeof window.document<"u";return p0&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Rf})),Rf})});var bb=rh((Gm,Hm)=>{"use strict";(function(i,e){typeof Gm=="object"&&typeof Hm<"u"?Hm.exports=e():typeof define=="function"&&define.amd?define(e):(i=i||self,i.FilePondPluginFileValidateType=e())})(Gm,function(){"use strict";var i=function(r){var n=r.addFilter,o=r.utils,a=o.Type,s=o.isString,l=o.replaceInString,d=o.guesstimateMimeType,h=o.getExtensionFromFilename,p=o.getFilenameFromURL,g=function(P,L){var z=(/^[^/]+/.exec(P)||[]).pop(),X=L.slice(0,-2);return z===X},_=function(P,L){return P.some(function(z){return/\*$/.test(z)?g(L,z):z===L})},E=function(P){var L="";if(s(P)){var z=p(P),X=h(z);X&&(L=d(X))}else L=P.type;return L},A=function(P,L,z){if(L.length===0)return!0;var X=E(P);return z?new Promise(function(Q,re){z(P,X).then(function(be){_(L,be)?Q():re()}).catch(re)}):_(L,X)},N=function(P){return function(L){return P[L]===null?!1:P[L]||L}};return n("SET_ATTRIBUTE_TO_OPTION_MAP",function(F){return Object.assign(F,{accept:"acceptedFileTypes"})}),n("ALLOW_HOPPER_ITEM",function(F,P){var L=P.query;return L("GET_ALLOW_FILE_TYPE_VALIDATION")?A(F,L("GET_ACCEPTED_FILE_TYPES")):!0}),n("LOAD_FILE",function(F,P){var L=P.query;return new Promise(function(z,X){if(!L("GET_ALLOW_FILE_TYPE_VALIDATION")){z(F);return}var Q=L("GET_ACCEPTED_FILE_TYPES"),re=L("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),be=A(F,Q,re),ke=function(){var Et=Q.map(N(L("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(function(_t){return _t!==!1}),Ke=Et.filter(function(_t,Mr){return Et.indexOf(_t)===Mr});X({status:{main:L("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:l(L("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:Ke.join(", "),allButLastType:Ke.slice(0,-1).join(", "),lastType:Ke[Ke.length-1]})}})};if(typeof be=="boolean")return be?z(F):ke();be.then(function(){z(F)}).catch(ke)})}),{options:{allowFileTypeValidation:[!0,a.BOOLEAN],acceptedFileTypes:[[],a.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",a.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",a.STRING],fileValidateTypeLabelExpectedTypesMap:[{},a.OBJECT],fileValidateTypeDetectType:[null,a.FUNCTION]}}},e=typeof window<"u"&&typeof window.document<"u";return e&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:i})),i})});var Sh=class{};var Ha=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let n=t.slice(0,r),o=n.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(n,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new i;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let n=(e.op==="a"?this.headers.get(t):void 0)||[];n.push(...r),this.headers.set(t,n);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),n=e.toLowerCase();this.headers.set(n,r),this.maybeSetNormalizedName(e,n)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Th=class{encodeKey(e){return u1(e)}encodeValue(e){return u1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function s2(i,e){let t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(n=>{let o=n.indexOf("="),[a,s]=o==-1?[e.decodeKey(n),""]:[e.decodeKey(n.slice(0,o)),e.decodeValue(n.slice(o+1))],l=t.get(a)||[];l.push(s),t.set(a,l)}),t}var l2=/%(\d[a-f0-9])/gi,c2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function u1(i){return encodeURIComponent(i).replace(l2,(e,t)=>c2[t]??e)}function pu(i){return`${i}`}var io=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Th,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=s2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],n=Array.isArray(r)?r.map(pu):[pu(r)];this.map.set(t,n)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let n=e[r];Array.isArray(n)?n.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:n,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new i({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(pu(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],n=r.indexOf(pu(e.value));n!==-1&&r.splice(n,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Dh=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function u2(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function d1(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function f1(i){return typeof Blob<"u"&&i instanceof Blob}function h1(i){return typeof FormData<"u"&&i instanceof FormData}function d2(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var hl=class i{constructor(e,t,r,n){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(u2(this.method)||n?(this.body=r!==void 0?r:null,o=n):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ha,this.context??=new Dh,!this.params)this.params=new io,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let s=t.indexOf("?"),l=s===-1?"?":s<t.length-1?"&":"";this.urlWithParams=t+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||d1(this.body)||f1(this.body)||h1(this.body)||d2(this.body)?this.body:this.body instanceof io?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||h1(this.body)?null:f1(this.body)?this.body.type||null:d1(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof io?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,n=e.responseType||this.responseType,o=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,s=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,d=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((g,_)=>g.set(_,e.setHeaders[_]),d)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,_)=>g.set(_,e.setParams[_]),h)),new i(t,r,a,{params:h,headers:d,context:p,reportProgress:l,responseType:n,withCredentials:s,transferCache:o})}},p1=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(p1||{}),Rh=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ha,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Oh=class i extends Rh{constructor(e={}){super(e),this.type=p1.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function Ah(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var m1=(()=>{class i{constructor(t){this.handler=t}request(t,r,n={}){let o;if(t instanceof hl)o=t;else{let l;n.headers instanceof Ha?l=n.headers:l=new Ha(n.headers);let d;n.params&&(n.params instanceof io?d=n.params:d=new io({fromObject:n.params})),o=new hl(t,r,n.body!==void 0?n.body:null,{headers:l,context:n.context,params:d,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let a=Ge(o).pipe(Lo(l=>this.handler.handle(l)));if(t instanceof hl||n.observe==="events")return a;let s=a.pipe(gi(l=>l instanceof Oh));switch(n.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(qe(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return s.pipe(qe(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return s.pipe(qe(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return s.pipe(qe(l=>l.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new io().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,n={}){return this.request("PATCH",t,Ah(n,r))}post(t,r,n={}){return this.request("POST",t,Ah(n,r))}put(t,r,n={}){return this.request("PUT",t,Ah(n,r))}static{this.\u0275fac=function(r){return new(r||i)(oe(Sh))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}}return i})();var Nh=class extends i1{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Fh=class i extends Nh{static makeCurrent(){r1(new i)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=p2();return t==null?null:m2(t)}resetBaseElement(){pl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return n1(document.cookie,e)}},pl=null;function p2(){return pl=pl||document.querySelector("base"),pl?pl.getAttribute("href"):null}function m2(i){return new URL(i,document.baseURI).pathname}var g2=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}}return i})(),kh=new ct(""),_1=(()=>{class i{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(n=>{n.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,n){return this._findPluginFor(r).addEventListener(t,r,n)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Kt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||i)(oe(kh),oe(vt))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}}return i})(),mu=class{constructor(e){this._doc=e}},Mh="ng-app-id",y1=(()=>{class i{constructor(t,r,n,o={}){this.doc=t,this.appId=r,this.nonce=n,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yh(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(n=>n.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Mh}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(n=>{n.textContent!=null&&r.set(n.textContent,n)}),r}return null}changeUsageCount(t,r){let n=this.styleRef;if(n.has(t)){let o=n.get(t);return o.usage+=r,o.usage}return n.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let n=this.styleNodesInDOM,o=n?.get(r);if(o?.parentNode===t)return n.delete(r),o.removeAttribute(Mh),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Mh,this.appId),t.appendChild(a),a}}addStyleToHost(t,r){let n=this.getStyleElement(t,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(n):o.set(r,{elements:[n],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||i)(oe(mt),oe(iu),oe(al,8),oe(zo))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}}return i})(),Ph={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vh=/%COMP%/g,b1="%COMP%",v2=`_nghost-${b1}`,_2=`_ngcontent-${b1}`,y2=!0,b2=new ct("",{providedIn:"root",factory:()=>y2});function x2(i){return _2.replace(Vh,i)}function E2(i){return v2.replace(Vh,i)}function x1(i,e){return e.map(t=>t.replace(Vh,i))}var gu=(()=>{class i{constructor(t,r,n,o,a,s,l,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=n,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=yh(s),this.defaultRenderer=new ml(t,a,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===il.ShadowDom&&(r=gt(J({},r),{encapsulation:il.Emulated}));let n=this.getOrCreateRenderer(t,r);return n instanceof vu?n.applyToHost(t):n instanceof gl&&n.applyStyles(),n}getOrCreateRenderer(t,r){let n=this.rendererByCompId,o=n.get(r.id);if(!o){let a=this.doc,s=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case il.Emulated:o=new vu(l,d,r,this.appId,h,a,s,p);break;case il.ShadowDom:return new Lh(l,d,t,r,a,s,this.nonce,p);default:o=new gl(l,d,r,h,a,s,p);break}n.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||i)(oe(_1),oe(y1),oe(iu),oe(b2),oe(mt),oe(zo),oe(vt),oe(al))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}}return i})(),ml=class{constructor(e,t,r,n){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ph[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(g1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(g1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Kt(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,n){if(n){t=n+":"+t;let o=Ph[n];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let n=Ph[r];n?e.removeAttributeNS(n,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,n){n&(sl.DashCase|sl.Important)?e.style.setProperty(t,r,n&sl.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&sl.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=_h().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function g1(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Lh=class extends ml{constructor(e,t,r,n,o,a,s,l){super(e,o,a,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=x1(n.id,n.styles);for(let h of d){let p=document.createElement("style");s&&p.setAttribute("nonce",s),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gl=class extends ml{constructor(e,t,r,n,o,a,s,l){super(e,o,a,s),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=n,this.styles=l?x1(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},vu=class extends gl{constructor(e,t,r,n,o,a,s,l){let d=n+"-"+r.id;super(e,t,r,o,a,s,l,d),this.contentAttr=x2(d),this.hostAttr=E2(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},w2=(()=>{class i extends mu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,n){return t.addEventListener(r,n,!1),()=>this.removeEventListener(t,r,n)}removeEventListener(t,r,n){return t.removeEventListener(r,n)}static{this.\u0275fac=function(r){return new(r||i)(oe(mt))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}}return i})(),v1=["alt","control","meta","shift"],C2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I2={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},A2=(()=>{class i extends mu{constructor(t){super(t)}supports(t){return i.parseEventName(t)!=null}addEventListener(t,r,n){let o=i.parseEventName(r),a=i.eventCallback(o.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_h().onAndCancel(t,o.domEventName,a))}static parseEventName(t){let r=t.toLowerCase().split("."),n=r.shift();if(r.length===0||!(n==="keydown"||n==="keyup"))return null;let o=i._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),v1.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=n,l.fullKey=a,l}static matchEventFullKeyCode(t,r){let n=C2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(n=t.code,o="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),v1.forEach(a=>{if(a!==n){let s=I2[a];s(t)&&(o+=a+".")}}),o+=n,o===r)}static eventCallback(t,r,n){return o=>{i.matchEventFullKeyCode(o,t)&&n.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||i)(oe(mt))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}}return i})();function E1(i,e){return e1(J({rootComponent:i},S2(e)))}function S2(i){return{appProviders:[...M2,...i?.providers??[]],platformProviders:O2}}function T2(){Fh.makeCurrent()}function D2(){return new Uo}function R2(){return Fv(document),document}var O2=[{provide:zo,useValue:s1},{provide:kv,useValue:T2,multi:!0},{provide:mt,useFactory:R2,deps:[]}];var M2=[{provide:Pv,useValue:"root"},{provide:Uo,useFactory:D2,deps:[]},{provide:kh,useClass:w2,multi:!0,deps:[mt,vt,zo]},{provide:kh,useClass:A2,multi:!0,deps:[mt]},gu,y1,_1,{provide:ou,useExisting:gu},{provide:c1,useClass:g2,deps:[]},[]];var w1=(()=>{class i{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||i)(oe(mt))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var vl=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:function(r){let n=null;return r?n=new(r||i):n=oe(P2),n},providedIn:"root"})}}return i})(),P2=(()=>{class i extends vl{constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Ai.NONE:return r;case Ai.HTML:return za(r,"HTML")?Ua(r):Gv(this._doc,String(r)).toString();case Ai.STYLE:return za(r,"Style")?Ua(r):r;case Ai.SCRIPT:if(za(r,"Script"))return Ua(r);throw new Kt(5200,!1);case Ai.URL:return za(r,"URL")?Ua(r):jv(String(r));case Ai.RESOURCE_URL:if(za(r,"ResourceURL"))return Ua(r);throw new Kt(5201,!1);default:throw new Kt(5202,!1)}}bypassSecurityTrustHtml(t){return Lv(t)}bypassSecurityTrustStyle(t){return Bv(t)}bypassSecurityTrustScript(t){return Vv(t)}bypassSecurityTrustUrl(t){return Uv(t)}bypassSecurityTrustResourceUrl(t){return zv(t)}static{this.\u0275fac=function(r){return new(r||i)(oe(mt))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ut="primary",Nl=Symbol("RouteTitle"),Wh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Za(i){return new Wh(i)}function F2(i,e,t){let r=t.path.split("/");if(r.length>i.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<i.length))return null;let n={};for(let o=0;o<r.length;o++){let a=r[o],s=i[o];if(a[0]===":")n[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:i.slice(0,r.length),posParams:n}}function k2(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!gn(i[t],e[t]))return!1;return!0}function gn(i,e){let t=i?Xh(i):void 0,r=e?Xh(e):void 0;if(!t||!r||t.length!=r.length)return!1;let n;for(let o=0;o<t.length;o++)if(n=t[o],!O1(i[n],e[n]))return!1;return!0}function Xh(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function O1(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let t=[...i].sort(),r=[...e].sort();return t.every((n,o)=>r[o]===n)}else return i===e}function M1(i){return i.length>0?i[i.length-1]:null}function no(i){return Kc(i)?i:du(i)?mi(Promise.resolve(i)):Ge(i)}var L2={exact:N1,subset:F1},P1={exact:B2,subset:V2,ignored:()=>!0};function C1(i,e,t){return L2[t.paths](i.root,e.root,t.matrixParams)&&P1[t.queryParams](i.queryParams,e.queryParams)&&!(t.fragment==="exact"&&i.fragment!==e.fragment)}function B2(i,e){return gn(i,e)}function N1(i,e,t){if(!qo(i.segments,e.segments)||!bu(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!i.children[r]||!N1(i.children[r],e.children[r],t))return!1;return!0}function V2(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>O1(i[t],e[t]))}function F1(i,e,t){return k1(i,e,e.segments,t)}function k1(i,e,t,r){if(i.segments.length>t.length){let n=i.segments.slice(0,t.length);return!(!qo(n,t)||e.hasChildren()||!bu(n,t,r))}else if(i.segments.length===t.length){if(!qo(i.segments,t)||!bu(i.segments,t,r))return!1;for(let n in e.children)if(!i.children[n]||!F1(i.children[n],e.children[n],r))return!1;return!0}else{let n=t.slice(0,i.segments.length),o=t.slice(i.segments.length);return!qo(i.segments,n)||!bu(i.segments,n,r)||!i.children[ut]?!1:k1(i.children[ut],e,o,r)}}function bu(i,e,t){return e.every((r,n)=>P1[t](i[n].parameters,r.parameters))}var Nn=class{constructor(e=new Vt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Za(this.queryParams),this._queryParamMap}toString(){return j2.serialize(this)}},Vt=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xu(this)}},Yo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Za(this.parameters),this._parameterMap}toString(){return B1(this)}};function U2(i,e){return qo(i,e)&&i.every((t,r)=>gn(t.parameters,e[r].parameters))}function qo(i,e){return i.length!==e.length?!1:i.every((t,r)=>t.path===e[r].path)}function z2(i,e){let t=[];return Object.entries(i.children).forEach(([r,n])=>{r===ut&&(t=t.concat(e(n,r)))}),Object.entries(i.children).forEach(([r,n])=>{r!==ut&&(t=t.concat(e(n,r)))}),t}var _p=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:()=>new Cl,providedIn:"root"})}}return i})(),Cl=class{parse(e){let t=new qh(e);return new Nn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${_l(e.root,!0)}`,r=W2(e.queryParams),n=typeof e.fragment=="string"?`#${G2(e.fragment)}`:"";return`${t}${r}${n}`}},j2=new Cl;function xu(i){return i.segments.map(e=>B1(e)).join("/")}function _l(i,e){if(!i.hasChildren())return xu(i);if(e){let t=i.children[ut]?_l(i.children[ut],!1):"",r=[];return Object.entries(i.children).forEach(([n,o])=>{n!==ut&&r.push(`${n}:${_l(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=z2(i,(r,n)=>n===ut?[_l(i.children[ut],!1)]:[`${n}:${_l(r,!1)}`]);return Object.keys(i.children).length===1&&i.children[ut]!=null?`${xu(i)}/${t[0]}`:`${xu(i)}/(${t.join("//")})`}}function L1(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _u(i){return L1(i).replace(/%3B/gi,";")}function G2(i){return encodeURI(i)}function Yh(i){return L1(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Eu(i){return decodeURIComponent(i)}function I1(i){return Eu(i.replace(/\+/g,"%20"))}function B1(i){return`${Yh(i.path)}${H2(i.parameters)}`}function H2(i){return Object.entries(i).map(([e,t])=>`;${Yh(e)}=${Yh(t)}`).join("")}function W2(i){let e=Object.entries(i).map(([t,r])=>Array.isArray(r)?r.map(n=>`${_u(t)}=${_u(n)}`).join("&"):`${_u(t)}=${_u(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var X2=/^[^\/()?;#]+/;function zh(i){let e=i.match(X2);return e?e[0]:""}var Y2=/^[^\/()?;=#]+/;function q2(i){let e=i.match(Y2);return e?e[0]:""}var $2=/^[^=?&#]+/;function Z2(i){let e=i.match($2);return e?e[0]:""}var K2=/^[^&#]+/;function Q2(i){let e=i.match(K2);return e?e[0]:""}var qh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ut]=new Vt(e,t)),r}parseSegment(){let e=zh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Kt(4009,!1);return this.capture(e),new Yo(Eu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=q2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let n=zh(this.remaining);n&&(r=n,this.capture(r))}e[Eu(t)]=Eu(r)}parseQueryParam(e){let t=Z2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=Q2(this.remaining);a&&(r=a,this.capture(r))}let n=I1(t),o=I1(r);if(e.hasOwnProperty(n)){let a=e[n];Array.isArray(a)||(a=[a],e[n]=a),a.push(o)}else e[n]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zh(this.remaining),n=this.remaining[r.length];if(n!=="/"&&n!==")"&&n!==";")throw new Kt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ut);let a=this.parseChildren();t[o]=Object.keys(a).length===1?a[ut]:new Vt([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Kt(4011,!1)}};function V1(i){return i.segments.length>0?new Vt([],{[ut]:i}):i}function U1(i){let e={};for(let[r,n]of Object.entries(i.children)){let o=U1(n);if(r===ut&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))e[a]=s;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Vt(i.segments,e);return J2(t)}function J2(i){if(i.numberOfChildren===1&&i.children[ut]){let e=i.children[ut];return new Vt(i.segments.concat(e.segments),e.children)}return i}function Il(i){return i instanceof Nn}function eI(i,e,t=null,r=null){let n=z1(i);return j1(n,e,t,r)}function z1(i){let e;function t(o){let a={};for(let l of o.children){let d=t(l);a[l.outlet]=d}let s=new Vt(o.url,a);return o===i&&(e=s),s}let r=t(i.root),n=V1(r);return e??n}function j1(i,e,t,r){let n=i;for(;n.parent;)n=n.parent;if(e.length===0)return jh(n,n,n,t,r);let o=tI(e);if(o.toRoot())return jh(n,n,new Vt([],{}),t,r);let a=rI(o,n,i),s=a.processChildren?xl(a.segmentGroup,a.index,o.commands):H1(a.segmentGroup,a.index,o.commands);return jh(n,a.segmentGroup,s,t,r)}function wu(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Al(i){return typeof i=="object"&&i!=null&&i.outlets}function jh(i,e,t,r,n){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let a;i===e?a=t:a=G1(i,e,t);let s=V1(U1(a));return new Nn(s,o,n)}function G1(i,e,t){let r={};return Object.entries(i.children).forEach(([n,o])=>{o===e?r[n]=t:r[n]=G1(o,e,t)}),new Vt(i.segments,r)}var Cu=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&wu(r[0]))throw new Kt(4003,!1);let n=r.find(Al);if(n&&n!==M1(r))throw new Kt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tI(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Cu(!0,0,i);let e=0,t=!1,r=i.reduce((n,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,d])=>{s[l]=typeof d=="string"?d.split("/"):d}),[...n,{outlets:s}]}if(o.segmentPath)return[...n,o.segmentPath]}return typeof o!="string"?[...n,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?t=!0:s===".."?e++:s!=""&&n.push(s))}),n):[...n,o]},[]);return new Cu(t,e,r)}var Ya=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function rI(i,e,t){if(i.isAbsolute)return new Ya(e,!0,0);if(!t)return new Ya(e,!1,NaN);if(t.parent===null)return new Ya(t,!0,0);let r=wu(i.commands[0])?0:1,n=t.segments.length-1+r;return iI(t,n,i.numberOfDoubleDots)}function iI(i,e,t){let r=i,n=e,o=t;for(;o>n;){if(o-=n,r=r.parent,!r)throw new Kt(4005,!1);n=r.segments.length}return new Ya(r,!1,n-o)}function nI(i){return Al(i[0])?i[0].outlets:{[ut]:i}}function H1(i,e,t){if(i??=new Vt([],{}),i.segments.length===0&&i.hasChildren())return xl(i,e,t);let r=oI(i,e,t),n=t.slice(r.commandIndex);if(r.match&&r.pathIndex<i.segments.length){let o=new Vt(i.segments.slice(0,r.pathIndex),{});return o.children[ut]=new Vt(i.segments.slice(r.pathIndex),i.children),xl(o,0,n)}else return r.match&&n.length===0?new Vt(i.segments,{}):r.match&&!i.hasChildren()?$h(i,e,t):r.match?xl(i,0,n):$h(i,e,t)}function xl(i,e,t){if(t.length===0)return new Vt(i.segments,{});{let r=nI(t),n={};if(Object.keys(r).some(o=>o!==ut)&&i.children[ut]&&i.numberOfChildren===1&&i.children[ut].segments.length===0){let o=xl(i.children[ut],e,t);return new Vt(i.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(n[o]=H1(i.children[o],e,a))}),Object.entries(i.children).forEach(([o,a])=>{r[o]===void 0&&(n[o]=a)}),new Vt(i.segments,n)}}function oI(i,e,t){let r=0,n=e,o={match:!1,pathIndex:0,commandIndex:0};for(;n<i.segments.length;){if(r>=t.length)return o;let a=i.segments[n],s=t[r];if(Al(s))break;let l=`${s}`,d=r<t.length-1?t[r+1]:null;if(n>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!S1(l,d,a))return o;r+=2}else{if(!S1(l,{},a))return o;r++}n++}return{match:!0,pathIndex:n,commandIndex:r}}function $h(i,e,t){let r=i.segments.slice(0,e),n=0;for(;n<t.length;){let o=t[n];if(Al(o)){let l=aI(o.outlets);return new Vt(r,l)}if(n===0&&wu(t[0])){let l=i.segments[e];r.push(new Yo(l.path,A1(t[0]))),n++;continue}let a=Al(o)?o.outlets[ut]:`${o}`,s=n<t.length-1?t[n+1]:null;a&&s&&wu(s)?(r.push(new Yo(a,A1(s))),n+=2):(r.push(new Yo(a,{})),n++)}return new Vt(r,{})}function aI(i){let e={};return Object.entries(i).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=$h(new Vt([],{}),0,r))}),e}function A1(i){let e={};return Object.entries(i).forEach(([t,r])=>e[t]=`${r}`),e}function S1(i,e,t){return i==t.path&&gn(e,t.parameters)}var El="imperative",qr=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(qr||{}),Ui=class{constructor(e,t){this.id=e,this.url=t}},Sl=class extends Ui{constructor(e,t,r="imperative",n=null){super(e,t),this.type=qr.NavigationStart,this.navigationTrigger=r,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$o=class extends Ui{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=qr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ri=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Ri||{}),Zh=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(Zh||{}),Pn=class extends Ui{constructor(e,t,r,n){super(e,t),this.reason=r,this.code=n,this.type=qr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zo=class extends Ui{constructor(e,t,r,n){super(e,t),this.reason=r,this.code=n,this.type=qr.NavigationSkipped}},Tl=class extends Ui{constructor(e,t,r,n){super(e,t),this.error=r,this.target=n,this.type=qr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Iu=class extends Ui{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n,this.type=qr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kh=class extends Ui{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n,this.type=qr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qh=class extends Ui{constructor(e,t,r,n,o){super(e,t),this.urlAfterRedirects=r,this.state=n,this.shouldActivate=o,this.type=qr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jh=class extends Ui{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n,this.type=qr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class extends Ui{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n,this.type=qr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tp=class{constructor(e){this.route=e,this.type=qr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rp=class{constructor(e){this.route=e,this.type=qr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ip=class{constructor(e){this.snapshot=e,this.type=qr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},np=class{constructor(e){this.snapshot=e,this.type=qr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},op=class{constructor(e){this.snapshot=e,this.type=qr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ap=class{constructor(e){this.snapshot=e,this.type=qr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Dl=class{},Ka=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function sI(i,e){return i.providers&&!i._injector&&(i._injector=qv(i.providers,e,`Route: ${i.path}`)),i._injector??e}function rn(i){return i.outlet||ut}function lI(i,e){let t=i.filter(r=>rn(r)===e);return t.push(...i.filter(r=>rn(r)!==e)),t}function Fl(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var sp=class{get injector(){return Fl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Mu(this.rootInjector),this.attachRef=null}},Mu=(()=>{class i{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let n=this.getOrCreateContext(t);n.outlet=r,this.contexts.set(t,n)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new sp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||i)(oe(Vo))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Au=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=lp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=lp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=cp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(n=>n.value).filter(n=>n!==e)}pathFromRoot(e){return cp(e,this._root).map(t=>t.value)}};function lp(i,e){if(i===e.value)return e;for(let t of e.children){let r=lp(i,t);if(r)return r}return null}function cp(i,e){if(i===e.value)return[e];for(let t of e.children){let r=cp(i,t);if(r.length)return r.unshift(e),r}return[]}var Di=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Xa(i){let e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}var Su=class extends Au{constructor(e,t){super(e),this.snapshot=t,yp(this,e)}toString(){return this.snapshot.toString()}};function W1(i){let e=cI(i),t=new pi([new Yo("",{})]),r=new pi({}),n=new pi({}),o=new pi({}),a=new pi(""),s=new Qa(t,r,o,a,n,ut,i,e.root);return s.snapshot=e.root,new Su(new Di(s,[]),e)}function cI(i){let e={},t={},r={},n="",o=new qa([],e,r,n,t,ut,i,null,{});return new Du("",new Di(o,[]))}var Qa=class{constructor(e,t,r,n,o,a,s,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=n,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(qe(d=>d[Nl]))??Ge(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(qe(e=>Za(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(qe(e=>Za(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Tu(i,e,t="emptyOnly"){let r,{routeConfig:n}=i;return e!==null&&(t==="always"||n?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:J(J({},e.params),i.params),data:J(J({},e.data),i.data),resolve:J(J(J(J({},i.data),e.data),n?.data),i._resolvedData)}:r={params:J({},i.params),data:J({},i.data),resolve:J(J({},i.data),i._resolvedData??{})},n&&Y1(n)&&(r.resolve[Nl]=n.title),r}var qa=class{get title(){return this.data?.[Nl]}constructor(e,t,r,n,o,a,s,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Za(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Za(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Du=class extends Au{constructor(e,t){super(t),this.url=e,yp(this,t)}toString(){return X1(this._root)}};function yp(i,e){e.value._routerState=i,e.children.forEach(t=>yp(i,t))}function X1(i){let e=i.children.length>0?` { ${i.children.map(X1).join(", ")} } `:"";return`${i.value}${e}`}function Gh(i){if(i.snapshot){let e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,gn(e.queryParams,t.queryParams)||i.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&i.fragmentSubject.next(t.fragment),gn(e.params,t.params)||i.paramsSubject.next(t.params),k2(e.url,t.url)||i.urlSubject.next(t.url),gn(e.data,t.data)||i.dataSubject.next(t.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function up(i,e){let t=gn(i.params,e.params)&&U2(i.url,e.url),r=!i.parent!=!e.parent;return t&&!r&&(!i.parent||up(i.parent,e.parent))}function Y1(i){return typeof i.title=="string"||i.title===null}var uI=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=Re(Mu),this.location=Re(to),this.changeDetector=Re(Yr),this.inputBinder=Re(bp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:n}=t.name;if(r)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Kt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Kt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Kt(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Kt(4013,!1);this._activatedRoute=t;let n=this.location,a=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new dp(t,s,n.injector);this.activated=n.createComponent(a,{index:n.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275dir=Rt({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ni]})}}return i})(),dp=class i{__ngOutletInjector(e){return new i(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Qa?this.route:e===Mu?this.childContexts:this.parent.get(e,t)}},bp=new ct("");function dI(i,e,t){let r=Rl(i,e._root,t?t._root:void 0);return new Su(r,e)}function Rl(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let n=fI(i,e,t);return new Di(r,n)}else{if(i.shouldAttach(e.value)){let o=i.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>Rl(i,s)),a}}let r=hI(e.value),n=e.children.map(o=>Rl(i,o));return new Di(r,n)}}function fI(i,e,t){return e.children.map(r=>{for(let n of t.children)if(i.shouldReuseRoute(r.value,n.value.snapshot))return Rl(i,r,n);return Rl(i,r)})}function hI(i){return new Qa(new pi(i.url),new pi(i.params),new pi(i.queryParams),new pi(i.fragment),new pi(i.data),i.outlet,i.component,i)}var Ol=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},q1="ngNavigationCancelingError";function Ru(i,e){let{redirectTo:t,navigationBehaviorOptions:r}=Il(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,n=$1(!1,Ri.Redirect);return n.url=t,n.navigationBehaviorOptions=r,n}function $1(i,e){let t=new Error(`NavigationCancelingError: ${i||""}`);return t[q1]=!0,t.cancellationCode=e,t}function pI(i){return Z1(i)&&Il(i.url)}function Z1(i){return!!i&&i[q1]}var mI=(i,e,t,r)=>qe(n=>(new fp(e,n.targetRouterState,n.currentRouterState,t,r).activate(i),n)),fp=class{constructor(e,t,r,n,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=n,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Gh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let n=Xa(t);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,n[a],r),delete n[a]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let n=e.value,o=t?t.value:null;if(n===o)if(n.component){let a=r.getContext(n.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),n=r&&e.value.component?r.children:t,o=Xa(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),n=r&&e.value.component?r.children:t,o=Xa(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let n=Xa(t);e.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],r),this.forwardEvent(new ap(o.value.snapshot))}),e.children.length&&this.forwardEvent(new np(e.value.snapshot))}activateRoutes(e,t,r){let n=e.value,o=t?t.value:null;if(Gh(n),n===o)if(n.component){let a=r.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(n.component){let a=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let s=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Gh(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=n,a.outlet&&a.outlet.activateWith(n,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},Ou=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$a=class{constructor(e,t){this.component=e,this.route=t}};function gI(i,e,t){let r=i._root,n=e?e._root:null;return yl(r,n,t,[r.value])}function vI(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function es(i,e){let t=Symbol(),r=e.get(i,t);return r===t?typeof i=="function"&&!Mv(i)?i:e.get(i):r}function yl(i,e,t,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=Xa(e);return i.children.forEach(a=>{_I(a,o[a.value.outlet],t,r.concat([a.value]),n),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>wl(s,t.getContext(a),n)),n}function _I(i,e,t,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,a=e?e.value:null,s=t?t.getContext(i.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=yI(a,o,o.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new Ou(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?yl(i,e,s?s.children:null,r,n):yl(i,e,t,r,n),l&&s&&s.outlet&&s.outlet.isActivated&&n.canDeactivateChecks.push(new $a(s.outlet.component,a))}else a&&wl(e,s,n),n.canActivateChecks.push(new Ou(r)),o.component?yl(i,null,s?s.children:null,r,n):yl(i,null,t,r,n);return n}function yI(i,e,t){if(typeof t=="function")return t(i,e);switch(t){case"pathParamsChange":return!qo(i.url,e.url);case"pathParamsOrQueryParamsChange":return!qo(i.url,e.url)||!gn(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!up(i,e)||!gn(i.queryParams,e.queryParams);case"paramsChange":default:return!up(i,e)}}function wl(i,e,t){let r=Xa(i),n=i.value;Object.entries(r).forEach(([o,a])=>{n.component?e?wl(a,e.children.getContext(o),t):wl(a,null,t):wl(a,e,t)}),n.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new $a(e.outlet.component,n)):t.canDeactivateChecks.push(new $a(null,n)):t.canDeactivateChecks.push(new $a(null,n))}function kl(i){return typeof i=="function"}function bI(i){return typeof i=="boolean"}function xI(i){return i&&kl(i.canLoad)}function EI(i){return i&&kl(i.canActivate)}function wI(i){return i&&kl(i.canActivateChild)}function CI(i){return i&&kl(i.canDeactivate)}function II(i){return i&&kl(i.canMatch)}function K1(i){return i instanceof Sv||i?.name==="EmptyError"}var yu=Symbol("INITIAL_VALUE");function Ja(){return vi(i=>el(i.map(e=>e.pipe(Qi(1),Ji(yu)))).pipe(qe(e=>{for(let t of e)if(t!==!0){if(t===yu)return yu;if(t===!1||AI(t))return t}return!0}),gi(e=>e!==yu),Qi(1)))}function AI(i){return Il(i)||i instanceof Ol}function SI(i,e){return Bi(t=>{let{targetSnapshot:r,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return a.length===0&&o.length===0?Ge(gt(J({},t),{guardsResult:!0})):TI(a,r,n,i).pipe(Bi(s=>s&&bI(s)?DI(r,o,i,e):Ge(s)),qe(s=>gt(J({},t),{guardsResult:s})))})}function TI(i,e,t,r){return mi(i).pipe(Bi(n=>NI(n.component,n.route,t,e,r)),fn(n=>n!==!0,!0))}function DI(i,e,t,r){return mi(e).pipe(Lo(n=>Qc(OI(n.route.parent,r),RI(n.route,r),PI(i,n.path,t),MI(i,n.route,t))),fn(n=>n!==!0,!0))}function RI(i,e){return i!==null&&e&&e(new op(i)),Ge(!0)}function OI(i,e){return i!==null&&e&&e(new ip(i)),Ge(!0)}function MI(i,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Ge(!0);let n=r.map(o=>oh(()=>{let a=Fl(e)??t,s=es(o,a),l=EI(s)?s.canActivate(e,i):Rn(a,()=>s(e,i));return no(l).pipe(fn())}));return Ge(n).pipe(Ja())}function PI(i,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>vI(a)).filter(a=>a!==null).map(a=>oh(()=>{let s=a.guards.map(l=>{let d=Fl(a.node)??t,h=es(l,d),p=wI(h)?h.canActivateChild(r,i):Rn(d,()=>h(r,i));return no(p).pipe(fn())});return Ge(s).pipe(Ja())}));return Ge(o).pipe(Ja())}function NI(i,e,t,r,n){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ge(!0);let a=o.map(s=>{let l=Fl(e)??n,d=es(s,l),h=CI(d)?d.canDeactivate(i,e,t,r):Rn(l,()=>d(i,e,t,r));return no(h).pipe(fn())});return Ge(a).pipe(Ja())}function FI(i,e,t,r){let n=e.canLoad;if(n===void 0||n.length===0)return Ge(!0);let o=n.map(a=>{let s=es(a,i),l=xI(s)?s.canLoad(e,t):Rn(i,()=>s(e,t));return no(l)});return Ge(o).pipe(Ja(),Q1(r))}function Q1(i){return Av(mr(e=>{if(typeof e!="boolean")throw Ru(i,e)}),qe(e=>e===!0))}function kI(i,e,t,r){let n=e.canMatch;if(!n||n.length===0)return Ge(!0);let o=n.map(a=>{let s=es(a,i),l=II(s)?s.canMatch(e,t):Rn(i,()=>s(e,t));return no(l)});return Ge(o).pipe(Ja(),Q1(r))}var Ml=class{constructor(e){this.segmentGroup=e||null}},Pl=class extends Error{constructor(e){super(),this.urlTree=e}};function Wa(i){return ko(new Ml(i))}function LI(i){return ko(new Kt(4e3,!1))}function BI(i){return ko($1(!1,Ri.GuardRejected))}var hp=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],n=t.root;for(;;){if(r=r.concat(n.segments),n.numberOfChildren===0)return Ge(r);if(n.numberOfChildren>1||!n.children[ut])return LI(`${e.redirectTo}`);n=n.children[ut]}}applyRedirectCommands(e,t,r,n,o){if(typeof t!="string"){let s=t,{queryParams:l,fragment:d,routeConfig:h,url:p,outlet:g,params:_,data:E,title:A}=n,N=Rn(o,()=>s({params:_,data:E,queryParams:l,fragment:d,routeConfig:h,url:p,outlet:g,title:A}));if(N instanceof Nn)throw new Pl(N);t=N}let a=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Pl(a);return a}applyRedirectCreateUrlTree(e,t,r,n){let o=this.createSegmentGroup(e,t.root,r,n);return new Nn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([n,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[n]=t[s]}else r[n]=o}),r}createSegmentGroup(e,t,r,n){let o=this.createSegments(e,t.segments,r,n),a={};return Object.entries(t.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(e,l,r,n)}),new Vt(o,a)}createSegments(e,t,r,n){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,n):this.findOrReturn(o,r))}findPosParam(e,t,r){let n=r[t.path.substring(1)];if(!n)throw new Kt(4001,!1);return n}findOrReturn(e,t){let r=0;for(let n of t){if(n.path===e.path)return t.splice(r),n;r++}return e}},pp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VI(i,e,t,r,n){let o=J1(i,e,t);return o.matched?(r=sI(e,r),kI(r,e,t,n).pipe(qe(a=>a===!0?o:J({},pp)))):Ge(o)}function J1(i,e,t){if(e.path==="**")return UI(t);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||t.length>0)?J({},pp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let n=(e.matcher||F2)(t,i,e);if(!n)return J({},pp);let o={};Object.entries(n.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=n.consumed.length>0?J(J({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:t.slice(n.consumed.length),parameters:a,positionalParamSegments:n.posParams??{}}}function UI(i){return{matched:!0,parameters:i.length>0?M1(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function T1(i,e,t,r){return t.length>0&&GI(i,t,r)?{segmentGroup:new Vt(e,jI(r,new Vt(t,i.children))),slicedSegments:[]}:t.length===0&&HI(i,t,r)?{segmentGroup:new Vt(i.segments,zI(i,t,r,i.children)),slicedSegments:t}:{segmentGroup:new Vt(i.segments,i.children),slicedSegments:t}}function zI(i,e,t,r){let n={};for(let o of t)if(Pu(i,e,o)&&!r[rn(o)]){let a=new Vt([],{});n[rn(o)]=a}return J(J({},r),n)}function jI(i,e){let t={};t[ut]=e;for(let r of i)if(r.path===""&&rn(r)!==ut){let n=new Vt([],{});t[rn(r)]=n}return t}function GI(i,e,t){return t.some(r=>Pu(i,e,r)&&rn(r)!==ut)}function HI(i,e,t){return t.some(r=>Pu(i,e,r))}function Pu(i,e,t){return(i.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function WI(i,e,t){return e.length===0&&!i.children[t]}var mp=class{};function XI(i,e,t,r,n,o,a="emptyOnly"){return new gp(i,e,t,r,n,a,o).recognize()}var YI=31,gp=class{constructor(e,t,r,n,o,a,s){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new hp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Kt(4002,`'${e.segmentGroup}'`)}recognize(){let e=T1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(qe(({children:t,rootSnapshot:r})=>{let n=new Di(r,t),o=new Du("",n),a=eI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(e){let t=new qa([],Object.freeze({}),Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ut,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ut,t).pipe(qe(r=>({children:r,rootSnapshot:t})),Qn(r=>{if(r instanceof Pl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ml?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,n,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,n,!0,o).pipe(qe(a=>a instanceof Di?[a]:[]))}processChildren(e,t,r,n){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return mi(o).pipe(Lo(a=>{let s=r.children[a],l=lI(t,a);return this.processSegmentGroup(e,l,s,a,n)}),Rv((a,s)=>(a.push(...s),a)),sh(null),Dv(),Bi(a=>{if(a===null)return Wa(r);let s=e_(a);return qI(s),Ge(s)}))}processSegment(e,t,r,n,o,a,s){return mi(t).pipe(Lo(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,n,o,a,s).pipe(Qn(d=>{if(d instanceof Ml)return Ge(null);throw d}))),fn(l=>!!l),Qn(l=>{if(K1(l))return WI(r,n,o)?Ge(new mp):Wa(r);throw l}))}processSegmentAgainstRoute(e,t,r,n,o,a,s,l){return rn(r)!==a&&(a===ut||!Pu(n,o,r))?Wa(n):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,n,r,o,a,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(e,n,t,r,o,a,l):Wa(n)}expandSegmentAgainstRouteUsingRedirect(e,t,r,n,o,a,s){let{matched:l,parameters:d,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=J1(t,n,o);if(!l)return Wa(t);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YI&&(this.allowRedirects=!1));let _=new qa(o,d,Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,D1(n),rn(n),n.component??n._loadedComponent??null,n,R1(n)),E=Tu(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(E.params),_.data=Object.freeze(E.data);let A=this.applyRedirects.applyRedirectCommands(h,n.redirectTo,p,_,e);return this.applyRedirects.lineralizeSegments(n,A).pipe(Bi(N=>this.processSegment(e,r,t,N.concat(g),a,!1,s)))}matchSegmentAgainstRoute(e,t,r,n,o,a){let s=VI(t,r,n,e,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(vi(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,n).pipe(vi(({routes:d})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:_}=l,E=new qa(g,p,Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,D1(r),rn(r),r.component??r._loadedComponent??null,r,R1(r)),A=Tu(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(A.params),E.data=Object.freeze(A.data);let{segmentGroup:N,slicedSegments:F}=T1(t,g,_,d);if(F.length===0&&N.hasChildren())return this.processChildren(h,d,N,E).pipe(qe(L=>new Di(E,L)));if(d.length===0&&F.length===0)return Ge(new Di(E,[]));let P=rn(r)===o;return this.processSegment(h,d,N,F,P?ut:o,!0,E).pipe(qe(L=>new Di(E,L instanceof Di?[L]:[])))}))):Wa(t)))}getChildConfig(e,t,r){return t.children?Ge({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Ge({routes:t._loadedRoutes,injector:t._loadedInjector}):FI(e,t,r,this.urlSerializer).pipe(Bi(n=>n?this.configLoader.loadChildren(e,t).pipe(mr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):BI(t))):Ge({routes:[],injector:e})}};function qI(i){i.sort((e,t)=>e.value.outlet===ut?-1:t.value.outlet===ut?1:e.value.outlet.localeCompare(t.value.outlet))}function $I(i){let e=i.value.routeConfig;return e&&e.path===""}function e_(i){let e=[],t=new Set;for(let r of i){if(!$I(r)){e.push(r);continue}let n=e.find(o=>r.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...r.children),t.add(n)):e.push(r)}for(let r of t){let n=e_(r.children);e.push(new Di(r.value,n))}return e.filter(r=>!t.has(r))}function D1(i){return i.data||{}}function R1(i){return i.resolve||{}}function ZI(i,e,t,r,n,o){return Bi(a=>XI(i,e,t,r,a.extractedUrl,n,o).pipe(qe(({state:s,tree:l})=>gt(J({},a),{targetSnapshot:s,urlAfterRedirects:l}))))}function KI(i,e){return Bi(t=>{let{targetSnapshot:r,guards:{canActivateChecks:n}}=t;if(!n.length)return Ge(t);let o=new Set(n.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let d of t_(l))a.add(d);let s=0;return mi(a).pipe(Lo(l=>o.has(l)?QI(l,r,i,e):(l.data=Tu(l,l.parent,i).resolve,Ge(void 0))),mr(()=>s++),ch(1),Bi(l=>s===a.size?Ge(t):Kn))})}function t_(i){let e=i.children.map(t=>t_(t)).flat();return[i,...e]}function QI(i,e,t,r){let n=i.routeConfig,o=i._resolve;return n?.title!==void 0&&!Y1(n)&&(o[Nl]=n.title),JI(o,i,e,r).pipe(qe(a=>(i._resolvedData=a,i.data=Tu(i,i.parent,t).resolve,null)))}function JI(i,e,t,r){let n=Xh(i);if(n.length===0)return Ge({});let o={};return mi(n).pipe(Bi(a=>eA(i[a],e,t,r).pipe(fn(),mr(s=>{if(s instanceof Ol)throw Ru(new Cl,s);o[a]=s}))),ch(1),Tv(o),Qn(a=>K1(a)?Kn:ko(a)))}function eA(i,e,t,r){let n=Fl(e)??r,o=es(i,n),a=o.resolve?o.resolve(e,t):Rn(n,()=>o(e,t));return no(a)}function Hh(i){return vi(e=>{let t=i(e);return t?mi(t).pipe(qe(()=>e)):Ge(e)})}var r_=(()=>{class i{buildTitle(t){let r,n=t.root;for(;n!==void 0;)r=this.getResolvedTitleForRoute(n)??r,n=n.children.find(o=>o.outlet===ut);return r}getResolvedTitleForRoute(t){return t.data[Nl]}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:()=>Re(tA),providedIn:"root"})}}return i})(),tA=(()=>{class i extends r_{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||i)(oe(w1))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),xp=new ct("",{providedIn:"root",factory:()=>({})}),rA=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=nr({type:i,selectors:[["ng-component"]],standalone:!0,features:[fr],decls:1,vars:0,template:function(r,n){r&1&&yt(0,"router-outlet")},dependencies:[uI],encapsulation:2})}}return i})();function Ep(i){let e=i.children&&i.children.map(Ep),t=e?gt(J({},i),{children:e}):J({},i);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ut&&(t.component=rA),t}var wp=new ct(""),iA=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Re(vh)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ge(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=no(t.loadComponent()).pipe(qe(i_),mr(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Bo(()=>{this.componentLoaders.delete(t)})),n=new nh(r,()=>new bt).pipe(ih());return this.componentLoaders.set(t,n),n}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ge({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=nA(r,this.compiler,t,this.onLoadEndListener).pipe(Bo(()=>{this.childrenLoaders.delete(r)})),a=new nh(o,()=>new bt).pipe(ih());return this.childrenLoaders.set(r,a),a}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function nA(i,e,t,r){return no(i.loadChildren()).pipe(qe(i_),Bi(n=>n instanceof Yv||Array.isArray(n)?Ge(n):mi(e.compileModuleAsync(n))),qe(n=>{r&&r(i);let o,a,s=!1;return Array.isArray(n)?(a=n,s=!0):(o=n.create(t).injector,a=o.get(wp,[],{optional:!0,self:!0}).flat()),{routes:a.map(Ep),injector:o}}))}function oA(i){return i&&typeof i=="object"&&"default"in i}function i_(i){return oA(i)?i.default:i}var Cp=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:()=>Re(aA),providedIn:"root"})}}return i})(),aA=(()=>{class i{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),sA=new ct("");var lA=new ct(""),cA=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new bt,this.transitionAbortSubject=new bt,this.configLoader=Re(iA),this.environmentInjector=Re(Vo),this.urlSerializer=Re(_p),this.rootContexts=Re(Mu),this.location=Re(Ga),this.inputBindingEnabled=Re(bp,{optional:!0})!==null,this.titleStrategy=Re(r_),this.options=Re(xp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Re(Cp),this.createViewTransition=Re(sA,{optional:!0}),this.navigationErrorHandler=Re(lA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ge(void 0),this.rootComponentType=null;let t=n=>this.events.next(new tp(n)),r=n=>this.events.next(new rp(n));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(gt(J(J({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,n){return this.transitions=new pi({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:El,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gi(o=>o.id!==0),qe(o=>gt(J({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),vi(o=>{let a=!1,s=!1;return Ge(o).pipe(vi(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ri.SupersededByNewNavigation),Kn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?gt(J({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&h!=="reload"){let p="";return this.events.next(new Zo(l.id,this.urlSerializer.serialize(l.rawUrl),p,Zh.IgnoredSameUrlNavigation)),l.resolve(!1),Kn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ge(l).pipe(vi(p=>{let g=this.transitions?.getValue();return this.events.next(new Sl(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Kn:Promise.resolve(p)}),ZI(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),mr(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=gt(J({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new Iu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:g,source:_,restoredState:E,extras:A}=l,N=new Sl(p,this.urlSerializer.serialize(g),_,E);this.events.next(N);let F=W1(this.rootComponentType).snapshot;return this.currentTransition=o=gt(J({},l),{targetSnapshot:F,urlAfterRedirects:g,extras:gt(J({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Ge(o)}else{let p="";return this.events.next(new Zo(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Zh.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Kn}}),mr(l=>{let d=new Kh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),qe(l=>(this.currentTransition=o=gt(J({},l),{guards:gI(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),SI(this.environmentInjector,l=>this.events.next(l)),mr(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Ru(this.urlSerializer,l.guardsResult);let d=new Qh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),gi(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ri.GuardRejected),!1)),Hh(l=>{if(l.guards.canActivateChecks.length)return Ge(l).pipe(mr(d=>{let h=new Jh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),vi(d=>{let h=!1;return Ge(d).pipe(KI(this.paramsInheritanceStrategy,this.environmentInjector),mr({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",Ri.NoDataFromResolver)}}))}),mr(d=>{let h=new ep(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),Hh(l=>{let d=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(mr(g=>{h.component=g}),qe(()=>{})));for(let g of h.children)p.push(...d(g));return p};return el(d(l.targetSnapshot.root)).pipe(sh(null),Qi(1))}),Hh(()=>this.afterPreactivation()),vi(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return h?mi(h).pipe(qe(()=>o)):Ge(o)}),qe(l=>{let d=dI(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=gt(J({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),mr(()=>{this.events.next(new Dl)}),mI(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Qi(1),mr({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $o(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Lr(this.transitionAbortSubject.pipe(mr(l=>{throw l}))),Bo(()=>{!a&&!s&&this.cancelNavigationTransition(o,"",Ri.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qn(l=>{if(s=!0,Z1(l))this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),pI(l)?this.events.next(new Ka(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Tl(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=Rn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof Ol){let{message:p,cancellationCode:g}=Ru(this.urlSerializer,h);this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new Ka(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let p=t.errorHandler(l);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Kn}))}))}cancelNavigationTransition(t,r,n){let o=new Pn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,n);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function uA(i){return i!==El}var dA=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:()=>Re(fA),providedIn:"root"})}}return i})(),vp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},fA=(()=>{class i extends vp{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=On(i)))(n||i)}})()}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),n_=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:()=>Re(hA),providedIn:"root"})}}return i})(),hA=(()=>{class i extends n_{constructor(){super(...arguments),this.location=Re(Ga),this.urlSerializer=Re(_p),this.options=Re(xp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Re(Cp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Nn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=W1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Sl)this.stateMemento=this.createStateMemento();else if(t instanceof Zo)this.rawUrlTree=r.initialUrl;else if(t instanceof Iu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let n=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??n,r)}}else t instanceof Dl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Pn&&(t.code===Ri.GuardRejected||t.code===Ri.NoDataFromResolver)?this.restoreHistory(r):t instanceof Tl?this.restoreHistory(r,!0):t instanceof $o&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let n=t instanceof Nn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(n)||r.extras.replaceUrl){let o=this.browserPageId,a=J(J({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(n,"",a)}else{let o=J(J({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(n,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,o=this.currentPageId-n;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=On(i)))(n||i)}})()}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),bl=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(bl||{});function pA(i,e){i.events.pipe(gi(t=>t instanceof $o||t instanceof Pn||t instanceof Tl||t instanceof Zo),qe(t=>t instanceof $o||t instanceof Zo?bl.COMPLETE:(t instanceof Pn?t.code===Ri.Redirect||t.code===Ri.SupersededByNewNavigation:!1)?bl.REDIRECTING:bl.FAILED),gi(t=>t!==bl.REDIRECTING),Qi(1)).subscribe(()=>{e()})}function mA(i){throw i}var gA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},o_=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Re(uu),this.stateManager=Re(n_),this.options=Re(xp,{optional:!0})||{},this.pendingTasks=Re(Nv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Re(cA),this.urlSerializer=Re(_p),this.location=Re(Ga),this.urlHandlingStrategy=Re(Cp),this._events=new bt,this.errorHandler=this.options.errorHandler||mA,this.navigated=!1,this.routeReuseStrategy=Re(dA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Re(wp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Re(bp,{optional:!0}),this.eventsSubscription=new Li,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let n=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(n!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Pn&&r.code!==Ri.Redirect&&r.code!==Ri.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $o)this.navigated=!0;else if(r instanceof Ka){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,n.currentRawUrl),l=J({browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||uA(n.source)},a);this.scheduleNavigation(s,El,null,l,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}yA(r)&&this._events.next(r)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),El,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,n){let o={replaceUrl:!0},a=n?.navigationId?n:null;if(n){let l=J({},n);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let s=this.parseUrl(t);this.scheduleNavigation(s,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ep),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:n,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:a,h=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":h=J(J({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=n?n.snapshot:this.routerState.snapshot.root;p=z1(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return j1(p,t,h,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let n=Il(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,El,null,r)}navigate(t,r={skipLocationChange:!1}){return _A(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let n;if(r===!0?n=J({},gA):r===!1?n=J({},vA):n=r,Il(t))return C1(this.currentUrlTree,t,n);let o=this.parseUrl(t);return C1(this.currentUrlTree,o,n)}removeEmptyProps(t){return Object.entries(t).reduce((r,[n,o])=>(o!=null&&(r[n]=o),r),{})}scheduleNavigation(t,r,n,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,d;a?(s=a.resolve,l=a.reject,d=a.promise):d=new Promise((p,g)=>{s=p,l=g});let h=this.pendingTasks.add();return pA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:s,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function _A(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new Kt(4008,!1)}function yA(i){return!(i instanceof Dl)&&!(i instanceof Ka)}var bA=new ct("");function a_(i,...e){return nl([{provide:wp,multi:!0,useValue:i},[],{provide:Qa,useFactory:xA,deps:[o_]},{provide:Qv,multi:!0,useFactory:EA},e.map(t=>t.\u0275providers)])}function xA(i){return i.routerState.root}function EA(){let i=Re(Jn);return e=>{let t=i.get(dl);if(e!==t.components[0])return;let r=i.get(o_),n=i.get(wA);i.get(CA)===1&&r.initialNavigation(),i.get(IA,null,uh.Optional)?.setUpPreloading(),i.get(bA,null,uh.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var wA=new ct("",{factory:()=>new bt}),CA=new ct("",{providedIn:"root",factory:()=>1});var IA=new ct("");var s_=[];var AA="@",SA=(()=>{class i{constructor(t,r,n,o,a){this.doc=t,this.delegate=r,this.zone=n,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=Re(Wv,{optional:!0}),this.loadingSchedulerFn=Re(TA,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-ZWHPMWYQ.js").then(n=>n),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(n=>{throw new Kt(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:o})=>{this._engine=n(this.animationType,this.doc);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(t,r){let n=this.delegate.createRenderer(t,r);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let o=new Ip(n);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let s=a.createRenderer(t,r);o.use(s),this.scheduler?.notify(10)}).catch(a=>{o.use(n)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(r){ll()}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}}return i})(),Ip=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,n){this.delegate.insertBefore(e,t,r,n)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,n){this.delegate.setAttribute(e,t,r,n)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,n){this.delegate.setStyle(e,t,r,n)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(n=>n.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(n=>n.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(AA)}},TA=new ct("");function l_(i="animations"){return Xv("NgAsyncAnimations"),nl([{provide:ou,useFactory:(e,t,r)=>new SA(e,t,r,i),deps:[mt,gu,vt]},{provide:en,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var c_={providers:[Jv({eventCoalescing:!0}),a_(s_),l_()]};var $u=typeof self<"u"?self:global,jl=typeof navigator<"u",DA=jl&&typeof HTMLImageElement>"u",ku=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),Zu=$u.Buffer,Nu=$u.BigInt,Ku=!!Zu,RA=i=>i;function Lu(i,e=RA){if(ku)try{return typeof th=="function"?Promise.resolve(e(th(i))):import(i).then(e)}catch{console.warn(`Couldn't load ${i}`)}}var Up=$u.fetch,OA=i=>Up=i;if(!$u.fetch){let i=Lu("http",r=>r),e=Lu("https",r=>r),t=(r,{headers:n}={})=>new Promise((o,a)=>Ee(void 0,null,function*(){let{port:s,hostname:l,pathname:d,protocol:h,search:p}=new URL(r),g={method:"GET",hostname:l,path:encodeURI(d)+p,headers:n};s!==""&&(g.port=Number(s));let _=(h==="https:"?yield e:yield i).request(g,E=>{if(E.statusCode===301||E.statusCode===302){let A=new URL(E.headers.location,r).toString();return t(A,{headers:n}).then(o).catch(a)}o({status:E.statusCode,arrayBuffer:()=>new Promise(A=>{let N=[];E.on("data",F=>N.push(F)),E.on("end",()=>A(Buffer.concat(N)))})})});_.on("error",a),_.end()}));OA(t)}function $e(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var Bu=i=>w_(i)?void 0:i,MA=i=>i!==void 0;function w_(i){return i===void 0||(i instanceof Map?i.size===0:Object.values(i).filter(MA).length===0)}function Nr(i){let e=new Error(i);throw delete e.stack,e}function Qo(i){return(i=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(i).trim())===""?void 0:i}function Dp(i){let e=function(t){let r=0;return t.ifd0.enabled&&(r+=1024),t.exif.enabled&&(r+=2048),t.makerNote&&(r+=2048),t.userComment&&(r+=1024),t.gps.enabled&&(r+=512),t.interop.enabled&&(r+=100),t.ifd1.enabled&&(r+=1024),r+2048}(i);return i.jfif.enabled&&(e+=50),i.xmp.enabled&&(e+=2e4),i.iptc.enabled&&(e+=14e3),i.icc.enabled&&(e+=6e3),e}var Rp=i=>String.fromCharCode.apply(null,i),u_=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function C_(i){return u_?u_.decode(i):Ku?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(Rp(i)))}var vn=class i{static from(e,t){return e instanceof this&&e.le===t?e:new i(e,void 0,void 0,t)}constructor(e,t=0,r,n){if(typeof n=="boolean"&&(this.le=n),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-t);let o=new DataView(e,t,r);this._swapDataView(o)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof i){r===void 0&&(r=e.byteLength-t),(t+=e.byteOffset)+r>e.byteOffset+e.byteLength&&Nr("Creating view outside of available memory in ArrayBuffer");let o=new DataView(e.buffer,t,r);this._swapDataView(o)}else if(typeof e=="number"){let o=new DataView(new ArrayBuffer(e));this._swapDataView(o)}else Nr("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,r=i){return e instanceof DataView||e instanceof i?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Nr("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new r(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new i(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return C_(this.getUint8Array(e,t))}getLatin1String(e=0,t=this.byteLength){let r=this.getUint8Array(e,t);return Rp(r)}getUnicodeString(e=0,t=this.byteLength){let r=[];for(let n=0;n<t&&e+n<this.byteLength;n+=2)r.push(this.getUint16(e+n));return Rp(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,r){switch(t){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,t,r){switch(t){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}};function Op(i,e){Nr(`${i} '${e}' was not loaded, try using full build of exifr.`)}var Gl=class extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||Op(this.kind,e),t&&(e in t||function(r,n){Nr(`Unknown ${r} '${n}'.`)}(this.kind,e),t[e].enabled||Op(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}},_n=new Gl("file parser"),Pr=new Gl("segment parser"),bn=new Gl("file reader");function PA(i,e){return typeof i=="string"?d_(i,e):jl&&!DA&&i instanceof HTMLImageElement?d_(i.src,e):i instanceof Uint8Array||i instanceof ArrayBuffer||i instanceof DataView?new vn(i):jl&&i instanceof Blob?Mp(i,e,"blob",ra):void Nr("Invalid input argument")}function d_(i,e){return(t=i).startsWith("data:")||t.length>1e4?Pp(i,e,"base64"):ku&&i.includes("://")?Mp(i,e,"url",ta):ku?Pp(i,e,"fs"):jl?Mp(i,e,"url",ta):void Nr("Invalid input argument");var t}function Mp(i,e,t,r){return Ee(this,null,function*(){return bn.has(t)?Pp(i,e,t):r?function(n,o){return Ee(this,null,function*(){let a=yield o(n);return new vn(a)})}(i,r):void Nr(`Parser ${t} is not loaded`)})}function Pp(i,e,t){return Ee(this,null,function*(){let r=new(bn.get(t))(i,e);return yield r.read(),r})}var ta=i=>Up(i).then(e=>e.arrayBuffer()),ra=i=>new Promise((e,t)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=t,r.readAsArrayBuffer(i)}),Np=class extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}};function Dr(i,e,t){let r=new Np;for(let[n,o]of t)r.set(n,o);if(Array.isArray(e))for(let n of e)i.set(n,r);else i.set(e,r);return r}function ia(i,e,t){let r,n=i.get(e);for(r of t)n.set(r[0],r[1])}var jr=new Map,nn=new Map,co=new Map,oo=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],os=["jfif","xmp","icc","iptc","ihdr"],na=["tiff",...os],xr=["ifd0","ifd1","exif","gps","interop"],ao=[...na,...xr],so=["makerNote","userComment"],as=["translateKeys","translateValues","reviveValues","multiSegment"],lo=[...as,"sanitize","mergeOutput","silentErrors"],Vu=class{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}},Ko=class extends Vu{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,r,n){if(super(),$e(this,"enabled",!1),$e(this,"skip",new Set),$e(this,"pick",new Set),$e(this,"deps",new Set),$e(this,"translateKeys",!1),$e(this,"translateValues",!1),$e(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(n),this.canBeFiltered=xr.includes(e),this.canBeFiltered&&(this.dict=jr.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:o,skip:a}=r;o&&o.length>0&&this.translateTagSet(o,this.pick),a&&a.length>0&&this.translateTagSet(a,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:Nr(`Invalid options argument: ${r}`)}applyInheritables(e){let t,r;for(t of as)r=e[t],r!==void 0&&(this[t]=r)}translateTagSet(e,t){if(this.dict){let r,n,{tagKeys:o,tagValues:a}=this.dict;for(r of e)typeof r=="string"?(n=a.indexOf(r),n===-1&&(n=o.indexOf(Number(r))),n!==-1&&t.add(Number(o[n]))):t.add(r)}else for(let r of e)t.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Uu(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Uu(this.pick,this.deps)}},li={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},f_=new Map,kn=class extends Vu{static useCached(e){let t=f_.get(e);return t!==void 0||(t=new this(e),f_.set(e,t)),t}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):Nr(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=jl?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of oo)this[e]=li[e];for(e of lo)this[e]=li[e];for(e of so)this[e]=li[e];for(e of ao)this[e]=new Ko(e,li[e],void 0,this)}setupFromTrue(){let e;for(e of oo)this[e]=li[e];for(e of lo)this[e]=li[e];for(e of so)this[e]=!0;for(e of ao)this[e]=new Ko(e,!0,void 0,this)}setupFromArray(e){let t;for(t of oo)this[t]=li[t];for(t of lo)this[t]=li[t];for(t of so)this[t]=li[t];for(t of ao)this[t]=new Ko(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,xr)}setupFromObject(e){let t;for(t of(xr.ifd0=xr.ifd0||xr.image,xr.ifd1=xr.ifd1||xr.thumbnail,Object.assign(this,e),oo))this[t]=Ap(e[t],li[t]);for(t of lo)this[t]=Ap(e[t],li[t]);for(t of so)this[t]=Ap(e[t],li[t]);for(t of na)this[t]=new Ko(t,li[t],e[t],this);for(t of xr)this[t]=new Ko(t,li[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,xr,ao),e.tiff===!0?this.batchEnableWithBool(xr,!0):e.tiff===!1?this.batchEnableWithUserValue(xr,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,xr):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,xr)}batchEnableWithBool(e,t){for(let r of e)this[r].enabled=t}batchEnableWithUserValue(e,t){for(let r of e){let n=t[r];this[r].enabled=n!==!1&&n!==void 0}}setupGlobalFilters(e,t,r,n=r){if(e&&e.length){for(let a of n)this[a].enabled=!1;let o=h_(e,r);for(let[a,s]of o)Uu(this[a].pick,s),this[a].enabled=!0}else if(t&&t.length){let o=h_(t,r);for(let[a,s]of o)Uu(this[a].skip,s)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:r,iptc:n,icc:o}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),r.enabled||e.skip.add(700),n.enabled||e.skip.add(33723),o.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:r,interop:n}=this;n.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=xr.some(o=>this[o].enabled===!0)||this.makerNote||this.userComment;for(let o of xr)this[o].finalizeFilters()}get onlyTiff(){return!os.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of na)this[e].enabled&&!Pr.has(e)&&Op("segment parser",e)}};function h_(i,e){let t,r,n,o,a=[];for(n of e){for(o of(t=jr.get(n),r=[],t))(i.includes(o[0])||i.includes(o[1]))&&r.push(o[0]);r.length&&a.push([n,r])}return a}function Ap(i,e){return i!==void 0?i:e!==void 0?e:void 0}function Uu(i,e){for(let t of e)i.add(t)}$e(kn,"default",li);var yn=class{constructor(e){$e(this,"parsers",{}),$e(this,"output",{}),$e(this,"errors",[]),$e(this,"pushToErrors",t=>this.errors.push(t)),this.options=kn.useCached(e)}read(e){return Ee(this,null,function*(){this.file=yield PA(e,this.options)})}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[r,n]of _n)if(n.canHandle(e,t))return this.fileParser=new n(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),Nr("Unknown file format")}parse(){return Ee(this,null,function*(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(yield this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):yield this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),Bu(e)})}executeParsers(){return Ee(this,null,function*(){let{output:e}=this;yield this.fileParser.parse();let t=Object.values(this.parsers).map(r=>Ee(this,null,function*(){let n=yield r.parse();r.assignToOutput(e,n)}));this.options.silentErrors&&(t=t.map(r=>r.catch(this.pushToErrors))),yield Promise.all(t)})}extractThumbnail(){return Ee(this,null,function*(){this.setup();let{options:e,file:t}=this,r=Pr.get("tiff",e);var n;if(t.tiff?n={start:0,type:"tiff"}:t.jpeg&&(n=yield this.fileParser.getOrFindSegment("tiff")),n===void 0)return;let o=yield this.fileParser.ensureSegmentChunk(n),a=this.parsers.tiff=new r(o,e,t),s=yield a.extractThumbnail();return t.close&&t.close(),s})}};function ss(i,e){return Ee(this,null,function*(){let t=new yn(e);return yield t.read(i),t.parse()})}var NA=Object.freeze({__proto__:null,parse:ss,Exifr:yn,fileParsers:_n,segmentParsers:Pr,fileReaders:bn,tagKeys:jr,tagValues:nn,tagRevivers:co,createDictionary:Dr,extendDictionary:ia,fetchUrlAsArrayBuffer:ta,readBlobAsArrayBuffer:ra,chunkedProps:oo,otherSegments:os,segments:na,tiffBlocks:xr,segmentsAndBlocks:ao,tiffExtractables:so,inheritables:as,allFormatters:lo,Options:kn}),is=class{constructor(e,t,r){$e(this,"errors",[]),$e(this,"ensureSegmentChunk",n=>Ee(this,null,function*(){let o=n.start,a=n.size||65536;if(this.file.chunked)if(this.file.available(o,a))n.chunk=this.file.subarray(o,a);else try{n.chunk=yield this.file.readChunk(o,a)}catch(s){Nr(`Couldn't read segment: ${JSON.stringify(n)}. ${s.message}`)}else this.file.byteLength>o+a?n.chunk=this.file.subarray(o,a):n.size===void 0?n.chunk=this.file.subarray(o):Nr("Segment unreachable: "+JSON.stringify(n));return n.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=r}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let r=new(Pr.get(e))(t,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let t of e){let{type:r,chunk:n}=t,o=this.options[r];if(o&&o.enabled){let a=this.parsers[r];a&&a.append||a||this.createParser(r,n)}}}readSegments(e){return Ee(this,null,function*(){let t=e.map(this.ensureSegmentChunk);yield Promise.all(t)})}},Oi=class{static findPosition(e,t){let r=e.getUint16(t+2)+2,n=typeof this.headerLength=="function"?this.headerLength(e,t,r):this.headerLength,o=t+n,a=r-n;return{offset:t,length:r,headerLength:n,start:o,size:a,end:o+a}}static parse(e,t={}){return new this(e,new kn({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof vn?e:new vn(e)}constructor(e,t={},r){$e(this,"errors",[]),$e(this,"raw",new Map),$e(this,"handleError",n=>{if(!this.options.silentErrors)throw n;this.errors.push(n.message)}),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let r=co.get(t),n=nn.get(t),o=jr.get(t),a=this.options[t],s=a.reviveValues&&!!r,l=a.translateValues&&!!n,d=a.translateKeys&&!!o,h={};for(let[p,g]of e)s&&r.has(p)?g=r.get(p)(g):l&&n.has(p)&&(g=this.translateValue(g,n.get(p))),d&&o.has(p)&&(p=o.get(p)||p),h[p]=g;return h}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[t]?Object.assign(e[t],r):e[t]=r}};$e(Oi,"headerLength",4),$e(Oi,"type",void 0),$e(Oi,"multiSegment",!1),$e(Oi,"canHandle",()=>!1);function FA(i){return i===192||i===194||i===196||i===219||i===221||i===218||i===254}function kA(i){return i>=224&&i<=239}function LA(i,e,t){for(let[r,n]of Pr)if(n.canHandle(i,e,t))return r}var zu=class extends is{constructor(...e){super(...e),$e(this,"appSegments",[]),$e(this,"jpegSegments",[]),$e(this,"unknownSegments",[])}static canHandle(e,t){return t===65496}parse(){return Ee(this,null,function*(){yield this.findAppSegments(),yield this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)})}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Pr.keyList())):(e=e===void 0?Pr.keyList().filter(t=>this.options[t].enabled):e.filter(t=>this.options[t].enabled&&Pr.has(t)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}findAppSegments(e=0,t){return Ee(this,null,function*(){this.setupSegmentFinderArgs(t);let{file:r,findAll:n,wanted:o,remaining:a}=this;if(!n&&this.file.chunked&&(n=Array.from(o).some(s=>{let l=Pr.get(s),d=this.options[s];return l.multiSegment&&d.multiSegment}),n&&(yield this.file.readWhole())),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let s=!1;for(;a.size>0&&!s&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:l}=r,d=this.appSegments.some(h=>!this.file.available(h.offset||h.start,h.length||h.size));if(s=e>l&&!d?!(yield r.readNextChunk(e)):!(yield r.readNextChunk(l)),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}})}findAppSegmentsInRange(e,t){t-=2;let r,n,o,a,s,l,{file:d,findAll:h,wanted:p,remaining:g,options:_}=this;for(;e<t;e++)if(d.getUint8(e)===255){if(r=d.getUint8(e+1),kA(r)){if(n=d.getUint16(e+2),o=LA(d,e,n),o&&p.has(o)&&(a=Pr.get(o),s=a.findPosition(d,e),l=_[o],s.type=o,this.appSegments.push(s),!h&&(a.multiSegment&&l.multiSegment?(this.unfinishedMultiSegment=s.chunkNumber<s.chunkCount,this.unfinishedMultiSegment||g.delete(o)):g.delete(o),g.size===0)))break;_.recordUnknownSegments&&(s=Oi.findPosition(d,e),s.marker=r,this.unknownSegments.push(s)),e+=n+1}else if(FA(r)){if(n=d.getUint16(e+2),r===218&&_.stopAfterSos!==!1)return;_.recordJpegSegments&&this.jpegSegments.push({offset:e,length:n,marker:r}),e+=n+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(t=>t.multiSegment))return;let e=function(t,r){let n,o,a,s=new Map;for(let l=0;l<t.length;l++)n=t[l],o=n[r],s.has(o)?a=s.get(o):s.set(o,a=[]),a.push(n);return Array.from(s)}(this.appSegments,"type");this.mergedAppSegments=e.map(([t,r])=>{let n=Pr.get(t,this.options);return n.handleMultiSegments?{type:t,chunk:n.handleMultiSegments(r)}:r[0]})}getSegment(e){return this.appSegments.find(t=>t.type===e)}getOrFindSegment(e){return Ee(this,null,function*(){let t=this.getSegment(e);return t===void 0&&(yield this.findAppSegments(0,[e]),t=this.getSegment(e)),t})}};$e(zu,"type","jpeg"),_n.set("jpeg",zu);var BA=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],Fp=class extends Oi{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,r=new Map){let{pick:n,skip:o}=this.options[t];n=new Set(n);let a=n.size>0,s=o.size===0,l=this.chunk.getUint16(e);e+=2;for(let d=0;d<l;d++){let h=this.chunk.getUint16(e);if(a){if(n.has(h)&&(r.set(h,this.parseTag(e,h,t)),n.delete(h),n.size===0))break}else!s&&o.has(h)||r.set(h,this.parseTag(e,h,t));e+=12}return r}parseTag(e,t,r){let{chunk:n}=this,o=n.getUint16(e+2),a=n.getUint32(e+4),s=BA[o];if(s*a<=4?e+=8:e=n.getUint32(e+8),(o<1||o>13)&&Nr(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${t.toString(16)}, type: ${o}, offset ${e}`),e>n.byteLength&&Nr(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${t.toString(16)}, type: ${o}, offset ${e} is outside of chunk size ${n.byteLength}`),o===1)return n.getUint8Array(e,a);if(o===2)return Qo(n.getString(e,a));if(o===7)return n.getUint8Array(e,a);if(a===1)return this.parseTagValue(o,e);{let l=new(function(h){switch(h){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(o))(a),d=s;for(let h=0;h<a;h++)l[h]=this.parseTagValue(o,e),e+=d;return l}}parseTagValue(e,t){let{chunk:r}=this;switch(e){case 1:return r.getUint8(t);case 3:return r.getUint16(t);case 4:return r.getUint32(t);case 5:return r.getUint32(t)/r.getUint32(t+4);case 6:return r.getInt8(t);case 8:return r.getInt16(t);case 9:return r.getInt32(t);case 10:return r.getInt32(t)/r.getInt32(t+4);case 11:return r.getFloat(t);case 12:return r.getDouble(t);case 13:return r.getUint32(t);default:Nr(`Invalid tiff type ${e}`)}}},Bl=class extends Fp{static canHandle(e,t){return e.getUint8(t+1)===225&&e.getUint32(t+4)===1165519206&&e.getUint16(t+8)===0}parse(){return Ee(this,null,function*(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&(yield this.parseIfd0Block()),e.exif.enabled&&(yield this.safeParse("parseExifBlock")),e.gps.enabled&&(yield this.safeParse("parseGpsBlock")),e.interop.enabled&&(yield this.safeParse("parseInteropBlock")),e.ifd1.enabled&&(yield this.safeParse("parseThumbnailBlock")),this.createOutput()})}safeParse(e){let t=this[e]();return t.catch!==void 0&&(t=t.catch(this.handleError)),t}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let r=new Map;return this[t]=r,this.parseTags(e,t,r),r}parseIfd0Block(){return Ee(this,null,function*(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Nr("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Nr(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&(yield e.ensureChunk(this.ifd0Offset,Dp(this.options)));let t=this.parseBlock(this.ifd0Offset,"ifd0");return t.size!==0?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0})}parseExifBlock(){return Ee(this,null,function*(){if(this.exif||(this.ifd0||(yield this.parseIfd0Block()),this.exifOffset===void 0))return;this.file.tiff&&(yield this.file.ensureChunk(this.exifOffset,Dp(this.options)));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e})}unpack(e,t){let r=e.get(t);r&&r.length===1&&e.set(t,r[0])}parseGpsBlock(){return Ee(this,null,function*(){if(this.gps||(this.ifd0||(yield this.parseIfd0Block()),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",p_(...e.get(2),e.get(1))),e.set("longitude",p_(...e.get(4),e.get(3)))),e})}parseInteropBlock(){return Ee(this,null,function*(){if(!this.interop&&(this.ifd0||(yield this.parseIfd0Block()),this.interopOffset!==void 0||this.exif||(yield this.parseExifBlock()),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")})}parseThumbnailBlock(e=!1){return Ee(this,null,function*(){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1})}extractThumbnail(){return Ee(this,null,function*(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||(yield this.parseThumbnailBlock(!0)),this.ifd1===void 0)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)})}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,r,n={};for(t of xr)if(e=this[t],!w_(e))if(r=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if(t==="ifd1")continue;Object.assign(n,r)}else n[t]=r;return this.makerNote&&(n.makerNote=this.makerNote),this.userComment&&(n.userComment=this.userComment),n}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[r,n]of Object.entries(t))this.assignObjectToOutput(e,r,n)}};function p_(i,e,t,r){var n=i+e/60+t/3600;return r!=="S"&&r!=="W"||(n*=-1),n}$e(Bl,"type","tiff"),$e(Bl,"headerLength",10),Pr.set("tiff",Bl);var VA=Object.freeze({__proto__:null,default:NA,Exifr:yn,fileParsers:_n,segmentParsers:Pr,fileReaders:bn,tagKeys:jr,tagValues:nn,tagRevivers:co,createDictionary:Dr,extendDictionary:ia,fetchUrlAsArrayBuffer:ta,readBlobAsArrayBuffer:ra,chunkedProps:oo,otherSegments:os,segments:na,tiffBlocks:xr,segmentsAndBlocks:ao,tiffExtractables:so,inheritables:as,allFormatters:lo,Options:kn,parse:ss}),zp={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},jp=Object.assign({},zp,{firstChunkSize:4e4,gps:[1,2,3,4]});function I_(i){return Ee(this,null,function*(){let e=new yn(jp);yield e.read(i);let t=yield e.parse();if(t&&t.gps){let{latitude:r,longitude:n}=t.gps;return{latitude:r,longitude:n}}})}var Gp=Object.assign({},zp,{tiff:!1,ifd1:!0,mergeOutput:!1});function A_(i){return Ee(this,null,function*(){let e=new yn(Gp);yield e.read(i);let t=yield e.extractThumbnail();return t&&Ku?Zu.from(t):t})}function S_(i){return Ee(this,null,function*(){let e=yield this.thumbnail(i);if(e!==void 0){let t=new Blob([e]);return URL.createObjectURL(t)}})}var Hp=Object.assign({},zp,{firstChunkSize:4e4,ifd0:[274]});function Wp(i){return Ee(this,null,function*(){let e=new yn(Hp);yield e.read(i);let t=yield e.parse();if(t&&t.ifd0)return t.ifd0[274]})}var Xp=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),Jo=!0,ea=!0;if(typeof navigator=="object"){let i=navigator.userAgent;if(i.includes("iPad")||i.includes("iPhone")){let e=i.match(/OS (\d+)_(\d+)/);if(e){let[,t,r]=e;Jo=Number(t)+.1*Number(r)<13.4,ea=!1}}else if(i.includes("OS X 10")){let[,e]=i.match(/OS X 10[_.](\d+)/);Jo=ea=Number(e)<15}if(i.includes("Chrome/")){let[,e]=i.match(/Chrome\/(\d+)/);Jo=ea=Number(e)<81}else if(i.includes("Firefox/")){let[,e]=i.match(/Firefox\/(\d+)/);Jo=ea=Number(e)<77}}function T_(i){return Ee(this,null,function*(){let e=yield Wp(i);return Object.assign({canvas:Jo,css:ea},Xp[e])})}var kp=class extends vn{constructor(...e){super(...e),$e(this,"ranges",new Lp),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,r){if(e===0&&this.byteLength===0&&r){let n=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(n)}else{let n=e+t;if(n>this.byteLength){let{dataView:o}=this._extend(n);this._swapDataView(o)}}}_extend(e){let t;t=Ku?Zu.allocUnsafe(e):new Uint8Array(e);let r=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:r}}subarray(e,t,r=!1){return t=t||this._lengthToEnd(e),r&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,r=!1){r&&this._tryExtend(t,e.byteLength,e);let n=super.set(e,t);return this.ranges.add(t,n.byteLength),n}ensureChunk(e,t){return Ee(this,null,function*(){this.chunked&&(this.ranges.available(e,t)||(yield this.readChunk(e,t)))})}available(e,t){return this.ranges.available(e,t)}},Lp=class{constructor(){$e(this,"list",[])}get length(){return this.list.length}add(e,t,r=0){let n=e+t,o=this.list.filter(a=>m_(e,a.offset,n)||m_(e,a.end,n));if(o.length>0){e=Math.min(e,...o.map(s=>s.offset)),n=Math.max(n,...o.map(s=>s.end)),t=n-e;let a=o.shift();a.offset=e,a.length=t,a.end=n,this.list=this.list.filter(s=>!o.includes(s))}else this.list.push({offset:e,length:t,end:n})}available(e,t){let r=e+t;return this.list.some(n=>n.offset<=e&&r<=n.end)}};function m_(i,e,t){return i<=e&&e<=t}var ns=class extends kp{constructor(e,t){super(0),$e(this,"chunksRead",0),this.input=e,this.options=t}readWhole(){return Ee(this,null,function*(){this.chunked=!1,yield this.readChunk(this.nextChunkOffset)})}readChunked(){return Ee(this,null,function*(){this.chunked=!0,yield this.readChunk(0,this.options.firstChunkSize)})}readNextChunk(){return Ee(this,arguments,function*(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,r=yield this.readChunk(e,t);return!!r&&r.byteLength===t})}readChunk(e,t){return Ee(this,null,function*(){if(this.chunksRead++,(t=this.safeWrapAddress(e,t))!==0)return this._readChunk(e,t)})}safeWrapAddress(e,t){return this.size!==void 0&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}};bn.set("blob",class extends ns{readWhole(){return Ee(this,null,function*(){this.chunked=!1;let i=yield ra(this.input);this._swapArrayBuffer(i)})}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}_readChunk(i,e){return Ee(this,null,function*(){let t=e?i+e:void 0,r=this.input.slice(i,t),n=yield ra(r);return this.set(n,i,!0)})}});var UA=Object.freeze({__proto__:null,default:VA,Exifr:yn,fileParsers:_n,segmentParsers:Pr,fileReaders:bn,tagKeys:jr,tagValues:nn,tagRevivers:co,createDictionary:Dr,extendDictionary:ia,fetchUrlAsArrayBuffer:ta,readBlobAsArrayBuffer:ra,chunkedProps:oo,otherSegments:os,segments:na,tiffBlocks:xr,segmentsAndBlocks:ao,tiffExtractables:so,inheritables:as,allFormatters:lo,Options:kn,parse:ss,gpsOnlyOptions:jp,gps:I_,thumbnailOnlyOptions:Gp,thumbnail:A_,thumbnailUrl:S_,orientationOnlyOptions:Hp,orientation:Wp,rotations:Xp,get rotateCanvas(){return Jo},get rotateCss(){return ea},rotation:T_});bn.set("url",class extends ns{readWhole(){return Ee(this,null,function*(){this.chunked=!1;let i=yield ta(this.input);i instanceof ArrayBuffer?this._swapArrayBuffer(i):i instanceof Uint8Array&&this._swapBuffer(i)})}_readChunk(i,e){return Ee(this,null,function*(){let t=e?i+e-1:void 0,r=this.options.httpHeaders||{};(i||t)&&(r.range=`bytes=${[i,t].join("-")}`);let n=yield Up(this.input,{headers:r}),o=yield n.arrayBuffer(),a=o.byteLength;if(n.status!==416)return a!==e&&(this.size=i+a),this.set(o,i,!0)})}});vn.prototype.getUint64=function(i){let e=this.getUint32(i),t=this.getUint32(i+4);return e<1048575?e<<32|t:typeof Nu!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),Nu(e)<<Nu(32)|Nu(t)):void Nr("Trying to read 64b value but JS can only handle 53b numbers.")};var Bp=class extends is{parseBoxes(e=0){let t=[];for(;e<this.file.byteLength-4;){let r=this.parseBoxHead(e);if(t.push(r),r.length===0)break;e+=r.length}return t}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,t){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find(r=>r.kind===t)}parseBoxHead(e){let t=this.file.getUint32(e),r=this.file.getString(e+4,4),n=e+8;return t===1&&(t=this.file.getUint64(e+8),n+=8),{offset:e,length:t,kind:r,start:n}}parseBoxFullHead(e){if(e.version!==void 0)return;let t=this.file.getUint32(e.start);e.version=t>>24,e.start+=4}},ju=class extends Bp{static canHandle(e,t){if(t!==0)return!1;let r=e.getUint16(2);if(r>50)return!1;let n=16,o=[];for(;n<r;)o.push(e.getString(n,4)),n+=4;return o.includes(this.type)}parse(){return Ee(this,null,function*(){let e=this.file.getUint32(0),t=this.parseBoxHead(e);for(;t.kind!=="meta";)e+=t.length,yield this.file.ensureChunk(e,16),t=this.parseBoxHead(e);yield this.file.ensureChunk(t.offset,t.length),this.parseBoxFullHead(t),this.parseSubBoxes(t),this.options.icc.enabled&&(yield this.findIcc(t)),this.options.tiff.enabled&&(yield this.findExif(t))})}registerSegment(e,t,r){return Ee(this,null,function*(){yield this.file.ensureChunk(t,r);let n=this.file.subarray(t,r);this.createParser(e,n)})}findIcc(e){return Ee(this,null,function*(){let t=this.findBox(e,"iprp");if(t===void 0)return;let r=this.findBox(t,"ipco");if(r===void 0)return;let n=this.findBox(r,"colr");n!==void 0&&(yield this.registerSegment("icc",n.offset+12,n.length))})}findExif(e){return Ee(this,null,function*(){let t=this.findBox(e,"iinf");if(t===void 0)return;let r=this.findBox(e,"iloc");if(r===void 0)return;let n=this.findExifLocIdInIinf(t),o=this.findExtentInIloc(r,n);if(o===void 0)return;let[a,s]=o;yield this.file.ensureChunk(a,s);let l=4+this.file.getUint32(a);a+=l,s-=l,yield this.registerSegment("tiff",a,s)})}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let t,r,n,o,a=e.start,s=this.file.getUint16(a);for(a+=2;s--;){if(t=this.parseBoxHead(a),this.parseBoxFullHead(t),r=t.start,t.version>=2&&(n=t.version===3?4:2,o=this.file.getString(r+n+2,4),o==="Exif"))return this.file.getUintBytes(r,n);a+=t.length}}get8bits(e){let t=this.file.getUint8(e);return[t>>4,15&t]}findExtentInIloc(e,t){this.parseBoxFullHead(e);let r=e.start,[n,o]=this.get8bits(r++),[a,s]=this.get8bits(r++),l=e.version===2?4:2,d=e.version===1||e.version===2?2:0,h=s+n+o,p=e.version===2?4:2,g=this.file.getUintBytes(r,p);for(r+=p;g--;){let _=this.file.getUintBytes(r,l);r+=l+d+2+a;let E=this.file.getUint16(r);if(r+=2,_===t)return E>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(r+s,n),this.file.getUintBytes(r+s+n,o)];r+=E*h}}},Gu=class extends ju{};$e(Gu,"type","heic");var Hu=class extends ju{};$e(Hu,"type","avif"),_n.set("heic",Gu),_n.set("avif",Hu),Dr(jr,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),Dr(jr,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),Dr(jr,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),Dr(nn,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);var Vl=Dr(nn,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]),g_={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Vl.set(37392,g_),Vl.set(41488,g_);var Sp={0:"Normal",1:"Low",2:"High"};function v_(i){return typeof i=="object"&&i.length!==void 0?i[0]:i}function __(i){let e=Array.from(i).slice(1);return e[1]>15&&(e=e.map(t=>String.fromCharCode(t))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function Tp(i){if(typeof i=="string"){var[e,t,r,n,o,a]=i.trim().split(/[-: ]/g).map(Number),s=new Date(e,t-1,r);return Number.isNaN(n)||Number.isNaN(o)||Number.isNaN(a)||(s.setHours(n),s.setMinutes(o),s.setSeconds(a)),Number.isNaN(+s)?i:s}}function Ll(i){if(typeof i=="string")return i;let e=[];if(i[1]===0&&i[i.length-1]===0)for(let t=0;t<i.length;t+=2)e.push(y_(i[t+1],i[t]));else for(let t=0;t<i.length;t+=2)e.push(y_(i[t],i[t+1]));return Qo(String.fromCodePoint(...e))}function y_(i,e){return i<<8|e}Vl.set(41992,Sp),Vl.set(41993,Sp),Vl.set(41994,Sp),Dr(co,["ifd0","ifd1"],[[50827,function(i){return typeof i!="string"?C_(i):i}],[306,Tp],[40091,Ll],[40092,Ll],[40093,Ll],[40094,Ll],[40095,Ll]]),Dr(co,"exif",[[40960,__],[36864,__],[36867,Tp],[36868,Tp],[40962,v_],[40963,v_]]),Dr(co,"gps",[[0,i=>Array.from(i).join(".")],[7,i=>Array.from(i).join(":")]]);var Ul=class extends Oi{static canHandle(e,t){return e.getUint8(t+1)===225&&e.getUint32(t+4)===1752462448&&e.getString(t+4,20)==="http://ns.adobe.com/"}static headerLength(e,t){return e.getString(t+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,t){let r=super.findPosition(e,t);return r.multiSegment=r.extended=r.headerLength===79,r.multiSegment?(r.chunkCount=e.getUint8(t+72),r.chunkNumber=e.getUint8(t+76),e.getUint8(t+77)!==0&&r.chunkNumber++):(r.chunkCount=1/0,r.chunkNumber=-1),r}static handleMultiSegments(e){return e.map(t=>t.chunk.getString()).join("")}normalizeInput(e){return typeof e=="string"?e:vn.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=function(o){let a={},s={};for(let l of M_)a[l]=[],s[l]=0;return o.replace(HA,(l,d,h)=>{if(d==="<"){let p=++s[h];return a[h].push(p),`${l}#${p}`}return`${l}#${a[h].pop()}`})}(e);let t=Wu.findAll(e,"rdf","Description");t.length===0&&t.push(new Wu("rdf","Description",void 0,e));let r,n={};for(let o of t)for(let a of o.properties)r=GA(a.ns,n),D_(a,r);return function(o){let a;for(let s in o)a=o[s]=Bu(o[s]),a===void 0&&delete o[s];return Bu(o)}(n)}assignToOutput(e,t){if(this.localOptions.parse)for(let[r,n]of Object.entries(t))switch(r){case"tiff":this.assignObjectToOutput(e,"ifd0",n);break;case"exif":this.assignObjectToOutput(e,"exif",n);break;case"xmlns":break;default:this.assignObjectToOutput(e,r,n)}else e.xmp=t}};$e(Ul,"type","xmp"),$e(Ul,"multiSegment",!0),Pr.set("xmp",Ul);var Vp=class i{static findAll(e){return R_(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(i.unpackMatch)}static unpackMatch(e){let t=e[1],r=e[2],n=e[3].slice(1,-1);return n=O_(n),new i(t,r,n)}constructor(e,t,r){this.ns=e,this.name=t,this.value=r}serialize(){return this.value}},Wu=class i{static findAll(e,t,r){if(t!==void 0||r!==void 0){t=t||"[\\w\\d-]+",r=r||"[\\w\\d-]+";var n=new RegExp(`<(${t}):(${r})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else n=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return R_(e,n).map(i.unpackMatch)}static unpackMatch(e){let t=e[1],r=e[2],n=e[4],o=e[8];return new i(t,r,n,o)}constructor(e,t,r,n){this.ns=e,this.name=t,this.attrString=r,this.innerXml=n,this.attrs=Vp.findAll(r),this.children=i.findAll(n),this.value=this.children.length===0?O_(n):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:t}=this;return e==="rdf"&&(t==="Seq"||t==="Bag"||t==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return jA(this.children.map(zA));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let t of this.properties)D_(t,e);return this.value!==void 0&&(e.value=this.value),Bu(e)}};function D_(i,e){let t=i.serialize();t!==void 0&&(e[i.name]=t)}var zA=i=>i.serialize(),jA=i=>i.length===1?i[0]:i,GA=(i,e)=>e[i]?e[i]:e[i]={};function R_(i,e){let t,r=[];if(!i)return r;for(;(t=e.exec(i))!==null;)r.push(t);return r}function O_(i){if(function(r){return r==null||r==="null"||r==="undefined"||r===""||r.trim()===""}(i))return;let e=Number(i);if(!Number.isNaN(e))return e;let t=i.toLowerCase();return t==="true"||t!=="false"&&i.trim()}var M_=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],HA=new RegExp(`(<|\\/)(${M_.join("|")})`,"g"),V8=Object.freeze({__proto__:null,default:UA,Exifr:yn,fileParsers:_n,segmentParsers:Pr,fileReaders:bn,tagKeys:jr,tagValues:nn,tagRevivers:co,createDictionary:Dr,extendDictionary:ia,fetchUrlAsArrayBuffer:ta,readBlobAsArrayBuffer:ra,chunkedProps:oo,otherSegments:os,segments:na,tiffBlocks:xr,segmentsAndBlocks:ao,tiffExtractables:so,inheritables:as,allFormatters:lo,Options:kn,parse:ss,gpsOnlyOptions:jp,gps:I_,thumbnailOnlyOptions:Gp,thumbnail:A_,thumbnailUrl:S_,orientationOnlyOptions:Hp,orientation:Wp,rotations:Xp,get rotateCanvas(){return Jo},get rotateCss(){return ea},rotation:T_});var b_=Lu("fs",i=>i.promises);bn.set("fs",class extends ns{readWhole(){return Ee(this,null,function*(){this.chunked=!1,this.fs=yield b_;let i=yield this.fs.readFile(this.input);this._swapBuffer(i)})}readChunked(){return Ee(this,null,function*(){this.chunked=!0,this.fs=yield b_,yield this.open(),yield this.readChunk(0,this.options.firstChunkSize)})}open(){return Ee(this,null,function*(){this.fh===void 0&&(this.fh=yield this.fs.open(this.input,"r"),this.size=(yield this.fh.stat(this.input)).size)})}_readChunk(i,e){return Ee(this,null,function*(){this.fh===void 0&&(yield this.open()),i+e>this.size&&(e=this.size-i);var t=this.subarray(i,e,!0);return yield this.fh.read(t.dataView,0,e,i),t})}close(){return Ee(this,null,function*(){if(this.fh){let i=this.fh;this.fh=void 0,yield i.close()}})}});bn.set("base64",class extends ns{constructor(...i){super(...i),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}_readChunk(i,e){return Ee(this,null,function*(){let t,r,n=this.input;i===void 0?(i=0,t=0,r=0):(t=4*Math.floor(i/3),r=i-t/4*3),e===void 0&&(e=this.size);let o=i+e,a=t+4*Math.ceil(o/3);n=n.slice(t,a);let s=Math.min(e,this.size-i);if(Ku){let l=Zu.from(n,"base64").slice(r,r+s);return this.set(l,i,!0)}{let l=this.subarray(i,s,!0),d=atob(n),h=l.toUint8();for(let p=0;p<s;p++)h[p]=d.charCodeAt(r+p);return l}})}});var Xu=class extends is{static canHandle(e,t){return t===18761||t===19789}extendOptions(e){let{ifd0:t,xmp:r,iptc:n,icc:o}=e;r.enabled&&t.deps.add(700),n.enabled&&t.deps.add(33723),o.enabled&&t.deps.add(34675),t.finalizeFilters()}parse(){return Ee(this,null,function*(){let{tiff:e,xmp:t,iptc:r,icc:n}=this.options;if(e.enabled||t.enabled||r.enabled||n.enabled){let o=Math.max(Dp(this.options),this.options.chunkSize);yield this.file.ensureChunk(0,o),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),yield this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}})}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let t=this.parsers.tiff[e];this.injectSegment(e,t)}}};$e(Xu,"type","tiff"),_n.set("tiff",Xu);var WA=Lu("zlib"),XA=["ihdr","iccp","text","itxt","exif"],Yu=class extends is{constructor(...e){super(...e),$e(this,"catchError",t=>this.errors.push(t)),$e(this,"metaChunks",[]),$e(this,"unknownChunks",[])}static canHandle(e,t){return t===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}parse(){return Ee(this,null,function*(){let{file:e}=this;yield this.findPngChunksInRange(8,e.byteLength),yield this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),yield this.findExif().catch(this.catchError),yield this.findXmp().catch(this.catchError),yield this.findIcc().catch(this.catchError)})}findPngChunksInRange(e,t){return Ee(this,null,function*(){let{file:r}=this;for(;e<t;){let n=r.getUint32(e),o=r.getUint32(e+4),a=r.getString(e+4,4).toLowerCase(),s=n+4+4+4,l={type:a,offset:e,length:s,start:e+4+4,size:n,marker:o};XA.includes(a)?this.metaChunks.push(l):this.unknownChunks.push(l),e+=s}})}parseTextChunks(){let e=this.metaChunks.filter(t=>t.type==="text");for(let t of e){let[r,n]=this.file.getString(t.start,t.size).split("\0");this.injectKeyValToIhdr(r,n)}}injectKeyValToIhdr(e,t){let r=this.parsers.ihdr;r&&r.raw.set(e,t)}findIhdr(){let e=this.metaChunks.find(t=>t.type==="ihdr");e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}findExif(){return Ee(this,null,function*(){let e=this.metaChunks.find(t=>t.type==="exif");e&&this.injectSegment("tiff",e.chunk)})}findXmp(){return Ee(this,null,function*(){let e=this.metaChunks.filter(t=>t.type==="itxt");for(let t of e)t.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",t.chunk)})}findIcc(){return Ee(this,null,function*(){let e=this.metaChunks.find(s=>s.type==="iccp");if(!e)return;let{chunk:t}=e,r=t.getUint8Array(0,81),n=0;for(;n<80&&r[n]!==0;)n++;let o=n+2,a=t.getString(0,n);if(this.injectKeyValToIhdr("ProfileName",a),ku){let s=yield WA,l=t.getUint8Array(o);l=s.inflateSync(l),this.injectSegment("icc",l)}})}};$e(Yu,"type","png"),_n.set("png",Yu),Dr(jr,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),ia(jr,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);var x_=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];ia(jr,"ifd0",x_),ia(jr,"exif",x_),Dr(nn,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);var zl=class extends Oi{static canHandle(e,t){return e.getUint8(t+1)===224&&e.getUint32(t+4)===1246120262&&e.getUint8(t+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}};$e(zl,"type","jfif"),$e(zl,"headerLength",9),Pr.set("jfif",zl),Dr(jr,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);var qu=class extends Oi{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}};$e(qu,"type","ihdr"),Pr.set("ihdr",qu),Dr(jr,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),Dr(nn,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);var rs=class extends Oi{static canHandle(e,t){return e.getUint8(t+1)===226&&e.getUint32(t+4)===1229144927}static findPosition(e,t){let r=super.findPosition(e,t);return r.chunkNumber=e.getUint8(t+16),r.chunkCount=e.getUint8(t+17),r.multiSegment=r.chunkCount>1,r}static handleMultiSegments(e){return function(t){let r=function(n){let o=n[0].constructor,a=0;for(let d of n)a+=d.length;let s=new o(a),l=0;for(let d of n)s.set(d,l),l+=d.length;return s}(t.map(n=>n.chunk.toUint8()));return new vn(r)}(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&Nr("ICC header is too short");for(let[t,r]of Object.entries(YA)){t=parseInt(t,10);let n=r(this.chunk,t);n!=="\0\0\0\0"&&e.set(t,n)}}parseTags(){let e,t,r,n,o,{raw:a}=this,s=this.chunk.getUint32(128),l=132,d=this.chunk.byteLength;for(;s--;){if(e=this.chunk.getString(l,4),t=this.chunk.getUint32(l+4),r=this.chunk.getUint32(l+8),n=this.chunk.getString(t,4),t+r>d)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");o=this.parseTag(n,t,r),o!==void 0&&o!=="\0\0\0\0"&&a.set(e,o),l+=12}}parseTag(e,t,r){switch(e){case"desc":return this.parseDesc(t);case"mluc":return this.parseMluc(t);case"text":return this.parseText(t,r);case"sig ":return this.parseSig(t)}if(!(t+r>this.chunk.byteLength))return this.chunk.getUint8Array(t,r)}parseDesc(e){let t=this.chunk.getUint32(e+8)-1;return Qo(this.chunk.getString(e+12,t))}parseText(e,t){return Qo(this.chunk.getString(e+8,t-8))}parseSig(e){return Qo(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:t}=this,r=t.getUint32(e+8),n=t.getUint32(e+12),o=e+16,a=[];for(let s=0;s<r;s++){let l=t.getString(o+0,2),d=t.getString(o+2,2),h=t.getUint32(o+4),p=t.getUint32(o+8)+e,g=Qo(t.getUnicodeString(p,h));a.push({lang:l,country:d,text:g}),o+=n}return r===1?a[0].text:a}translateValue(e,t){return typeof e=="string"?t[e]||t[e.toLowerCase()]||e:t[e]||e}};$e(rs,"type","icc"),$e(rs,"multiSegment",!0),$e(rs,"headerLength",18);var YA={4:Fn,8:function(i,e){return[i.getUint8(e),i.getUint8(e+1)>>4,i.getUint8(e+1)%16].map(t=>t.toString(10)).join(".")},12:Fn,16:Fn,20:Fn,24:function(i,e){let t=i.getUint16(e),r=i.getUint16(e+2)-1,n=i.getUint16(e+4),o=i.getUint16(e+6),a=i.getUint16(e+8),s=i.getUint16(e+10);return new Date(Date.UTC(t,r,n,o,a,s))},36:Fn,40:Fn,48:Fn,52:Fn,64:(i,e)=>i.getUint32(e),80:Fn};function Fn(i,e){return Qo(i.getString(e,4))}Pr.set("icc",rs),Dr(jr,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);var Fu={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},E_={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};Dr(nn,"icc",[[4,Fu],[12,E_],[40,Object.assign({},Fu,E_)],[48,Fu],[80,Fu],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);var ts=class extends Oi{static canHandle(e,t,r){return e.getUint8(t+1)===237&&e.getString(t+4,9)==="Photoshop"&&this.containsIptc8bim(e,t,r)!==void 0}static headerLength(e,t,r){let n,o=this.containsIptc8bim(e,t,r);if(o!==void 0)return n=e.getUint8(t+o+7),n%2!=0&&(n+=1),n===0&&(n=4),o+8+n}static containsIptc8bim(e,t,r){for(let n=0;n<r;n++)if(this.isIptcSegmentHead(e,t+n))return n}static isIptcSegmentHead(e,t){return e.getUint8(t)===56&&e.getUint32(t)===943868237&&e.getUint16(t+4)===1028}parse(){let{raw:e}=this,t=this.chunk.byteLength-1,r=!1;for(let n=0;n<t;n++)if(this.chunk.getUint8(n)===28&&this.chunk.getUint8(n+1)===2){r=!0;let o=this.chunk.getUint16(n+3),a=this.chunk.getUint8(n+2),s=this.chunk.getLatin1String(n+5,o);e.set(a,this.pluralizeValue(e.get(a),s)),n+=4+o}else if(r)break;return this.translate(),this.output}pluralizeValue(e,t){return e!==void 0?e instanceof Array?(e.push(t),e):[e,t]:t}};$e(ts,"type","iptc"),$e(ts,"translateValues",!1),$e(ts,"reviveValues",!1),Pr.set("iptc",ts),Dr(jr,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),Dr(nn,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);function uo(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function z_(i){return i!=null&&typeof i.length=="number"}var $A=new ct(""),ZA=new ct(""),KA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ql=class{static min(e){return QA(e)}static max(e){return JA(e)}static required(e){return eS(e)}static requiredTrue(e){return tS(e)}static email(e){return rS(e)}static minLength(e){return iS(e)}static maxLength(e){return nS(e)}static pattern(e){return oS(e)}static nullValidator(e){return j_(e)}static compose(e){return q_(e)}static composeAsync(e){return Z_(e)}};function QA(i){return e=>{if(uo(e.value)||uo(i))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}function JA(i){return e=>{if(uo(e.value)||uo(i))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}function eS(i){return uo(i.value)?{required:!0}:null}function tS(i){return i.value===!0?null:{required:!0}}function rS(i){return uo(i.value)||KA.test(i.value)?null:{email:!0}}function iS(i){return e=>uo(e.value)||!z_(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function nS(i){return e=>z_(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function oS(i){if(!i)return j_;let e,t;return typeof i=="string"?(t="",i.charAt(0)!=="^"&&(t+="^"),t+=i,i.charAt(i.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),r=>{if(uo(r.value))return null;let n=r.value;return e.test(n)?null:{pattern:{requiredPattern:t,actualValue:n}}}}function j_(i){return null}function G_(i){return i!=null}function H_(i){return du(i)?mi(i):i}function W_(i){let e={};return i.forEach(t=>{e=t!=null?J(J({},e),t):e}),Object.keys(e).length===0?null:e}function X_(i,e){return e.map(t=>t(i))}function aS(i){return!i.validate}function Y_(i){return i.map(e=>aS(e)?e:t=>e.validate(t))}function q_(i){if(!i)return null;let e=i.filter(G_);return e.length==0?null:function(t){return W_(X_(t,e))}}function $_(i){return i!=null?q_(Y_(i)):null}function Z_(i){if(!i)return null;let e=i.filter(G_);return e.length==0?null:function(t){let r=X_(t,e).map(H_);return Jc(r).pipe(qe(W_))}}function K_(i){return i!=null?Z_(Y_(i)):null}function P_(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function Q_(i){return i._rawValidators}function J_(i){return i._rawAsyncValidators}function Yp(i){return i?Array.isArray(i)?i:[i]:[]}function ed(i,e){return Array.isArray(i)?i.includes(e):i===e}function N_(i,e){let t=Yp(e);return Yp(i).forEach(n=>{ed(t,n)||t.push(n)}),t}function F_(i,e){return Yp(e).filter(t=>!ed(i,t))}var qp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=K_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},oa=class extends qp{get formDirective(){return null}get path(){return null}};var $p=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},sS={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oN=gt(J({},sS),{"[class.ng-submitted]":"isSubmitted"});var ey=(()=>{class i extends $p{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||i)(_e(oa,10))}}static{this.\u0275dir=Rt({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,n){r&2&&Jt("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[oi]})}}return i})();var Hl="VALID",Qu="INVALID",ls="PENDING",Wl="DISABLED",fo=class{},td=class extends fo{constructor(e,t){super(),this.value=e,this.source=t}},Xl=class extends fo{constructor(e,t){super(),this.pristine=e,this.source=t}},Yl=class extends fo{constructor(e,t){super(),this.touched=e,this.source=t}},cs=class extends fo{constructor(e,t){super(),this.status=e,this.source=t}},Zp=class extends fo{constructor(e){super(),this.source=e}},Kp=class extends fo{constructor(e){super(),this.source=e}};function em(i){return(od(i)?i.validators:i)||null}function lS(i){return Array.isArray(i)?$_(i):i||null}function tm(i,e){return(od(e)?e.asyncValidators:i)||null}function cS(i){return Array.isArray(i)?K_(i):i||null}function od(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function ty(i,e,t){let r=i.controls;if(!(e?Object.keys(r):r).length)throw new Kt(1e3,"");if(!r[t])throw new Kt(1001,"")}function ry(i,e,t){i._forEachChild((r,n)=>{if(t[n]===void 0)throw new Kt(1002,"")})}var us=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=fl(()=>this.statusReactive()),this.statusReactive=jo(void 0),this._pristine=fl(()=>this.pristineReactive()),this.pristineReactive=jo(!0),this._touched=fl(()=>this.touchedReactive()),this.touchedReactive=jo(!1),this._events=new bt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return mn(this.statusReactive)}set status(e){mn(()=>this.statusReactive.set(e))}get valid(){return this.status===Hl}get invalid(){return this.status===Qu}get pending(){return this.status==ls}get disabled(){return this.status===Wl}get enabled(){return this.status!==Wl}get pristine(){return mn(this.pristineReactive)}set pristine(e){mn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return mn(this.touchedReactive)}set touched(e){mn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(N_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(N_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(F_(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(F_(e,this._rawAsyncValidators))}hasValidator(e){return ed(this._rawValidators,e)}hasAsyncValidator(e){return ed(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(gt(J({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Yl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Yl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(gt(J({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Xl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Xl(!0,r))}markAsPending(e={}){this.status=ls;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(gt(J({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wl,this.errors=null,this._forEachChild(n=>{n.disable(gt(J({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new td(this.value,r)),this._events.next(new cs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(gt(J({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Hl,this._forEachChild(r=>{r.enable(gt(J({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(gt(J({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hl||this.status===ls)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new td(this.value,t)),this._events.next(new cs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(gt(J({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wl:Hl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ls,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=H_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,n)=>r&&r._find(n),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new cs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?Wl:this.errors?Qu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ls)?ls:this._anyControlsHaveStatus(Qu)?Qu:Hl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),n=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),n&&this._events.next(new Xl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Yl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){od(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=lS(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cS(this._rawAsyncValidators)}},rd=class extends us{constructor(e,t,r){super(em(t),tm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ry(this,!0,e),Object.keys(e).forEach(r=>{ty(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let n=this.controls[r];n&&n.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,n)=>{r.reset(e?e[n]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,n)=>((r.enabled||this.disabled)&&(t[n]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((n,o)=>{r=t(r,n,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Qp=class extends rd{};var iy=new ct("CallSetDisabledState",{providedIn:"root",factory:()=>rm}),rm="always";function k_(i,e,t=rm){im(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),dS(i,e),hS(i,e),fS(i,e),uS(i,e)}function L_(i,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),nd(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function id(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function uS(i,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}function im(i,e){let t=Q_(i);e.validator!==null?i.setValidators(P_(t,e.validator)):typeof t=="function"&&i.setValidators([t]);let r=J_(i);e.asyncValidator!==null?i.setAsyncValidators(P_(r,e.asyncValidator)):typeof r=="function"&&i.setAsyncValidators([r]);let n=()=>i.updateValueAndValidity();id(e._rawValidators,n),id(e._rawAsyncValidators,n)}function nd(i,e){let t=!1;if(i!==null){if(e.validator!==null){let n=Q_(i);if(Array.isArray(n)&&n.length>0){let o=n.filter(a=>a!==e.validator);o.length!==n.length&&(t=!0,i.setValidators(o))}}if(e.asyncValidator!==null){let n=J_(i);if(Array.isArray(n)&&n.length>0){let o=n.filter(a=>a!==e.asyncValidator);o.length!==n.length&&(t=!0,i.setAsyncValidators(o))}}}let r=()=>{};return id(e._rawValidators,r),id(e._rawAsyncValidators,r),t}function dS(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&ny(i,e)})}function fS(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&ny(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function ny(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function hS(i,e){let t=(r,n)=>{e.valueAccessor.writeValue(r),n&&e.viewToModelUpdate(r)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}function pS(i,e){i==null,im(i,e)}function mS(i,e){return nd(i,e)}function gS(i,e){i._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vS(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function B_(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function V_(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Ju=class extends us{constructor(e=null,t,r){super(em(t),tm(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),od(t)&&(t.nonNullable||t.initialValueIsDefault)&&(V_(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){B_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){B_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){V_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var _S=i=>i instanceof Ju;var oy=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275dir=Rt({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})();var yS=new ct("");var bS={provide:oa,useExisting:Va(()=>nm)},nm=(()=>{class i extends oa{get submitted(){return mn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,n){super(),this.callSetDisabledState=n,this._submitted=fl(()=>this._submittedReactive()),this._submittedReactive=jo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new We,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return k_(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){L_(t.control||null,t,!1),vS(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),gS(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Zp(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Kp(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,n=this.form.get(t.path);r!==n&&(L_(r||null,t),_S(n)&&(k_(n,t,this.callSetDisabledState),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);pS(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&mS(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){im(this.form,this),this._oldForm&&nd(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||i)(_e($A,10),_e(ZA,10),_e(iy,8))}}static{this.\u0275dir=Rt({type:i,selectors:[["","formGroup",""]],hostBindings:function(r,n){r&1&&ft("submit",function(a){return n.onSubmit(a)})("reset",function(){return n.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Vi([bS]),oi,ni]})}}return i})();var xS=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({})}}return i})(),Jp=class extends us{constructor(e,t,r){super(em(t),tm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),t&&(this.controls.splice(n,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ry(this,!1,e),e.forEach((r,n)=>{ty(this,!1,n),this.at(n).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,n)=>{this.at(n)&&this.at(n).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,n)=>{r.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function U_(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var ay=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new i;return t.useNonNullable=!0,t}group(t,r=null){let n=this._reduceControls(t),o={};return U_(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new rd(n,o)}record(t,r=null){let n=this._reduceControls(t);return new Qp(n,r)}control(t,r,n){let o={};return this.useNonNullable?(U_(r)?o=r:(o.validators=r,o.asyncValidators=n),new Ju(t,gt(J({},o),{nonNullable:!0}))):new Ju(t,r,n)}array(t,r,n){let o=t.map(a=>this._createControl(a));return new Jp(o,r,n)}_reduceControls(t){let r={};return Object.keys(t).forEach(n=>{r[n]=this._createControl(t[n])}),r}_createControl(t){if(t instanceof Ju)return t;if(t instanceof us)return t;if(Array.isArray(t)){let r=t[0],n=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,n,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var sy=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:yS,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:iy,useValue:t.callSetDisabledState??rm}]}}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({imports:[xS]})}}return i})();var $l=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},om=class extends $l{constructor(e,t,r,n,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=n,this.projectableNodes=o}},ds=class extends $l{constructor(e,t,r,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},am=class extends $l{constructor(e){super(),this.element=e instanceof St?e.nativeElement:e}},ad=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof om)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof ds)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof am)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var sd=class extends ad{constructor(e,t,r,n,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=n,this.attachDomPortal=a=>{this._document;let s=a.element;s.parentNode;let l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=o}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>n.destroy())):(n=r.create(e.injector||this._defaultInjector||Jn.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(n=>this.outletElement.appendChild(n)),r.detectChanges(),this.setDisposeFn(()=>{let n=t.indexOf(r);n!==-1&&t.remove(n)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var ly=(()=>{class i extends ad{constructor(t,r,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new We,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let s=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(s,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(a,s)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=r.createComponent(o,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(r){return new(r||i)(_e(nu),_e(to),_e(mt))}}static{this.\u0275dir=Rt({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[oi]})}}return i})();var ld=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({})}}return i})();var lm;try{lm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lm=!1}var Er=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?l1(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||lm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||i)(oe(zo))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Zl;function wS(){if(Zl==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zl=!0}))}finally{Zl=Zl||!1}return Zl}function fs(i){return wS()?i:!!i.capture}var aa;function cy(){if(aa==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return aa=!1,aa;if("scrollBehavior"in document.documentElement.style)aa=!0;else{let i=Element.prototype.scrollTo;i?aa=!/\{\s*\[native code\]\s*\}/.test(i.toString()):aa=!1}}return aa}var sm;function CS(){if(sm==null){let i=typeof document<"u"?document.head:null;sm=!!(i&&(i.createShadowRoot||i.attachShadow))}return sm}function uy(i){if(CS()){let e=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function cm(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){let e=i.shadowRoot.activeElement;if(e===i)break;i=e}return i}function zi(i){return i.composedPath?i.composedPath()[0]:i.target}function Kl(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function cd(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function ps(i){return Array.isArray(i)?i:[i]}function Rr(i){return i==null?"":typeof i=="string"?i:`${i}px`}function Ln(i){return i instanceof St?i.nativeElement:i}var IS=(()=>{class i{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var dy=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({providers:[IS]})}}return i})();var fy=new Set,sa,AS=(()=>{class i{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):TS}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&SS(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(r){return new(r||i)(oe(Er),oe(al,8))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function SS(i,e){if(!fy.has(i))try{sa||(sa=document.createElement("style"),e&&sa.setAttribute("nonce",e),sa.setAttribute("type","text/css"),document.head.appendChild(sa)),sa.sheet&&(sa.sheet.insertRule(`@media ${i} {body{ }}`,0),fy.add(i))}catch(t){console.error(t)}}function TS(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var ud=(()=>{class i{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new bt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return hy(ps(t)).some(n=>this._registerQuery(n).mql.matches)}observe(t){let n=hy(ps(t)).map(a=>this._registerQuery(a).observable),o=el(n);return o=Qc(o.pipe(Qi(1)),o.pipe(tu(1),eu(0))),o.pipe(qe(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:d})=>{s.matches=s.matches||l,s.breakpoints[d]=l}),s}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new Js(a=>{let s=l=>this._zone.run(()=>a.next(l));return r.addListener(s),()=>{r.removeListener(s)}}).pipe(Ji(r),qe(({matches:a})=>({query:t,matches:a})),Lr(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static{this.\u0275fac=function(r){return new(r||i)(oe(AS),oe(vt))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function hy(i){return i.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var py={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var qS=200,dm=class{constructor(e,t){this._letterKeyStream=new bt,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new bt,this.selectedItem=this._selectedItem;let r=typeof t?.debounceInterval=="number"?t.debounceInterval:qS;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(mr(t=>this._pressedLetters.push(t)),eu(e),gi(()=>this._pressedLetters.length>0),qe(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){let n=(this._selectedItemIndex+r)%this._items.length,o=this._items[n];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}},fm=class{constructor(e,t){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=Li.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this.tabOut=new bt,this.change=new bt,e instanceof eo?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):dh(e)&&(this._effectRef=t1(()=>this._itemsChanged(e()),{injector:t}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new dm(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){let t=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&n){this.setNextItemActive();break}else return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&n){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&n){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&n){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&n){let o=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}else return;default:(n||cd(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),n=t[r];this._activeItem=n??null,this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let n=(this._activeItemIndex+e*r+t.length)%t.length,o=t[n];if(!this._skipPredicateFn(o)){this.setActiveItem(n);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return dh(this._items)?this._items():this._items instanceof eo?this._items.toArray():this._items}_itemsChanged(e){if(this._typeahead?.setItems(e),this._activeItem){let t=e.indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t,this._typeahead?.setCurrentSelectedItemIndex(t))}}};var hd=class extends fm{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};function hm(i){return i.buttons===0||i.detail===0}function pm(i){let e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var $S=new ct("cdk-input-modality-detector-options"),ZS={ignoreKeys:[18,17,224,91,16]},vy=650,ms=fs({passive:!0,capture:!0}),KS=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(t,r,n,o){this._platform=t,this._mostRecentTarget=null,this._modality=new pi(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(s=>s===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zi(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<vy||(this._modality.next(hm(a)?"keyboard":"mouse"),this._mostRecentTarget=zi(a))},this._onTouchstart=a=>{if(pm(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zi(a)},this._options=J(J({},ZS),o),this.modalityDetected=this._modality.pipe(tu(1)),this.modalityChanged=this.modalityDetected.pipe(lh()),t.isBrowser&&r.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,ms),n.addEventListener("mousedown",this._onMousedown,ms),n.addEventListener("touchstart",this._onTouchstart,ms)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ms),document.removeEventListener("mousedown",this._onMousedown,ms),document.removeEventListener("touchstart",this._onTouchstart,ms))}static{this.\u0275fac=function(r){return new(r||i)(oe(Er),oe(vt),oe(mt),oe($S,8))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var fd=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(fd||{}),QS=new ct("cdk-focus-monitor-default-options"),dd=fs({passive:!0,capture:!0}),pd=(()=>{class i{constructor(t,r,n,o,a){this._ngZone=t,this._platform=r,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new bt,this._rootNodeFocusAndBlurListener=s=>{let l=zi(s);for(let d=l;d;d=d.parentElement)s.type==="focus"?this._onFocus(s,d):this._onBlur(s,d)},this._document=o,this._detectionMode=a?.detectionMode||fd.IMMEDIATE}monitor(t,r=!1){let n=Ln(t);if(!this._platform.isBrowser||n.nodeType!==1)return Ge();let o=uy(n)||this._getDocument(),a=this._elementInfo.get(n);if(a)return r&&(a.checkChildren=!0),a.subject;let s={checkChildren:r,subject:new bt,rootNode:o};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){let r=Ln(t),n=this._elementInfo.get(r);n&&(n.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(n))}focusVia(t,r,n){let o=Ln(t),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,r,l)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===fd.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===fd.IMMEDIATE){clearTimeout(this._originTimeoutId);let n=this._originFromTouchInteraction?vy:1;this._originTimeoutId=setTimeout(()=>this._origin=null,n)}})}_onFocus(t,r){let n=this._elementInfo.get(r),o=zi(t);!n||!n.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),n)}_onBlur(t,r){let n=this._elementInfo.get(r);!n||n.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(n,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,n=this._rootNodeFocusListenerCount.get(r)||0;n||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,dd),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,dd)}),this._rootNodeFocusListenerCount.set(r,n+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Lr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let n=this._rootNodeFocusListenerCount.get(r);n>1?this._rootNodeFocusListenerCount.set(r,n-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dd),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dd),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,n){this._setClasses(t,r),this._emitOrigin(n,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((n,o)=>{(o===t||n.checkChildren&&o.contains(t))&&r.push([o,n])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:n}=this._inputModalityDetector;if(n!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0}return!1}static{this.\u0275fac=function(r){return new(r||i)(oe(vt),oe(Er),oe(KS),oe(mt,8),oe(QS,8))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var la=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(la||{}),my="cdk-high-contrast-black-on-white",gy="cdk-high-contrast-white-on-black",um="cdk-high-contrast-active",_y=(()=>{class i{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=Re(ud).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return la.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,n=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(n&&n.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return la.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return la.BLACK_ON_WHITE}return la.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(um,my,gy),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===la.BLACK_ON_WHITE?t.add(um,my):r===la.WHITE_ON_BLACK&&t.add(um,gy)}}static{this.\u0275fac=function(r){return new(r||i)(oe(Er),oe(mt))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var JS=new ct("cdk-dir-doc",{providedIn:"root",factory:eT});function eT(){return Re(mt)}var tT=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function rT(i){let e=i?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?tT.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var gs=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new We,t){let r=t.body?t.body.dir:null,n=t.documentElement?t.documentElement.dir:null;this.value=rT(r||n||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||i)(oe(JS,8))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var xn=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({})}}return i})();var oT=["*"];function aT(i,e){i&1&&si(0)}var gm=(()=>{class i{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}static{this.\u0275fac=function(r){return new(r||i)(_e(St))}}static{this.\u0275dir=Rt({type:i,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0})}}return i})(),vm=(()=>{class i{constructor(t){this.template=t}static{this.\u0275fac=function(r){return new(r||i)(_e(hn))}}static{this.\u0275dir=Rt({type:i,selectors:[["","cdkStepLabel",""]],standalone:!0})}}return i})(),sT=0;var Bn={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},_m=new ct("STEPPER_GLOBAL_OPTIONS"),md=(()=>{class i{get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=t}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(t){this._customError=t}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(t,r){this._stepper=t,this.interacted=!1,this.interactedStream=new We,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=r||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&(this._childForms?.forEach(t=>t.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}static{this.\u0275fac=function(r){return new(r||i)(_e(Va(()=>vs)),_e(_m,8))}}static{this.\u0275cmp=nr({type:i,selectors:[["cdk-step"]],contentQueries:function(r,n,o){if(r&1&&(Ti(o,vm,5),Ti(o,oa,5)),r&2){let a;gr(a=vr())&&(n.stepLabel=a.first),gr(a=vr())&&(n._childForms=a)}},viewQuery:function(r,n){if(r&1&&_i(hn,7),r&2){let o;gr(o=vr())&&(n.content=o.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",Br],optional:[2,"optional","optional",Br],completed:[2,"completed","completed",Br],hasError:[2,"hasError","hasError",Br]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[Xr,ni,fr],ngContentSelectors:oT,decls:1,vars:0,template:function(r,n){r&1&&(Si(),Qt(0,aT,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}}return i})(),vs=(()=>{class i{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this.steps&&this._steps?(this._isValidIndex(t),this.selected?._markAsInteracted(),this._selectedIndex!==t&&!this._anyControlsInvalidOrPending(t)&&(t>=this._selectedIndex||this.steps.toArray()[t].editable)&&this._updateSelectedItemIndex(t)):this._selectedIndex=t}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation(t==="vertical")}constructor(t,r,n){this._dir=t,this._changeDetectorRef=r,this._elementRef=n,this._destroyed=new bt,this.steps=new eo,this._sortedHeaders=new eo,this.linear=!1,this._selectedIndex=0,this.selectionChange=new We,this.selectedIndexChange=new We,this._orientation="horizontal",this._groupId=sT++}ngAfterContentInit(){this._steps.changes.pipe(Ji(this._steps),Lr(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(r=>r._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(Ji(this._stepHeader),Lr(this._destroyed)).subscribe(t=>{this._sortedHeaders.reset(t.toArray().sort((r,n)=>r._elementRef.nativeElement.compareDocumentPosition(n._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new hd(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),(this._dir?this._dir.change:Ge()).pipe(Ji(this._layoutDirection()),Lr(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){let r=t-this._selectedIndex;return r<0?this._layoutDirection()==="rtl"?"next":"previous":r>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(t,r=Bn.NUMBER){let n=this.steps.toArray()[t],o=this._isCurrentStep(t);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,o):this._getGuidelineLogic(n,o,r)}_getDefaultIndicatorLogic(t,r){return t._showError()&&t.hasError&&!r?Bn.ERROR:!t.completed||r?Bn.NUMBER:t.editable?Bn.EDIT:Bn.DONE}_getGuidelineLogic(t,r,n=Bn.NUMBER){return t._showError()&&t.hasError&&!r?Bn.ERROR:t.completed&&!r?Bn.DONE:t.completed&&r?n:t.editable&&r?Bn.EDIT:n}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){let r=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:r[t],previouslySelectedStep:r[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(t){let r=cd(t),n=t.keyCode,o=this._keyManager;o.activeItemIndex!=null&&!r&&(n===32||n===13)?(this.selectedIndex=o.activeItemIndex,t.preventDefault()):o.setFocusOrigin("keyboard").onKeydown(t)}_anyControlsInvalidOrPending(t){return this.linear&&t>=0?this.steps.toArray().slice(0,t).some(r=>{let n=r.stepControl;return(n?n.invalid||n.pending||!r.interacted:!r.completed)&&!r.optional&&!r._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let t=this._elementRef.nativeElement,r=cm();return t===r||t.contains(r)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}static{this.\u0275fac=function(r){return new(r||i)(_e(gs,8),_e(Yr),_e(St))}}static{this.\u0275dir=Rt({type:i,selectors:[["","cdkStepper",""]],contentQueries:function(r,n,o){if(r&1&&(Ti(o,md,5),Ti(o,gm,5)),r&2){let a;gr(a=vr())&&(n._steps=a),gr(a=vr())&&(n._stepHeader=a)}},inputs:{linear:[2,"linear","linear",Br],selectedIndex:[2,"selectedIndex","selectedIndex",Ho],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[Xr]})}}return i})(),by=(()=>{class i{constructor(t){this._stepper=t,this.type="submit"}static{this.\u0275fac=function(r){return new(r||i)(_e(vs))}}static{this.\u0275dir=Rt({type:i,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(r,n){r&1&&ft("click",function(){return n._stepper.next()}),r&2&&Mn("type",n.type)},inputs:{type:"type"},standalone:!0})}}return i})(),xy=(()=>{class i{constructor(t){this._stepper=t,this.type="button"}static{this.\u0275fac=function(r){return new(r||i)(_e(vs))}}static{this.\u0275dir=Rt({type:i,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(r,n){r&1&&ft("click",function(){return n._stepper.previous()}),r&2&&Mn("type",n.type)},inputs:{type:"type"},standalone:!0})}}return i})(),Ey=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({imports:[xn]})}}return i})();function cT(){return!0}var uT=new ct("mat-sanity-checks",{providedIn:"root",factory:cT}),hr=(()=>{class i{constructor(t,r,n){this._sanityChecks=r,this._document=n,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return Kl()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}static{this.\u0275fac=function(r){return new(r||i)(oe(_y),oe(uT,8),oe(mt))}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({imports:[xn,xn]})}}return i})();var Ql=(()=>{class i{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ji=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(ji||{}),xm=class{constructor(e,t,r,n=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=n,this.state=ji.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},wy=fs({passive:!0,capture:!0}),Em=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=zi(e);t&&this._events.get(e.type)?.forEach((r,n)=>{(n===t||n.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,r,n){let o=this._events.get(t);if(o){let a=o.get(r);a?a.add(n):o.set(r,new Set([n]))}else this._events.set(t,new Map([[r,new Set([n])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,wy)})}removeHandler(e,t,r){let n=this._events.get(e);if(!n)return;let o=n.get(t);o&&(o.delete(r),o.size===0&&n.delete(t),n.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,wy)))}},Cy={enterDuration:225,exitDuration:150},dT=800,Iy=fs({passive:!0,capture:!0}),Ay=["mousedown","touchstart"],Sy=["mouseup","mouseleave","touchend","touchcancel"],wm=class i{static{this._eventManager=new Em}constructor(e,t,r,n){this._target=e,this._ngZone=t,this._platform=n,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=Ln(r))}fadeInRipple(e,t,r={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=J(J({},Cy),r.animation);r.centered&&(e=n.left+n.width/2,t=n.top+n.height/2);let a=r.radius||fT(e,t,n),s=e-n.left,l=t-n.top,d=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${s-a}px`,h.style.top=`${l-a}px`,h.style.height=`${a*2}px`,h.style.width=`${a*2}px`,r.color!=null&&(h.style.backgroundColor=r.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);let p=window.getComputedStyle(h),g=p.transitionProperty,_=p.transitionDuration,E=g==="none"||_==="0s"||_==="0s, 0s"||n.width===0&&n.height===0,A=new xm(this,h,r,E);h.style.transform="scale3d(1, 1, 1)",A.state=ji.FADING_IN,r.persistent||(this._mostRecentTransientRipple=A);let N=null;return!E&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let F=()=>{N&&(N.fallbackTimer=null),clearTimeout(L),this._finishRippleTransition(A)},P=()=>this._destroyRipple(A),L=setTimeout(P,d+100);h.addEventListener("transitionend",F),h.addEventListener("transitioncancel",P),N={onTransitionEnd:F,onTransitionCancel:P,fallbackTimer:L}}),this._activeRipples.set(A,N),(E||!d)&&this._finishRippleTransition(A),A}fadeOutRipple(e){if(e.state===ji.FADING_OUT||e.state===ji.HIDDEN)return;let t=e.element,r=J(J({},Cy),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=ji.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Ln(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Ay.forEach(r=>{i._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Sy.forEach(t=>{this._triggerElement.addEventListener(t,this,Iy)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===ji.FADING_IN?this._startFadeOutTransition(e):e.state===ji.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=ji.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=ji.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=hm(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+dT;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!pm(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===ji.VISIBLE||e.config.terminateOnPointerUp&&e.state===ji.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Ay.forEach(t=>i._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(Sy.forEach(t=>e.removeEventListener(t,this,Iy)),this._pointerUpEventsRegistered=!1))}};function fT(i,e,t){let r=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),n=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+n*n)}var Oy=new ct("mat-ripple-global-options"),Cm=(()=>{class i{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,n,o,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new wm(this,r,t,n)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:J(J(J({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,n){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,J(J({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,J(J({},this.rippleConfig),t))}static{this.\u0275fac=function(r){return new(r||i)(_e(St),_e(vt),_e(Er),_e(Oy,8),_e(en,8))}}static{this.\u0275dir=Rt({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,n){r&2&&Jt("mat-ripple-unbounded",n.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return i})(),Jl=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({imports:[hr,hr]})}}return i})();var hT=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({imports:[hr]})}}return i})();var Im=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({imports:[Jl,hr,hT]})}}return i})(),Ty={capture:!0},Dy=["focus","mousedown","mouseenter","touchstart"],ym="mat-ripple-loader-uninitialized",bm="mat-ripple-loader-class-name",Ry="mat-ripple-loader-centered",gd="mat-ripple-loader-disabled",My=(()=>{class i{constructor(){this._document=Re(mt,{optional:!0}),this._animationMode=Re(en,{optional:!0}),this._globalRippleOptions=Re(Oy,{optional:!0}),this._platform=Re(Er),this._ngZone=Re(vt),this._hosts=new Map,this._onInteraction=t=>{let r=zi(t);if(r instanceof HTMLElement){let n=r.closest(`[${ym}="${this._globalRippleOptions?.namespace??""}"]`);n&&this._createRipple(n)}},this._ngZone.runOutsideAngular(()=>{for(let t of Dy)this._document?.addEventListener(t,this._onInteraction,Ty)})}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);for(let r of Dy)this._document?.removeEventListener(r,this._onInteraction,Ty)}configureRipple(t,r){t.setAttribute(ym,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(bm))&&t.setAttribute(bm,r.className||""),r.centered&&t.setAttribute(Ry,""),r.disabled&&t.setAttribute(gd,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,r){let n=this._hosts.get(t);if(n){n.disabled=r;return}r?t.setAttribute(gd,""):t.removeAttribute(gd)}_createRipple(t){if(!this._document)return;let r=this._hosts.get(t);if(r)return r;t.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",t.getAttribute(bm)),t.append(n);let o=new Cm(new St(n),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(Ry),o.disabled=t.hasAttribute(gd),this.attachRipple(t,o),o}attachRipple(t,r){t.removeAttribute(ym),this._hosts.set(t,r)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var mT=["*"],vd;function gT(){if(vd===void 0&&(vd=null,typeof window<"u")){let i=window;i.trustedTypes!==void 0&&(vd=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return vd}function ec(i){return gT()?.createHTML(i)||i}function Py(i){return Error(`Unable to find icon with the name "${i}"`)}function vT(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Ny(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function Fy(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}var Vn=class{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},_T=(()=>{class i{constructor(t,r,n,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=n}addSvgIcon(t,r,n){return this.addSvgIconInNamespace("",t,r,n)}addSvgIconLiteral(t,r,n){return this.addSvgIconLiteralInNamespace("",t,r,n)}addSvgIconInNamespace(t,r,n,o){return this._addSvgIconConfig(t,r,new Vn(n,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,n,o){let a=this._sanitizer.sanitize(Ai.HTML,n);if(!a)throw Fy(n);let s=ec(a);return this._addSvgIconConfig(t,r,new Vn("",s,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,n){return this._addSvgIconSetConfig(t,new Vn(r,null,n))}addSvgIconSetLiteralInNamespace(t,r,n){let o=this._sanitizer.sanitize(Ai.HTML,r);if(!o)throw Fy(r);let a=ec(o);return this._addSvgIconSetConfig(t,new Vn("",a,n))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(Ai.RESOURCE_URL,t);if(!r)throw Ny(t);let n=this._cachedIconsByUrl.get(r);return n?Ge(_d(n)):this._loadSvgIconFromConfig(new Vn(t,null)).pipe(mr(o=>this._cachedIconsByUrl.set(r,o)),qe(o=>_d(o)))}getNamedSvgIcon(t,r=""){let n=ky(r,t),o=this._svgIconConfigs.get(n);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(n,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(t,a):ko(Py(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ge(_d(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(qe(r=>_d(r)))}_getSvgFromIconSetConfigs(t,r){let n=this._extractIconWithNameFromAnySet(t,r);if(n)return Ge(n);let o=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Qn(s=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Ai.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(d)),Ge(null)})));return Jc(o).pipe(qe(()=>{let a=this._extractIconWithNameFromAnySet(t,r);if(!a)throw Py(t);return a}))}_extractIconWithNameFromAnySet(t,r){for(let n=r.length-1;n>=0;n--){let o=r[n];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,t,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(mr(r=>t.svgText=r),qe(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ge(null):this._fetchIcon(t).pipe(mr(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,n){let o=t.querySelector(`[id="${r}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,n);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),n);let s=this._svgElementFromString(ec("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,n)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let n=r.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){let r=this._svgElementFromString(ec("<svg></svg>")),n=t.attributes;for(let o=0;o<n.length;o++){let{name:a,value:s}=n[o];a!=="id"&&r.setAttribute(a,s)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:n}=t,o=n?.withCredentials??!1;if(!this._httpClient)throw vT();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(Ai.RESOURCE_URL,r);if(!a)throw Ny(r);let s=this._inProgressUrlFetches.get(a);if(s)return s;let l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(qe(d=>ec(d)),Bo(()=>this._inProgressUrlFetches.delete(a)),Ov());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(t,r,n){return this._svgIconConfigs.set(ky(t,r),n),this}_addSvgIconSetConfig(t,r){let n=this._iconSetConfigs.get(t);return n?n.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let n=0;n<this._resolvers.length;n++){let o=this._resolvers[n](r,t);if(o)return yT(o)?new Vn(o.url,null,o.options):new Vn(o,null)}}static{this.\u0275fac=function(r){return new(r||i)(oe(m1,8),oe(vl),oe(mt,8),oe(Uo))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function _d(i){return i.cloneNode(!0)}function ky(i,e){return i+":"+e}function yT(i){return!!(i.url&&i.options)}var bT=new ct("MAT_ICON_DEFAULT_OPTIONS"),xT=new ct("mat-icon-location",{providedIn:"root",factory:ET});function ET(){let i=Re(mt),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var Ly=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],wT=Ly.map(i=>`[${i}]`).join(", "),CT=/^url\(['"]?#(.*?)['"]?\)$/,By=(()=>{class i{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,n,o,a,s){this._elementRef=t,this._iconRegistry=r,this._location=o,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Li.EMPTY,s&&(s.color&&(this.color=this._defaultColor=s.color),s.fontSet&&(this.fontSet=s.fontSet)),n||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let n=t.childNodes[r];(n.nodeType!==1||n.nodeName.toLowerCase()==="svg")&&n.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(n=>n.length>0);this._previousFontSetClass.forEach(n=>t.classList.remove(n)),r.forEach(n=>t.classList.add(n)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((n,o)=>{n.forEach(a=>{o.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(wT),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)Ly.forEach(a=>{let s=r[o],l=s.getAttribute(a),d=l?l.match(CT):null;if(d){let h=n.get(s);h||(h=[],n.set(s,h)),h.push({name:a,value:d[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,n]=this._splitIconName(t);r&&(this._svgNamespace=r),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,r).pipe(Qi(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${r}:${n}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}static{this.\u0275fac=function(r){return new(r||i)(_e(St),_e(_T),ol("aria-hidden"),_e(xT),_e(Uo),_e(bT,8))}}static{this.\u0275cmp=nr({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,n){r&2&&(Tr("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),ro(n.color?"mat-"+n.color:""),Jt("mat-icon-inline",n.inline)("mat-icon-no-color",n.color!=="primary"&&n.color!=="accent"&&n.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Br],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Xr,fr],ngContentSelectors:mT,decls:1,vars:0,template:function(r,n){r&1&&(Si(),si(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return i})(),Vy=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({imports:[hr,hr]})}}return i})();function IT(i,e){if(i&1&&Go(0,2),i&2){let t=Ne();nt("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function AT(i,e){if(i&1&&(he(0,"span",7),xt(1),ye()),i&2){let t=Ne(2);Oe(),yi(t._getDefaultTextForState(t.state))}}function ST(i,e){if(i&1&&(he(0,"span",8),xt(1),ye()),i&2){let t=Ne(3);Oe(),yi(t._intl.completedLabel)}}function TT(i,e){if(i&1&&(he(0,"span",8),xt(1),ye()),i&2){let t=Ne(3);Oe(),yi(t._intl.editableLabel)}}function DT(i,e){if(i&1&&(Qt(0,ST,2,1,"span",8)(1,TT,2,1,"span",8),he(2,"mat-icon",7),xt(3),ye()),i&2){let t=Ne(2);ai(t.state==="done"?0:t.state==="edit"?1:-1),Oe(3),yi(t._getDefaultTextForState(t.state))}}function RT(i,e){if(i&1&&Qt(0,AT,2,1,"span",7)(1,DT,4,2,"mat-icon",7),i&2){let t,r=Ne();ai((t=r.state)==="number"?0:1)}}function OT(i,e){i&1&&(he(0,"div",4),Go(1,9),ye()),i&2&&(Oe(),nt("ngTemplateOutlet",e.template))}function MT(i,e){if(i&1&&(he(0,"div",4),xt(1),ye()),i&2){let t=Ne();Oe(),yi(t.label)}}function PT(i,e){if(i&1&&(he(0,"div",5),xt(1),ye()),i&2){let t=Ne();Oe(),yi(t._intl.optionalLabel)}}function NT(i,e){if(i&1&&(he(0,"div",6),xt(1),ye()),i&2){let t=Ne();Oe(),yi(t.errorMessage)}}var zy=["*"];function FT(i,e){}function kT(i,e){if(i&1&&(si(0),Qt(1,FT,0,0,"ng-template",0)),i&2){let t=Ne();Oe(),nt("cdkPortalOutlet",t._portal)}}var jy=(i,e)=>({step:i,i:e}),Gy=i=>({animationDuration:i}),Hy=(i,e)=>({value:i,params:e});function LT(i,e){i&1&&si(0)}function BT(i,e){i&1&&yt(0,"div",6)}function VT(i,e){if(i&1&&(Go(0,5),Qt(1,BT,1,0,"div",6)),i&2){let t=e.$implicit,r=e.$index,n=e.$count;Ne(2);let o=cl(4);nt("ngTemplateOutlet",o)("ngTemplateOutletContext",ul(3,jy,t,r)),Oe(),ai(r!==n-1?1:-1)}}function UT(i,e){if(i&1){let t=Jr();he(0,"div",7),ft("@horizontalStepTransition.done",function(n){rt(t);let o=Ne(2);return it(o._animationDone.next(n))}),Go(1,8),ye()}if(i&2){let t=e.$implicit,r=e.$index,n=Ne(2);Jt("mat-horizontal-stepper-content-inactive",n.selectedIndex!==r),nt("@horizontalStepTransition",ul(8,Hy,n._getAnimationDirection(r),hh(6,Gy,n._getAnimationDuration())))("id",n._getStepContentId(r)),Tr("aria-labelledby",n._getStepLabelId(r)),Oe(),nt("ngTemplateOutlet",t.content)}}function zT(i,e){if(i&1&&(he(0,"div",1)(1,"div",2),lu(2,VT,2,6,null,null,su),ye(),he(4,"div",3),lu(5,UT,2,11,"div",4,su),ye()()),i&2){let t=Ne();Oe(2),cu(t.steps),Oe(3),cu(t.steps)}}function jT(i,e){if(i&1){let t=Jr();he(0,"div",9),Go(1,5),he(2,"div",10)(3,"div",11),ft("@verticalStepTransition.done",function(n){rt(t);let o=Ne(2);return it(o._animationDone.next(n))}),he(4,"div",12),Go(5,8),ye()()()()}if(i&2){let t=e.$implicit,r=e.$index,n=e.$count,o=Ne(2),a=cl(4);Oe(),nt("ngTemplateOutlet",a)("ngTemplateOutletContext",ul(10,jy,t,r)),Oe(),Jt("mat-stepper-vertical-line",r!==n-1),Oe(),Jt("mat-vertical-stepper-content-inactive",o.selectedIndex!==r),nt("@verticalStepTransition",ul(15,Hy,o._getAnimationDirection(r),hh(13,Gy,o._getAnimationDuration())))("id",o._getStepContentId(r)),Tr("aria-labelledby",o._getStepLabelId(r)),Oe(2),nt("ngTemplateOutlet",t.content)}}function GT(i,e){if(i&1&&lu(0,jT,6,18,"div",9,su),i&2){let t=Ne();cu(t.steps)}}function HT(i,e){if(i&1){let t=Jr();he(0,"mat-step-header",13),ft("click",function(){let n=rt(t).step;return it(n.select())})("keydown",function(n){rt(t);let o=Ne();return it(o._onKeydown(n))}),ye()}if(i&2){let t=e.step,r=e.i,n=Ne();Jt("mat-horizontal-stepper-header",n.orientation==="horizontal")("mat-vertical-stepper-header",n.orientation==="vertical"),nt("tabIndex",n._getFocusIndex()===r?0:-1)("id",n._getStepLabelId(r))("index",r)("state",n._getIndicatorType(r,t.state))("label",t.stepLabel||t.label)("selected",n.selectedIndex===r)("active",n._stepIsNavigable(r,t))("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",n._iconOverrides)("disableRipple",n.disableRipple||!n._stepIsNavigable(r,t))("color",t.color||n.color),Tr("aria-posinset",r+1)("aria-setsize",n.steps.length)("aria-controls",n._getStepContentId(r))("aria-selected",n.selectedIndex==r)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null)("aria-disabled",n._stepIsNavigable(r,t)?null:!0)}}var tc=(()=>{class i extends vm{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=On(i)))(n||i)}})()}static{this.\u0275dir=Rt({type:i,selectors:[["","matStepLabel",""]],standalone:!0,features:[oi]})}}return i})(),yd=(()=>{class i{constructor(){this.changes=new bt,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function WT(i){return i||new yd}var XT={provide:yd,deps:[[new rl,new ru,yd]],useFactory:WT},Am=(()=>{class i extends gm{constructor(t,r,n,o){super(n),this._intl=t,this._focusMonitor=r,this._intlSubscription=t.changes.subscribe(()=>o.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._elementRef,t,r):this._elementRef.nativeElement.focus(r)}_stringLabel(){return this.label instanceof tc?null:this.label}_templateLabel(){return this.label instanceof tc?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return t=="number"?`${this.index+1}`:t=="edit"?"create":t=="error"?"warning":t}static{this.\u0275fac=function(r){return new(r||i)(_e(yd),_e(pd),_e(St),_e(Yr))}}static{this.\u0275cmp=nr({type:i,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(r,n){r&2&&ro("mat-"+(n.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},standalone:!0,features:[oi,fr],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(r,n){if(r&1&&(yt(0,"div",0),he(1,"div")(2,"div",1),Qt(3,IT,1,2,"ng-container",2)(4,RT,2,1),ye()(),he(5,"div",3),Qt(6,OT,2,1,"div",4)(7,MT,2,1,"div",4)(8,PT,2,1,"div",5)(9,NT,2,1,"div",6),ye()),r&2){let o;nt("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disableRipple),Oe(),fh("mat-step-icon-state-",n.state," mat-step-icon"),Jt("mat-step-icon-selected",n.selected),Oe(2),ai(n.iconOverrides&&n.iconOverrides[n.state]?3:4),Oe(2),Jt("mat-step-label-active",n.active)("mat-step-label-selected",n.selected)("mat-step-label-error",n.state=="error"),Oe(),ai((o=n._templateLabel())?6:n._stringLabel()?7:-1,o),Oe(2),ai(n.optional&&n.state!="error"?8:-1),Oe(),ai(n.state==="error"?9:-1)}},dependencies:[Cm,hu,By],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color);border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-app-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color);border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-app-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-app-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-app-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-app-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-app-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-app-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-app-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-app-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-app-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-app-title-small-weight))}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-app-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-app-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-app-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-app-on-primary))}'],encapsulation:2,changeDetection:0})}}return i})(),Wy="500ms",Xy="225ms",Uy={horizontalStepTransition:bh("horizontalStepTransition",[Xo("previous",Wo({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Xo("current",Wo({transform:"none",visibility:"inherit"})),Xo("next",Wo({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),wh("* => *",Eh([xh("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),Ih("@*",Ch(),{optional:!0})]),{params:{animationDuration:Wy}})]),verticalStepTransition:bh("verticalStepTransition",[Xo("previous",Wo({height:"0px",visibility:"hidden"})),Xo("next",Wo({height:"0px",visibility:"hidden"})),Xo("current",Wo({height:"*",visibility:"inherit"})),wh("* <=> current",Eh([xh("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),Ih("@*",Ch(),{optional:!0})]),{params:{animationDuration:Xy}})])},YT=(()=>{class i{constructor(t){this.templateRef=t}static{this.\u0275fac=function(r){return new(r||i)(_e(hn))}}static{this.\u0275dir=Rt({type:i,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]},standalone:!0})}}return i})(),qT=(()=>{class i{constructor(t){this._template=t}static{this.\u0275fac=function(r){return new(r||i)(_e(hn))}}static{this.\u0275dir=Rt({type:i,selectors:[["ng-template","matStepContent",""]],standalone:!0})}}return i})(),Sm=(()=>{class i extends md{constructor(t,r,n,o){super(t,o),this._errorStateMatcher=r,this._viewContainerRef=n,this._isSelected=Li.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(vi(()=>this._stepper.selectionChange.pipe(qe(t=>t.selectedStep===this),Ji(this._stepper.selected===this)))).subscribe(t=>{t&&this._lazyContent&&!this._portal&&(this._portal=new ds(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(t,r){let n=this._errorStateMatcher.isErrorState(t,r),o=!!(t&&t.invalid&&this.interacted);return n||o}static{this.\u0275fac=function(r){return new(r||i)(_e(Va(()=>bd)),_e(Ql,4),_e(to),_e(_m,8))}}static{this.\u0275cmp=nr({type:i,selectors:[["mat-step"]],contentQueries:function(r,n,o){if(r&1&&(Ti(o,tc,5),Ti(o,qT,5)),r&2){let a;gr(a=vr())&&(n.stepLabel=a.first),gr(a=vr())&&(n._lazyContent=a.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],standalone:!0,features:[Vi([{provide:Ql,useExisting:i},{provide:md,useExisting:i}]),oi,fr],ngContentSelectors:zy,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(r,n){r&1&&(Si(),Qt(0,kT,2,1,"ng-template"))},dependencies:[ly],encapsulation:2,changeDetection:0})}}return i})(),bd=(()=>{class i extends vs{get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}constructor(t,r,n){super(t,r,n),this._stepHeader=void 0,this._steps=void 0,this.steps=new eo,this.animationDone=new We,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new bt,this._animationDuration="",this._isServer=!Re(Er).isBrowser;let o=n.nativeElement.nodeName.toLowerCase();this.orientation=o==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:r})=>this._iconOverrides[t]=r),this.steps.changes.pipe(Lr(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(Lr(this._destroyed)).subscribe(t=>{t.toState==="current"&&this.animationDone.emit()})}_stepIsNavigable(t,r){return r.completed||this.selectedIndex===t||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:this.orientation==="horizontal"?Wy:Xy}static{this.\u0275fac=function(r){return new(r||i)(_e(gs,8),_e(Yr),_e(St))}}static{this.\u0275cmp=nr({type:i,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(r,n,o){if(r&1&&(Ti(o,Sm,5),Ti(o,YT,5)),r&2){let a;gr(a=vr())&&(n._steps=a),gr(a=vr())&&(n._icons=a)}},viewQuery:function(r,n){if(r&1&&_i(Am,5),r&2){let o;gr(o=vr())&&(n._stepHeader=o)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(r,n){r&2&&(Tr("aria-orientation",n.orientation),Jt("mat-stepper-horizontal",n.orientation==="horizontal")("mat-stepper-vertical",n.orientation==="vertical")("mat-stepper-label-position-end",n.orientation==="horizontal"&&n.labelPosition=="end")("mat-stepper-label-position-bottom",n.orientation==="horizontal"&&n.labelPosition=="bottom")("mat-stepper-header-position-bottom",n.headerPosition==="bottom"))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],standalone:!0,features:[Vi([{provide:vs,useExisting:i}]),oi,fr],ngContentSelectors:zy,decls:5,vars:2,consts:[["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","mat-horizontal-stepper-content-inactive"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(r,n){if(r&1&&(Si(),Qt(0,LT,1,0)(1,zT,7,0,"div",1)(2,GT,2,0)(3,HT,1,23,"ng-template",null,0,gh)),r&2){let o;ai(n._isServer?0:-1),Oe(),ai((o=n.orientation)==="horizontal"?1:o==="vertical"?2:-1)}},dependencies:[hu,Am],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-app-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-app-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-app-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-app-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-app-outline));top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[Uy.horizontalStepTransition,Uy.verticalStepTransition]},changeDetection:0})}}return i})(),Yy=(()=>{class i extends by{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=On(i)))(n||i)}})()}static{this.\u0275dir=Rt({type:i,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(r,n){r&2&&Mn("type",n.type)},standalone:!0,features:[oi]})}}return i})(),qy=(()=>{class i extends xy{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=On(i)))(n||i)}})()}static{this.\u0275dir=Rt({type:i,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(r,n){r&2&&Mn("type",n.type)},standalone:!0,features:[oi]})}}return i})(),$y=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({providers:[XT,Ql],imports:[hr,tn,ld,Ey,Vy,Jl,bd,Am,hr]})}}return i})();var ZT=["mat-button",""],KT=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],QT=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var JT=new ct("MAT_BUTTON_CONFIG");var eD=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],tD=(()=>{class i{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,r,n,o){this._elementRef=t,this._platform=r,this._ngZone=n,this._animationMode=o,this._focusMonitor=Re(pd),this._rippleLoader=Re(My),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=Re(JT,{optional:!0}),s=t.nativeElement,l=s.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(s,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:h}of eD)s.hasAttribute(d)&&l.add(...h)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(r){ll()}}static{this.\u0275dir=Rt({type:i,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Br],disabled:[2,"disabled","disabled",Br],ariaDisabled:[2,"aria-disabled","ariaDisabled",Br],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Br]},features:[Xr]})}}return i})();var Zy=(()=>{class i extends tD{constructor(t,r,n,o){super(t,r,n,o)}static{this.\u0275fac=function(r){return new(r||i)(_e(St),_e(Er),_e(vt),_e(en,8))}}static{this.\u0275cmp=nr({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,n){r&2&&(Tr("disabled",n._getDisabledAttribute())("aria-disabled",n._getAriaDisabled()),ro(n.color?"mat-"+n.color:""),Jt("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[oi,fr],attrs:ZT,ngContentSelectors:QT,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,n){r&1&&(Si(KT),yt(0,"span",0),si(1),he(2,"span",1),si(3,1),ye(),si(4,2),yt(5,"span",2)(6,"span",3)),r&2&&Jt("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return i})();var Ky=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({imports:[hr,Jl,hr]})}}return i})();function iD(i,e){i&1&&yt(0,"div",2)}var nD=new ct("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Jy=(()=>{class i{constructor(t,r,n,o,a){this._elementRef=t,this._ngZone=r,this._changeDetectorRef=n,this._animationMode=o,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new We,this._mode="determinate",this._transitionendHandler=s=>{this.animationEnd.observers.length===0||!s.target||!s.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=o==="NoopAnimations",a&&(a.color&&(this.color=this._defaultColor=a.color),this.mode=a.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(t){this._color=t}get value(){return this._value}set value(t){this._value=Qy(t||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=Qy(t||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}static{this.\u0275fac=function(r){return new(r||i)(_e(St),_e(vt),_e(Yr),_e(en,8),_e(nD,8))}}static{this.\u0275cmp=nr({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(r,n){r&2&&(Tr("aria-valuenow",n._isIndeterminate()?null:n.value)("mode",n.mode),ro("mat-"+n.color),Jt("_mat-animation-noopable",n._isNoopAnimation)("mdc-linear-progress--animation-ready",!n._isNoopAnimation)("mdc-linear-progress--indeterminate",n._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Ho],bufferValue:[2,"bufferValue","bufferValue",Ho],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[Xr,fr],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(r,n){r&1&&(he(0,"div",0),yt(1,"div",1),Qt(2,iD,1,0,"div",2),ye(),he(3,"div",3),yt(4,"span",4),ye(),he(5,"div",5),yt(6,"span",4),ye()),r&2&&(Oe(),pn("flex-basis",n._getBufferBarFlexBasis()),Oe(),ai(n.mode==="buffer"?2:-1),Oe(),pn("transform",n._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}}return i})();function Qy(i,e=0,t=100){return Math.max(e,Math.min(t,i))}var eb=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({imports:[hr]})}}return i})();var tb=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({})}}return i})();var rc=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({imports:[hr,tn,dy,hr]})}}return i})();var rb=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({imports:[hr,rc,rc,tb,hr]})}}return i})();var cD=20,ib=(()=>{class i{constructor(t,r,n){this._ngZone=t,this._platform=r,this._scrolled=new bt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=cD){return this._platform.isBrowser?new Js(r=>{this._globalSubscription||this._addGlobalListener();let n=t>0?this._scrolled.pipe(ah(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ge()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let n=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(gi(o=>!o||n.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((n,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let n=Ln(r),o=t.getElementRef().nativeElement;do if(n==o)return!0;while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return Dn(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||i)(oe(vt),oe(Er),oe(mt,8))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var uD=20,Tm=(()=>{class i{constructor(t,r,n){this._platform=t,this._change=new bt,this._changeListener=o=>{this._change.next(o)},this._document=n,r.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+r,height:n,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),n=t.documentElement,o=n.getBoundingClientRect(),a=-o.top||t.body.scrollTop||r.scrollY||n.scrollTop||0,s=-o.left||t.body.scrollLeft||r.scrollX||n.scrollLeft||0;return{top:a,left:s}}change(t=uD){return t>0?this._change.pipe(ah(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||i)(oe(Er),oe(vt),oe(mt,8))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var xd=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({})}}return i})(),Dm=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({imports:[xn,xd,xn,xd]})}}return i})();var nb=cy(),Rm=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Rr(-this._previousScrollPosition.left),e.style.top=Rr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,n=t.style,o=r.scrollBehavior||"",a=n.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),nb&&(r.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),nb&&(r.scrollBehavior=o,n.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};var Om=class{constructor(e,t,r,n){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(gi(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Ed=class{enable(){}disable(){}attach(){}};function Mm(i,e){return e.some(t=>{let r=i.bottom<t.top,n=i.top>t.bottom,o=i.right<t.left,a=i.left>t.right;return r||n||o||a})}function ob(i,e){return e.some(t=>{let r=i.top<t.top,n=i.bottom>t.bottom,o=i.left<t.left,a=i.right>t.right;return r||n||o||a})}var Pm=class{constructor(e,t,r,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=n,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:n}=this._viewportRuler.getViewportSize();Mm(t,[{width:r,height:n,bottom:n,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},hD=(()=>{class i{constructor(t,r,n,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=n,this.noop=()=>new Ed,this.close=a=>new Om(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Rm(this._viewportRuler,this._document),this.reposition=a=>new Pm(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}static{this.\u0275fac=function(r){return new(r||i)(oe(ib),oe(Tm),oe(vt),oe(mt))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Nm=class{constructor(e){if(this.scrollStrategy=new Ed,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var Fm=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var db=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(r){return new(r||i)(oe(mt))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),pD=(()=>{class i extends db{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=n=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let s=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(n)):s.next(n);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||i)(oe(mt),oe(vt,8))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),mD=(()=>{class i extends db{constructor(t,r,n){super(t),this._platform=r,this._ngZone=n,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=zi(o)},this._clickListener=o=>{let a=zi(o),s=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let d=l.length-1;d>-1;d--){let h=l[d];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(ab(h.overlayElement,a)||ab(h.overlayElement,s))break;let p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||i)(oe(mt),oe(Er),oe(vt,8))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ab(i,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===i)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var fb=(()=>{class i{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Kl()){let n=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<n.length;o++)n[o].remove()}let r=this._document.createElement("div");r.classList.add(t),Kl()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||i)(oe(mt),oe(Er))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),km=class{constructor(e,t,r,n,o,a,s,l,d,h=!1,p){this._portalOutlet=e,this._host=t,this._pane=r,this._config=n,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._injector=p,this._backdropElement=null,this._backdropClick=new bt,this._attachments=new bt,this._detachments=new bt,this._locationChanges=Li.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new bt,this._outsidePointerEvents=new bt,this._renders=new bt,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy,this._afterRenderRef=mn(()=>$v(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=au(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=J(J({},this._config),e),this._updateElementSize()}setDirection(e){this._config=gt(J({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Rr(this._config.width),e.height=Rr(this._config.height),e.minWidth=Rr(this._config.minWidth),e.minHeight=Rr(this._config.minHeight),e.maxWidth=Rr(this._config.maxWidth),e.maxHeight=Rr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){let n=ps(t||[]).filter(o=>!!o);n.length&&(r?e.classList.add(...n):e.classList.remove(...n))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Lr(tl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},sb="cdk-overlay-connected-position-bounding-box",gD=/([A-Za-z%]+)$/,Lm=class{get positions(){return this._preferredPositions}constructor(e,t,r,n,o){this._viewportRuler=t,this._document=r,this._platform=n,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new bt,this._resizeSubscription=Li.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(sb),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,n=this._containerRect,o=[],a;for(let s of this._preferredPositions){let l=this._getOriginPoint(e,n,s),d=this._getOverlayPoint(l,t,s),h=this._getOverlayFit(d,t,r,s);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(h,d,r)){o.push({position:s,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!a||a.overlayFit.visibleArea<h.visibleArea)&&(a={overlayFit:h,overlayPoint:d,originPoint:l,position:s,overlayRect:t})}if(o.length){let s=null,l=-1;for(let d of o){let h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>l&&(l=h,s=d)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ca(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(sb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let n;if(r.originX=="center")n=e.left+e.width/2;else{let a=this._isRtl()?e.right:e.left,s=this._isRtl()?e.left:e.right;n=r.originX=="start"?a:s}t.left<0&&(n-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:n,y:o}}_getOverlayPoint(e,t,r){let n;r.overlayX=="center"?n=-t.width/2:r.overlayX==="start"?n=this._isRtl()?-t.width:0:n=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+n,y:e.y+o}}_getOverlayFit(e,t,r,n){let o=cb(t),{x:a,y:s}=e,l=this._getOffset(n,"x"),d=this._getOffset(n,"y");l&&(a+=l),d&&(s+=d);let h=0-a,p=a+o.width-r.width,g=0-s,_=s+o.height-r.height,E=this._subtractOverflows(o.width,h,p),A=this._subtractOverflows(o.height,g,_),N=E*A;return{visibleArea:N,isCompletelyWithinViewport:o.width*o.height===N,fitsInViewportVertically:A===o.height,fitsInViewportHorizontally:E==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let n=r.bottom-t.y,o=r.right-t.x,a=lb(this._overlayRef.getConfig().minHeight),s=lb(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||a!=null&&a<=n,d=e.fitsInViewportHorizontally||s!=null&&s<=o;return l&&d}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let n=cb(t),o=this._viewportRect,a=Math.max(e.x+n.width-o.width,0),s=Math.max(e.y+n.height-o.height,0),l=Math.max(o.top-r.top-e.y,0),d=Math.max(o.left-r.left-e.x,0),h=0,p=0;return n.width<=o.width?h=d||-a:h=e.x<this._viewportMargin?o.left-r.left-e.x:0,n.height<=o.height?p=l||-s:p=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!vD(this._lastScrollVisibility,r)){let n=new Fm(e,r);this._positionChanges.next(n)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,n=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${n}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,n=this._isRtl(),o,a,s;if(t.overlayY==="top")a=e.y,o=r.height-a+this._viewportMargin;else if(t.overlayY==="bottom")s=r.height-e.y+this._viewportMargin*2,o=r.height-s+this._viewportMargin;else{let _=Math.min(r.bottom-e.y+r.top,e.y),E=this._lastBoundingBoxSize.height;o=_*2,a=e.y-_,o>E&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-E/2)}let l=t.overlayX==="start"&&!n||t.overlayX==="end"&&n,d=t.overlayX==="end"&&!n||t.overlayX==="start"&&n,h,p,g;if(d)g=r.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(l)p=e.x,h=r.right-e.x;else{let _=Math.min(r.right-e.x+r.left,e.x),E=this._lastBoundingBoxSize.width;h=_*2,p=e.x-_,h>E&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-E/2)}return{top:a,left:p,bottom:s,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;n.height=Rr(r.height),n.top=Rr(r.top),n.bottom=Rr(r.bottom),n.width=Rr(r.width),n.left=Rr(r.left),n.right=Rr(r.right),t.overlayX==="center"?n.alignItems="center":n.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?n.justifyContent="center":n.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(n.maxHeight=Rr(o)),a&&(n.maxWidth=Rr(a))}this._lastBoundingBoxSize=r,ca(this._boundingBox.style,n)}_resetBoundingBoxStyles(){ca(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ca(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},n=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(n){let h=this._viewportRuler.getViewportScrollPosition();ca(r,this._getExactOverlayY(t,e,h)),ca(r,this._getExactOverlayX(t,e,h))}else r.position="static";let s="",l=this._getOffset(t,"x"),d=this._getOffset(t,"y");l&&(s+=`translateX(${l}px) `),d&&(s+=`translateY(${d}px)`),r.transform=s.trim(),a.maxHeight&&(n?r.maxHeight=Rr(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(n?r.maxWidth=Rr(a.maxWidth):o&&(r.maxWidth="")),ca(this._pane.style,r)}_getExactOverlayY(e,t,r){let n={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;n.bottom=`${a-(o.y+this._overlayRect.height)}px`}else n.top=Rr(o.y);return n}_getExactOverlayX(e,t,r){let n={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let a;if(this._isRtl()?a=e.overlayX==="end"?"left":"right":a=e.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;n.right=`${s-(o.x+this._overlayRect.width)}px`}else n.left=Rr(o.x);return n}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ob(e,r),isOriginOutsideView:Mm(e,r),isOverlayClipped:ob(t,r),isOverlayOutsideView:Mm(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,n)=>r-Math.max(n,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ps(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof St)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function ca(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function lb(i){if(typeof i!="number"&&i!=null){let[e,t]=i.split(gD);return!t||t==="px"?parseFloat(e):null}return i||null}function cb(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function vD(i,e){return i===e?!0:i.isOriginClipped===e.isOriginClipped&&i.isOriginOutsideView===e.isOriginOutsideView&&i.isOverlayClipped===e.isOverlayClipped&&i.isOverlayOutsideView===e.isOverlayOutsideView}var ub="cdk-global-overlay-wrapper",Bm=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(ub),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:n,height:o,maxWidth:a,maxHeight:s}=r,l=(n==="100%"||n==="100vw")&&(!a||a==="100%"||a==="100vw"),d=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),h=this._xPosition,p=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",_="",E="",A="";l?A="flex-start":h==="center"?(A="center",g?E=p:_=p):g?h==="left"||h==="end"?(A="flex-end",_=p):(h==="right"||h==="start")&&(A="flex-start",E=p):h==="left"||h==="start"?(A="flex-start",_=p):(h==="right"||h==="end")&&(A="flex-end",E=p),e.position=this._cssPosition,e.marginLeft=l?"0":_,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":E,t.justifyContent=A,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(ub),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},_D=(()=>{class i{constructor(t,r,n,o){this._viewportRuler=t,this._document=r,this._platform=n,this._overlayContainer=o}global(){return new Bm}flexibleConnectedTo(t){return new Lm(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||i)(oe(Tm),oe(mt),oe(Er),oe(fb))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),yD=0,_s=(()=>{class i{constructor(t,r,n,o,a,s,l,d,h,p,g,_){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=n,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=s,this._ngZone=l,this._document=d,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=_}create(t){let r=this._createHostElement(),n=this._createPaneElement(r),o=this._createPortalOutlet(n),a=new Nm(t);return a.direction=a.direction||this._directionality.value,new km(o,r,n,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Vo))}position(){return this._positionBuilder}_createPaneElement(t){let r=this._document.createElement("div");return r.id=`cdk-overlay-${yD++}`,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(dl)),new sd(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||i)(oe(hD),oe(fb),oe(nu),oe(_D),oe(pD),oe(Jn),oe(vt),oe(mt),oe(gs),oe(Ga),oe(mD),oe(en,8))}}static{this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var bD=new ct("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=Re(_s);return()=>i.scrollStrategies.reposition()}});function xD(i){return()=>i.scrollStrategies.reposition()}var ED={provide:bD,deps:[_s],useFactory:xD},hb=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({providers:[_s,ED],imports:[xn,ld,Dm,Dm]})}}return i})();var wD=new ct("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=Re(_s);return()=>i.scrollStrategies.reposition()}});function CD(i){return()=>i.scrollStrategies.reposition()}var ID={provide:wD,deps:[_s],useFactory:CD};var pb=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=et({type:i})}static{this.\u0275inj=Je({providers:[ID],imports:[tn,hb,Im,hr,xd,rc,Im,hr]})}}return i})();var Cd=Zc(Vm(),1),Um=Zc(Vm(),1);var AD=(0,Cd.supported)(),SD=["id","name","class","multiple","required","disabled","capture","accept"],TD=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],gb=["oninit","onwarning","onerror","oninitfile","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onprocessfiles","onremovefile","onpreparefile","onupdatefiles","onactivatefile","onreorderfiles"],vb=(()=>{class i{constructor(t,r){this.options={},this.oninit=new We,this.onwarning=new We,this.onerror=new We,this.oninitfile=new We,this.onactivatefile=new We,this.onaddfilestart=new We,this.onaddfileprogress=new We,this.onaddfile=new We,this.onprocessfilestart=new We,this.onprocessfileprogress=new We,this.onprocessfileabort=new We,this.onprocessfilerevert=new We,this.onprocessfile=new We,this.onprocessfiles=new We,this.onremovefile=new We,this.onpreparefile=new We,this.onupdatefiles=new We,this.onreorderfiles=new We,this.pond=null,this.handleEvent=null,this.root=t,this.zone=r}ngAfterViewInit(){let t=this.root.nativeElement.querySelector("input"),r=this.root.nativeElement.attributes;SD.forEach(n=>{let o=r[n]?r[n].value:this.options[n];o&&t.setAttribute(n,o)}),AD&&(this.handleEvent=n=>{let o=`on${n.type.split(":")[1]}`;this[o].emit(J({},n.detail))},gb.forEach(n=>{this.root.nativeElement.addEventListener(`FilePond:${n.substring(2)}`,this.handleEvent)}),this.zone.runOutsideAngular(()=>{this.pond=(0,Cd.create)(t,gt(J({},this.options),{files:this.files}))}),this.pond&&Object.keys(this.pond).filter(n=>TD.indexOf(n)===-1).forEach(n=>{this[n]=this.pond[n]}))}ngOnChanges(t){if(t.firstChange||!this.pond)return;let r=t.options?t.options.currentValue:this.options;t.files&&JSON.stringify(t.files.previousValue)!==JSON.stringify(t.files.currentValue)&&(r.files=t.files.currentValue),this.pond.setOptions(r)}ngOnDestroy(){this.pond&&(gb.forEach(t=>{this.root.nativeElement.removeEventListener(`FilePond:${t.substring(2)}`,this.handleEvent)}),this.pond.destroy())}}return i.\u0275fac=function(t){return new(t||i)(_e(St),_e(vt))},i.\u0275cmp=nr({type:i,selectors:[["file-pond"]],inputs:{options:"options",files:"files"},outputs:{oninit:"oninit",onwarning:"onwarning",onerror:"onerror",oninitfile:"oninitfile",onactivatefile:"onactivatefile",onaddfilestart:"onaddfilestart",onaddfileprogress:"onaddfileprogress",onaddfile:"onaddfile",onprocessfilestart:"onprocessfilestart",onprocessfileprogress:"onprocessfileprogress",onprocessfileabort:"onprocessfileabort",onprocessfilerevert:"onprocessfilerevert",onprocessfile:"onprocessfile",onprocessfiles:"onprocessfiles",onremovefile:"onremovefile",onpreparefile:"onpreparefile",onupdatefiles:"onupdatefiles",onreorderfiles:"onreorderfiles"},features:[ni],decls:2,vars:0,consts:[[1,"filepond--wrapper"],["type","file"]],template:function(t,r){t&1&&(he(0,"div",0),yt(1,"input",1),ye())},encapsulation:2}),i})(),_b=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=et({type:i}),i.\u0275inj=Je({imports:[tn]}),i})();var $x=Zc(yb()),Zx=Zc(bb());function RD(i,e){var t=Object.setPrototypeOf;t?t(i,e):i.__proto__=e}function OD(i,e){e===void 0&&(e=i.constructor);var t=Error.captureStackTrace;t&&t(i,e)}var MD=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xb=function(i){MD(e,i);function e(t,r){var n=this.constructor,o=i.call(this,t,r)||this;return Object.defineProperty(o,"name",{value:n.name,enumerable:!1,configurable:!0}),RD(o,n.prototype),OD(o),o}return e}(Error);var PD=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ND=function(i){PD(e,i);function e(t){t===void 0&&(t=void 0);var r=i.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(xb),Gt=ND;var FD=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kD=function(i){FD(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Gt),bi=kD;var LD=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BD=function(i){LD(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Gt),se=BD;var VD=function(){function i(e){if(this.binarizer=e,e===null)throw new se("Binarizer must be non-null.")}return i.prototype.getWidth=function(){return this.binarizer.getWidth()},i.prototype.getHeight=function(){return this.binarizer.getHeight()},i.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},i.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},i.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},i.prototype.crop=function(e,t,r,n){var o=this.binarizer.getLuminanceSource().crop(e,t,r,n);return new i(this.binarizer.createBinarizer(o))},i.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},i.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new i(this.binarizer.createBinarizer(e))},i.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new i(this.binarizer.createBinarizer(e))},i.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},i}(),Wm=VD;var UD=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zD=function(i){UD(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Gt),Ht=zD;var jD=function(){function i(e){this.source=e}return i.prototype.getLuminanceSource=function(){return this.source},i.prototype.getWidth=function(){return this.source.getWidth()},i.prototype.getHeight=function(){return this.source.getHeight()},i}(),Xm=jD;var GD=function(){function i(){}return i.arraycopy=function(e,t,r,n,o){for(;o--;)r[n++]=e[t++]},i.currentTimeMillis=function(){return Date.now()},i}(),at=GD;var HD=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WD=function(i){HD(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Gt),ys=WD;var XD=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YD=function(i){XD(e,i);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var n=i.call(this,r)||this;return n.index=t,n.message=r,n}return e.kind="ArrayIndexOutOfBoundsException",e}(ys),Ym=YD;var qD=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$D=function(){function i(){}return i.fill=function(e,t){for(var r=0,n=e.length;r<n;r++)e[r]=t},i.fillWithin=function(e,t,r,n){i.rangeCheck(e.length,t,r);for(var o=t;o<r;o++)e[o]=n},i.rangeCheck=function(e,t,r){if(t>r)throw new se("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new Ym(t);if(r>e)throw new Ym(r)},i.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},i.create=function(e,t,r){var n=Array.from({length:e});return n.map(function(o){return Array.from({length:t}).fill(r)})},i.createInt32Array=function(e,t,r){var n=Array.from({length:e});return n.map(function(o){return Int32Array.from({length:t}).fill(r)})},i.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0},i.hashCode=function(e){var t,r;if(e===null)return 0;var n=1;try{for(var o=qD(e),a=o.next();!a.done;a=o.next()){var s=a.value;n=31*n+s}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},i.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},i.copyOf=function(e,t){return e.slice(0,t)},i.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},i.copyOfRange=function(e,t,r){var n=r-t,o=new Int32Array(n);return at.arraycopy(e,t,o,0,n),o},i.binarySearch=function(e,t,r){r===void 0&&(r=i.numberComparator);for(var n=0,o=e.length-1;n<=o;){var a=o+n>>1,s=r(t,e[a]);if(s>0)n=a+1;else if(s<0)o=a-1;else return a}return-n-1},i.numberComparator=function(e,t){return e-t},i}(),Mt=$D;var ZD=function(){function i(){}return i.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},i.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},i.toHexString=function(e){return e.toString(16)},i.toBinaryString=function(e){return String(parseInt(String(e),2))},i.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},i.truncDivision=function(e,t){return Math.trunc(e/t)},i.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},i.MIN_VALUE_32_BITS=-2147483648,i.MAX_VALUE=Number.MAX_SAFE_INTEGER,i}(),Be=ZD;var KD=function(){function i(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=i.makeArray(e):this.bits=t)}return i.prototype.getSize=function(){return this.size},i.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},i.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=i.makeArray(e);at.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},i.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},i.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},i.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},i.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,n=Math.floor(e/32),o=r[n];o&=~((1<<(e&31))-1);for(var a=r.length;o===0;){if(++n===a)return t;o=r[n]}var s=n*32+Be.numberOfTrailingZeros(o);return s>t?t:s},i.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,n=Math.floor(e/32),o=~r[n];o&=~((1<<(e&31))-1);for(var a=r.length;o===0;){if(++n===a)return t;o=~r[n]}var s=n*32+Be.numberOfTrailingZeros(o);return s>t?t:s},i.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},i.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new se;if(t!==e){t--;for(var r=Math.floor(e/32),n=Math.floor(t/32),o=this.bits,a=r;a<=n;a++){var s=a>r?0:e&31,l=a<n?31:t&31,d=(2<<l)-(1<<s);o[a]|=d}}},i.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},i.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new se;if(t===e)return!0;t--;for(var n=Math.floor(e/32),o=Math.floor(t/32),a=this.bits,s=n;s<=o;s++){var l=s>n?0:e&31,d=s<o?31:t&31,h=(2<<d)-(1<<l)&4294967295;if((a[s]&h)!==(r?h:0))return!1}return!0},i.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},i.prototype.appendBits=function(e,t){if(t<0||t>32)throw new se("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},i.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},i.prototype.xor=function(e){if(this.size!==e.size)throw new se("Sizes don't match");for(var t=this.bits,r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]},i.prototype.toBytes=function(e,t,r,n){for(var o=0;o<n;o++){for(var a=0,s=0;s<8;s++)this.get(e)&&(a|=1<<7-s),e++;t[r+o]=a}},i.prototype.getBitArray=function(){return this.bits},i.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits,o=0;o<r;o++){var a=n[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[t-o]=a}if(this.size!==r*32){for(var s=r*32-this.size,l=e[0]>>>s,o=1;o<r;o++){var d=e[o];l|=d<<32-s,e[o-1]=l,l=d>>>s}e[r-1]=l}this.bits=e},i.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},i.prototype.equals=function(e){if(!(e instanceof i))return!1;var t=e;return this.size===t.size&&Mt.equals(this.bits,t.bits)},i.prototype.hashCode=function(){return 31*this.size+Mt.hashCode(this.bits)},i.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)t&7||(e+=" "),e+=this.get(t)?"X":".";return e},i.prototype.clone=function(){return new i(this.size,this.bits.slice())},i.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},i}(),er=KD;var Eb=function(i){return i[i.OTHER=0]="OTHER",i[i.PURE_BARCODE=1]="PURE_BARCODE",i[i.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",i[i.TRY_HARDER=3]="TRY_HARDER",i[i.CHARACTER_SET=4]="CHARACTER_SET",i[i.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",i[i.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",i[i.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",i[i.ASSUME_GS1=8]="ASSUME_GS1",i[i.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",i[i.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",i[i.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS",i}(Eb||{}),dt=Eb;var QD=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JD=function(i){QD(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Gt),ee=JD;var eR=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yt=function(i){return i[i.Cp437=0]="Cp437",i[i.ISO8859_1=1]="ISO8859_1",i[i.ISO8859_2=2]="ISO8859_2",i[i.ISO8859_3=3]="ISO8859_3",i[i.ISO8859_4=4]="ISO8859_4",i[i.ISO8859_5=5]="ISO8859_5",i[i.ISO8859_6=6]="ISO8859_6",i[i.ISO8859_7=7]="ISO8859_7",i[i.ISO8859_8=8]="ISO8859_8",i[i.ISO8859_9=9]="ISO8859_9",i[i.ISO8859_10=10]="ISO8859_10",i[i.ISO8859_11=11]="ISO8859_11",i[i.ISO8859_13=12]="ISO8859_13",i[i.ISO8859_14=13]="ISO8859_14",i[i.ISO8859_15=14]="ISO8859_15",i[i.ISO8859_16=15]="ISO8859_16",i[i.SJIS=16]="SJIS",i[i.Cp1250=17]="Cp1250",i[i.Cp1251=18]="Cp1251",i[i.Cp1252=19]="Cp1252",i[i.Cp1256=20]="Cp1256",i[i.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",i[i.UTF8=22]="UTF8",i[i.ASCII=23]="ASCII",i[i.Big5=24]="Big5",i[i.GB18030=25]="GB18030",i[i.EUC_KR=26]="EUC_KR",i}(Yt||{}),tR=function(){function i(e,t,r){for(var n,o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=a,i.VALUE_IDENTIFIER_TO_ECI.set(e,this),i.NAME_TO_ECI.set(r,this);for(var l=this.values,d=0,h=l.length;d!==h;d++){var p=l[d];i.VALUES_TO_ECI.set(p,this)}try{for(var g=eR(a),_=g.next();!_.done;_=g.next()){var E=_.value;i.NAME_TO_ECI.set(E,this)}}catch(A){n={error:A}}finally{try{_&&!_.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}}return i.prototype.getValueIdentifier=function(){return this.valueIdentifier},i.prototype.getName=function(){return this.name},i.prototype.getValue=function(){return this.values[0]},i.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ee("incorect value");var t=i.VALUES_TO_ECI.get(e);if(t===void 0)throw new ee("incorect value");return t},i.getCharacterSetECIByName=function(e){var t=i.NAME_TO_ECI.get(e);if(t===void 0)throw new ee("incorect value");return t},i.prototype.equals=function(e){if(!(e instanceof i))return!1;var t=e;return this.getName()===t.getName()},i.VALUE_IDENTIFIER_TO_ECI=new Map,i.VALUES_TO_ECI=new Map,i.NAME_TO_ECI=new Map,i.Cp437=new i(Yt.Cp437,Int32Array.from([0,2]),"Cp437"),i.ISO8859_1=new i(Yt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),i.ISO8859_2=new i(Yt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),i.ISO8859_3=new i(Yt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),i.ISO8859_4=new i(Yt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),i.ISO8859_5=new i(Yt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),i.ISO8859_6=new i(Yt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),i.ISO8859_7=new i(Yt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),i.ISO8859_8=new i(Yt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),i.ISO8859_9=new i(Yt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),i.ISO8859_10=new i(Yt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),i.ISO8859_11=new i(Yt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),i.ISO8859_13=new i(Yt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),i.ISO8859_14=new i(Yt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),i.ISO8859_15=new i(Yt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),i.ISO8859_16=new i(Yt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),i.SJIS=new i(Yt.SJIS,20,"SJIS","Shift_JIS"),i.Cp1250=new i(Yt.Cp1250,21,"Cp1250","windows-1250"),i.Cp1251=new i(Yt.Cp1251,22,"Cp1251","windows-1251"),i.Cp1252=new i(Yt.Cp1252,23,"Cp1252","windows-1252"),i.Cp1256=new i(Yt.Cp1256,24,"Cp1256","windows-1256"),i.UnicodeBigUnmarked=new i(Yt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),i.UTF8=new i(Yt.UTF8,26,"UTF8","UTF-8"),i.ASCII=new i(Yt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),i.Big5=new i(Yt.Big5,28,"Big5"),i.GB18030=new i(Yt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),i.EUC_KR=new i(Yt.EUC_KR,30,"EUC_KR","EUC-KR"),i}(),tr=tR;var rR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iR=function(i){rR(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Gt),ua=iR;var nR=function(){function i(){}return i.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},i.shouldDecodeOnFallback=function(e){return!i.isBrowser()&&e==="ISO-8859-1"},i.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},i.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},i.encodingName=function(e){return typeof e=="string"?e:e.getName()},i.encodingCharacterSet=function(e){return e instanceof tr?e:tr.getCharacterSetECIByName(e)},i.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(i.isDecodeFallbackSupported(r)){for(var n="",o=0,a=e.length;o<a;o++){var s=e[o].toString(16);s.length<2&&(s="0"+s),n+="%"+s}return decodeURIComponent(n)}if(r.equals(tr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ua("Encoding "+this.encodingName(t)+" not supported by fallback.")},i.isDecodeFallbackSupported=function(e){return e.equals(tr.UTF8)||e.equals(tr.ISO8859_1)||e.equals(tr.ASCII)},i.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),n=[],o=0;o<r.length;o++)n.push(r[o].charCodeAt(0));return new Uint8Array(n)},i}(),Vr=nR;var oR=function(){function i(){}return i.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return Vr.decode(new Uint8Array([e]),r)},i.guessEncoding=function(e,t){if(t!=null&&t.get(dt.CHARACTER_SET)!==void 0)return t.get(dt.CHARACTER_SET).toString();for(var r=e.length,n=!0,o=!0,a=!0,s=0,l=0,d=0,h=0,p=0,g=0,_=0,E=0,A=0,N=0,F=0,P=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,L=0;L<r&&(n||o||a);L++){var z=e[L]&255;a&&(s>0?z&128?s--:a=!1:z&128&&(z&64?(s++,z&32?(s++,z&16?(s++,z&8?a=!1:h++):d++):l++):a=!1)),n&&(z>127&&z<160?n=!1:z>159&&(z<192||z===215||z===247)&&F++),o&&(p>0?z<64||z===127||z>252?o=!1:p--:z===128||z===160||z>239?o=!1:z>160&&z<224?(g++,E=0,_++,_>A&&(A=_)):z>127?(p++,_=0,E++,E>N&&(N=E)):(_=0,E=0))}return a&&s>0&&(a=!1),o&&p>0&&(o=!1),a&&(P||l+d+h>0)?i.UTF8:o&&(i.ASSUME_SHIFT_JIS||A>=3||N>=3)?i.SHIFT_JIS:n&&o?A===2&&g===2||F*10>=r?i.SHIFT_JIS:i.ISO88591:n?i.ISO88591:o?i.SHIFT_JIS:a?i.UTF8:i.PLATFORM_DEFAULT_ENCODING},i.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=-1;function o(s,l,d,h,p,g){if(s==="%%")return"%";if(t[++n]!==void 0){s=h?parseInt(h.substr(1)):void 0;var _=p?parseInt(p.substr(1)):void 0,E;switch(g){case"s":E=t[n];break;case"c":E=t[n][0];break;case"f":E=parseFloat(t[n]).toFixed(s);break;case"p":E=parseFloat(t[n]).toPrecision(s);break;case"e":E=parseFloat(t[n]).toExponential(s);break;case"x":E=parseInt(t[n]).toString(_||16);break;case"d":E=parseFloat(parseInt(t[n],_||10).toPrecision(s)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(_);for(var A=parseInt(d),N=d&&d[0]+""=="0"?"0":" ";E.length<A;)E=l!==void 0?E+N:N+E;return E}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)},i.getBytes=function(e,t){return Vr.encode(e,t)},i.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},i.getCharAt=function(e){return String.fromCharCode(e)},i.SHIFT_JIS=tr.SJIS.getName(),i.GB2312="GB2312",i.ISO88591=tr.ISO8859_1.getName(),i.EUC_JP="EUC_JP",i.UTF8=tr.UTF8.getName(),i.PLATFORM_DEFAULT_ENCODING=i.UTF8,i.ASSUME_SHIFT_JIS=!1,i}(),Ye=oR;var aR=function(){function i(e){e===void 0&&(e=""),this.value=e}return i.prototype.enableDecoding=function(e){return this.encoding=e,this},i.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ye.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},i.prototype.appendChars=function(e,t,r){for(var n=t;t<t+r;n++)this.append(e[n]);return this},i.prototype.length=function(){return this.value.length},i.prototype.charAt=function(e){return this.value.charAt(e)},i.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},i.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},i.prototype.substring=function(e,t){return this.value.substring(e,t)},i.prototype.setLengthToZero=function(){this.value=""},i.prototype.toString=function(){return this.value},i.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},i}(),Ae=aR;var sR=function(){function i(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,t==null&&(t=e),this.height=t,e<1||t<1)throw new se("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,n==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return i.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,n=new i(r,t),o=0;o<t;o++)for(var a=e[o],s=0;s<r;s++)a[s]&&n.set(s,o);return n},i.parseFromString=function(e,t,r){if(e===null)throw new se("stringRepresentation cannot be null");for(var n=new Array(e.length),o=0,a=0,s=-1,l=0,d=0;d<e.length;)if(e.charAt(d)===`
`||e.charAt(d)==="\r"){if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new se("row lengths do not match");a=o,l++}d++}else if(e.substring(d,d+t.length)===t)d+=t.length,n[o]=!0,o++;else if(e.substring(d,d+r.length)===r)d+=r.length,n[o]=!1,o++;else throw new se("illegal character encountered: "+e.substring(d));if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new se("row lengths do not match");l++}for(var h=new i(s,l),p=0;p<o;p++)n[p]&&h.set(Math.floor(p%s),Math.floor(p/s));return h},i.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},i.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},i.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},i.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},i.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new se("input matrix dimensions do not match");for(var t=new er(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits,o=0,a=this.height;o<a;o++)for(var s=o*r,l=e.getRow(o,t).getBitArray(),d=0;d<r;d++)n[s+d]^=l[d]},i.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},i.prototype.setRegion=function(e,t,r,n){if(t<0||e<0)throw new se("Left and top must be nonnegative");if(n<1||r<1)throw new se("Height and width must be at least 1");var o=e+r,a=t+n;if(a>this.height||o>this.width)throw new se("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,d=t;d<a;d++)for(var h=d*s,p=e;p<o;p++)l[h+Math.floor(p/32)]|=1<<(p&31)&4294967295},i.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new er(this.width):t.clear();for(var r=this.rowSize,n=this.bits,o=e*r,a=0;a<r;a++)t.setBulk(a*32,n[o+a]);return t},i.prototype.setRow=function(e,t){at.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},i.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new er(e),n=new er(e),o=0,a=Math.floor((t+1)/2);o<a;o++)r=this.getRow(o,r),n=this.getRow(t-1-o,n),r.reverse(),n.reverse(),this.setRow(o,n),this.setRow(t-1-o,r)},i.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,n=this.bits,o=e,a=t,s=-1,l=-1,d=0;d<t;d++)for(var h=0;h<r;h++){var p=n[d*r+h];if(p!==0){if(d<a&&(a=d),d>l&&(l=d),h*32<o){for(var g=0;!(p<<31-g&4294967295);)g++;h*32+g<o&&(o=h*32+g)}if(h*32+31>s){for(var g=31;!(p>>>g);)g--;h*32+g>s&&(s=h*32+g)}}}return s<o||l<a?null:Int32Array.from([o,a,s-o+1,l-a+1])},i.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var n=r/e,o=r%e*32,a=t[r],s=0;!(a<<31-s&4294967295);)s++;return o+=s,Int32Array.from([o,n])},i.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var n=Math.floor(r/e),o=Math.floor(r%e)*32,a=t[r],s=31;!(a>>>s);)s--;return o+=s,Int32Array.from([o,n])},i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.height},i.prototype.getRowSize=function(){return this.rowSize},i.prototype.equals=function(e){if(!(e instanceof i))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&Mt.equals(this.bits,t.bits)},i.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Mt.hashCode(this.bits),e},i.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},i.prototype.buildToString=function(e,t,r){for(var n=new Ae,o=0,a=this.height;o<a;o++){for(var s=0,l=this.width;s<l;s++)n.append(this.get(s,o)?e:t);n.append(r)}return n.toString()},i.prototype.clone=function(){return new i(this.width,this.height,this.rowSize,this.bits.slice())},i}(),rr=sR;var lR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cR=function(i){lR(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Gt),U=cR;var uR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dR=function(i){uR(e,i);function e(t){var r=i.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var n=this.getLuminanceSource(),o=n.getWidth();r==null||r.getSize()<o?r=new er(o):r.clear(),this.initArrays(o);for(var a=n.getRow(t,this.luminances),s=this.buckets,l=0;l<o;l++)s[(a[l]&255)>>e.LUMINANCE_SHIFT]++;var d=e.estimateBlackPoint(s);if(o<3)for(var l=0;l<o;l++)(a[l]&255)<d&&r.set(l);else for(var h=a[0]&255,p=a[1]&255,l=1;l<o-1;l++){var g=a[l+1]&255;(p*4-h-g)/2<d&&r.set(l),h=p,p=g}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),n=t.getHeight(),o=new rr(r,n);this.initArrays(r);for(var a=this.buckets,s=1;s<5;s++)for(var l=Math.floor(n*s/5),d=t.getRow(l,this.luminances),h=Math.floor(r*4/5),p=Math.floor(r/5);p<h;p++){var g=d[p]&255;a[g>>e.LUMINANCE_SHIFT]++}for(var _=e.estimateBlackPoint(a),E=t.getMatrix(),s=0;s<n;s++)for(var A=s*r,p=0;p<r;p++){var g=E[A+p]&255;g<_&&o.set(p,s)}return o},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,n=0;n<e.LUMINANCE_BUCKETS;n++)r[n]=0},e.estimateBlackPoint=function(t){for(var r=t.length,n=0,o=0,a=0,s=0;s<r;s++)t[s]>a&&(o=s,a=t[s]),t[s]>n&&(n=t[s]);for(var l=0,d=0,s=0;s<r;s++){var h=s-o,p=t[s]*h*h;p>d&&(l=s,d=p)}if(o>l){var g=o;o=l,l=g}if(l-o<=r/16)throw new U;for(var _=l-1,E=-1,s=l-1;s>o;s--){var A=s-o,p=A*A*(l-s)*(n-t[s]);p>E&&(_=s,E=p)}return _<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(Xm),qm=dR;var fR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hR=function(i){fR(e,i);function e(t){var r=i.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),n=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&n>=e.MINIMUM_DIMENSION){var o=t.getMatrix(),a=r>>e.BLOCK_SIZE_POWER;r&e.BLOCK_SIZE_MASK&&a++;var s=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&s++;var l=e.calculateBlackPoints(o,a,s,r,n),d=new rr(r,n);e.calculateThresholdForBlock(o,a,s,r,n,l,d),this.matrix=d}else this.matrix=i.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,n,o,a,s,l){for(var d=a-e.BLOCK_SIZE,h=o-e.BLOCK_SIZE,p=0;p<n;p++){var g=p<<e.BLOCK_SIZE_POWER;g>d&&(g=d);for(var _=e.cap(p,2,n-3),E=0;E<r;E++){var A=E<<e.BLOCK_SIZE_POWER;A>h&&(A=h);for(var N=e.cap(E,2,r-3),F=0,P=-2;P<=2;P++){var L=s[_+P];F+=L[N-2]+L[N-1]+L[N]+L[N+1]+L[N+2]}var z=F/25;e.thresholdBlock(t,A,g,z,o,l)}}},e.cap=function(t,r,n){return t<r?r:t>n?n:t},e.thresholdBlock=function(t,r,n,o,a,s){for(var l=0,d=n*a+r;l<e.BLOCK_SIZE;l++,d+=a)for(var h=0;h<e.BLOCK_SIZE;h++)(t[d+h]&255)<=o&&s.set(r+h,n+l)},e.calculateBlackPoints=function(t,r,n,o,a){for(var s=a-e.BLOCK_SIZE,l=o-e.BLOCK_SIZE,d=new Array(n),h=0;h<n;h++){d[h]=new Int32Array(r);var p=h<<e.BLOCK_SIZE_POWER;p>s&&(p=s);for(var g=0;g<r;g++){var _=g<<e.BLOCK_SIZE_POWER;_>l&&(_=l);for(var E=0,A=255,N=0,F=0,P=p*o+_;F<e.BLOCK_SIZE;F++,P+=o){for(var L=0;L<e.BLOCK_SIZE;L++){var z=t[P+L]&255;E+=z,z<A&&(A=z),z>N&&(N=z)}if(N-A>e.MIN_DYNAMIC_RANGE)for(F++,P+=o;F<e.BLOCK_SIZE;F++,P+=o)for(var L=0;L<e.BLOCK_SIZE;L++)E+=t[P+L]&255}var X=E>>e.BLOCK_SIZE_POWER*2;if(N-A<=e.MIN_DYNAMIC_RANGE&&(X=A/2,h>0&&g>0)){var Q=(d[h-1][g]+2*d[h][g-1]+d[h-1][g-1])/4;A<Q&&(X=Q)}d[h][g]=X}}return d},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(qm),$m=hR;var pR=function(){function i(e,t){this.width=e,this.height=t}return i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.height},i.prototype.isCropSupported=function(){return!1},i.prototype.crop=function(e,t,r,n){throw new ua("This luminance source does not support cropping.")},i.prototype.isRotateSupported=function(){return!1},i.prototype.rotateCounterClockwise=function(){throw new ua("This luminance source does not support rotation by 90 degrees.")},i.prototype.rotateCounterClockwise45=function(){throw new ua("This luminance source does not support rotation by 45 degrees.")},i.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new Ae,r=0;r<this.height;r++){for(var n=this.getRow(r,e),o=0;o<this.width;o++){var a=n[o]&255,s=void 0;a<64?s="#":a<128?s="+":a<192?s=".":s=" ",t.append(s)}t.append(`
`)}return t.toString()},i}(),Un=pR;var mR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gR=function(i){mR(e,i);function e(t){var r=i.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var n=this.delegate.getRow(t,r),o=this.getWidth(),a=0;a<o;a++)n[a]=255-(n[a]&255);return n},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(r),o=0;o<r;o++)n[o]=255-(t[o]&255);return n},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,n,o){return new e(this.delegate.crop(t,r,n,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Un),da=gR;var vR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wb=function(i){vR(e,i);function e(t,r){r===void 0&&(r=!1);var n=i.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t,r),n}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var n=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,n,o){o===void 0&&(o=!1);var a=new Uint8ClampedArray(r*n);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!o)for(var s=0,l=0,d=t.length;s<d;s+=4,l++){var h=void 0,p=t[s+3];if(p===0)h=255;else{var g=t[s],_=t[s+1],E=t[s+2];h=306*g+601*_+117*E+512>>10}a[l]=h}else for(var s=0,l=0,A=t.length;s<A;s+=4,l++){var h=void 0,p=t[s+3];if(p===0)h=255;else{var g=t[s],_=t[s+1],E=t[s+2];h=306*g+601*_+117*E+512>>10}a[l]=255-h}return a},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new se("Requested row is outside the image: "+t);var n=this.getWidth(),o=t*n;return r===null?r=this.buffer.slice(o,o+n):(r.length<n&&(r=new Uint8ClampedArray(n)),r.set(this.buffer.slice(o,o+n))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,n,o){return i.prototype.crop.call(this,t,r,n,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),n=r.getContext("2d"),o=t*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*s),d=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*s);return r.width=l,r.height=d,n.translate(l/2,d/2),n.rotate(o),n.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new da(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Un);var Cb=function(){function i(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return i.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},i}();var ci=function(i,e,t,r){function n(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(h){try{d(r.next(h))}catch(p){a(p)}}function l(h){try{d(r.throw(h))}catch(p){a(p)}}function d(h){h.done?o(h.value):n(h.value).then(s,l)}d((r=r.apply(i,e||[])).next())})},ui=function(i,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,n,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(h){return l([d,h])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,n&&(o=d[0]&2?n.return:d[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,d[1])).done)return o;switch(n=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(i,t)}catch(h){d=[6,h],n=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},_R=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gi=function(){function i(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(i.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),i.prototype.listVideoInputDevices=function(){return ci(this,void 0,void 0,function(){var e,t,r,n,o,a,s,l,d,h,p,g;return ui(this,function(_){switch(_.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=_.sent(),t=[];try{for(r=_R(e),n=r.next();!n.done;n=r.next())o=n.value,a=o.kind==="video"?"videoinput":o.kind,a==="videoinput"&&(s=o.deviceId||o.id,l=o.label||"Video device "+(t.length+1),d=o.groupId,h={deviceId:s,label:l,kind:a,groupId:d},t.push(h))}catch(E){p={error:E}}finally{try{n&&!n.done&&(g=r.return)&&g.call(r)}finally{if(p)throw p.error}}return[2,t]}})})},i.prototype.getVideoInputDevices=function(){return ci(this,void 0,void 0,function(){var e;return ui(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new Cb(r.deviceId,r.label)})]}})})},i.prototype.findDeviceById=function(e){return ci(this,void 0,void 0,function(){var t;return ui(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(n){return n.deviceId===e})]:[2,null]}})})},i.prototype.decodeFromInputVideoDevice=function(e,t){return ci(this,void 0,void 0,function(){return ui(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},i.prototype.decodeOnceFromVideoDevice=function(e,t){return ci(this,void 0,void 0,function(){var r,n;return ui(this,function(o){switch(o.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},n={video:r},[4,this.decodeOnceFromConstraints(n,t)];case 1:return[2,o.sent()]}})})},i.prototype.decodeOnceFromConstraints=function(e,t){return ci(this,void 0,void 0,function(){var r;return ui(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,n.sent()]}})})},i.prototype.decodeOnceFromStream=function(e,t){return ci(this,void 0,void 0,function(){var r,n;return ui(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=o.sent(),[4,this.decodeOnce(r)];case 2:return n=o.sent(),[2,n]}})})},i.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return ci(this,void 0,void 0,function(){return ui(this,function(n){switch(n.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,n.sent()]}})})},i.prototype.decodeFromVideoDevice=function(e,t,r){return ci(this,void 0,void 0,function(){var n,o;return ui(this,function(a){switch(a.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},o={video:n},[4,this.decodeFromConstraints(o,t,r)];case 1:return[2,a.sent()]}})})},i.prototype.decodeFromConstraints=function(e,t,r){return ci(this,void 0,void 0,function(){var n;return ui(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=o.sent(),[4,this.decodeFromStream(n,t,r)];case 2:return[2,o.sent()]}})})},i.prototype.decodeFromStream=function(e,t,r){return ci(this,void 0,void 0,function(){var n;return ui(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=o.sent(),[4,this.decodeContinuously(n,r)];case 2:return[2,o.sent()]}})})},i.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},i.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},i.prototype.attachStreamToVideo=function(e,t){return ci(this,void 0,void 0,function(){var r;return ui(this,function(n){switch(n.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return n.sent(),[2,r]}})})},i.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,n){return t.playVideoOnLoad(e,function(){return r()})})},i.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},i.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},i.prototype.tryPlayVideo=function(e){return ci(this,void 0,void 0,function(){var t;return ui(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},i.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new bi("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new bi("element with id '"+e+"' must be an "+t+" element");return r},i.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new bi("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},i.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new bi("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},i.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new bi("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},i.prototype.decodeFromImageElement=function(e){if(!e)throw new bi("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},i.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},i.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},i.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new bi("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},i.prototype.decodeFromImageUrl=function(e){if(!e)throw new bi("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},i.prototype.decodeFromVideoUrl=function(e){if(!e)throw new bi("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},i.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new bi("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n},i.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,n){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,n)},e.addEventListener("load",t.imageLoadedListener)})},i.prototype._decodeOnLoadVideo=function(e){return ci(this,void 0,void 0,function(){return ui(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},i.prototype._decodeOnLoadVideoContinuously=function(e,t){return ci(this,void 0,void 0,function(){return ui(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},i.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},i.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},i.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},i.prototype.decodeOnce=function(e,t,r){var n=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var o=function(a,s){if(n._stopAsyncDecode){s(new U("Video stream has ended before any code could be detected.")),n._stopAsyncDecode=void 0;return}try{var l=n.decode(e);a(l)}catch(g){var d=t&&g instanceof U,h=g instanceof Ht||g instanceof ee,p=h&&r;if(d||p)return setTimeout(o,n._timeBetweenDecodingAttempts,a,s);s(g)}};return new Promise(function(a,s){return o(a,s)})},i.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var n=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var o=r.decode(e);t(o,null),setTimeout(n,r.timeBetweenScansMillis)}catch(l){t(null,l);var a=l instanceof Ht||l instanceof ee,s=l instanceof U;(a||s)&&setTimeout(n,r._timeBetweenDecodingAttempts)}};n()},i.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},i.prototype.createBinaryBitmap=function(e){var t=this.getCaptureCanvasContext(e),r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),o=new wb(n,r),a=new $m(o);return new Wm(a)},i.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},i.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},i.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},i.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},i.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},i.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,n;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=n+"px",t.width=r,t.height=n,t},i.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},i.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},i.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},i.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},i.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},i.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},i.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},i}();var yR=function(){function i(e,t,r,n,o,a){r===void 0&&(r=t==null?0:8*t.length),a===void 0&&(a=at.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=n,this.format=o,this.resultMetadata=null,a==null?this.timestamp=at.currentTimeMillis():this.timestamp=a}return i.prototype.getText=function(){return this.text},i.prototype.getRawBytes=function(){return this.rawBytes},i.prototype.getNumBits=function(){return this.numBits},i.prototype.getResultPoints=function(){return this.resultPoints},i.prototype.getBarcodeFormat=function(){return this.format},i.prototype.getResultMetadata=function(){return this.resultMetadata},i.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},i.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},i.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);at.arraycopy(t,0,r,0,t.length),at.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},i.prototype.getTimestamp=function(){return this.timestamp},i.prototype.toString=function(){return this.text},i}(),Ot=yR;var Ib=function(i){return i[i.AZTEC=0]="AZTEC",i[i.CODABAR=1]="CODABAR",i[i.CODE_39=2]="CODE_39",i[i.CODE_93=3]="CODE_93",i[i.CODE_128=4]="CODE_128",i[i.DATA_MATRIX=5]="DATA_MATRIX",i[i.EAN_8=6]="EAN_8",i[i.EAN_13=7]="EAN_13",i[i.ITF=8]="ITF",i[i.MAXICODE=9]="MAXICODE",i[i.PDF_417=10]="PDF_417",i[i.QR_CODE=11]="QR_CODE",i[i.RSS_14=12]="RSS_14",i[i.RSS_EXPANDED=13]="RSS_EXPANDED",i[i.UPC_A=14]="UPC_A",i[i.UPC_E=15]="UPC_E",i[i.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",i}(Ib||{}),le=Ib;var Ab=function(i){return i[i.OTHER=0]="OTHER",i[i.ORIENTATION=1]="ORIENTATION",i[i.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",i[i.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",i[i.ISSUE_NUMBER=4]="ISSUE_NUMBER",i[i.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",i[i.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",i[i.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",i[i.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",i[i.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",i[i.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",i}(Ab||{}),ar=Ab;var bR=function(){function i(e,t,r,n,o,a){o===void 0&&(o=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return i.prototype.getRawBytes=function(){return this.rawBytes},i.prototype.getNumBits=function(){return this.numBits},i.prototype.setNumBits=function(e){this.numBits=e},i.prototype.getText=function(){return this.text},i.prototype.getByteSegments=function(){return this.byteSegments},i.prototype.getECLevel=function(){return this.ecLevel},i.prototype.getErrorsCorrected=function(){return this.errorsCorrected},i.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},i.prototype.getErasures=function(){return this.erasures},i.prototype.setErasures=function(e){this.erasures=e},i.prototype.getOther=function(){return this.other},i.prototype.setOther=function(e){this.other=e},i.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},i.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},i.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},i}(),zn=bR;var xR=function(){function i(){}return i.prototype.exp=function(e){return this.expTable[e]},i.prototype.log=function(e){if(e===0)throw new se;return this.logTable[e]},i.addOrSubtract=function(e,t){return e^t},i}(),fa=xR;var ER=function(){function i(e,t){if(t.length===0)throw new se;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var n=1;n<r&&t[n]===0;)n++;n===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-n),at.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return i.prototype.getCoefficients=function(){return this.coefficients},i.prototype.getDegree=function(){return this.coefficients.length-1},i.prototype.isZero=function(){return this.coefficients[0]===0},i.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},i.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var n=0,o=t.length;n!==o;n++){var a=t[n];r=fa.addOrSubtract(r,a)}return r}r=t[0];for(var s=t.length,l=this.field,n=1;n<s;n++)r=fa.addOrSubtract(l.multiply(e,r),t[n]);return r},i.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new se("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var n=t;t=r,r=n}var o=new Int32Array(r.length),a=r.length-t.length;at.arraycopy(r,0,o,0,a);for(var s=a;s<r.length;s++)o[s]=fa.addOrSubtract(t[s-a],r[s]);return new i(this.field,o)},i.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new se("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,n=e.coefficients,o=n.length,a=new Int32Array(r+o-1),s=this.field,l=0;l<r;l++)for(var d=t[l],h=0;h<o;h++)a[l+h]=fa.addOrSubtract(a[l+h],s.multiply(d,n[h]));return new i(s,a)},i.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,n=new Int32Array(t),o=this.coefficients,a=0;a<t;a++)n[a]=r.multiply(o[a],e);return new i(r,n)},i.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new se;if(t===0)return this.field.getZero();for(var r=this.coefficients,n=r.length,o=new Int32Array(n+e),a=this.field,s=0;s<n;s++)o[s]=a.multiply(r[s],t);return new i(a,o)},i.prototype.divide=function(e){if(!this.field.equals(e.field))throw new se("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new se("Divide by 0");for(var t=this.field,r=t.getZero(),n=this,o=e.getCoefficient(e.getDegree()),a=t.inverse(o);n.getDegree()>=e.getDegree()&&!n.isZero();){var s=n.getDegree()-e.getDegree(),l=t.multiply(n.getCoefficient(n.getDegree()),a),d=e.multiplyByMonomial(s,l),h=t.buildMonomial(s,l);r=r.addOrSubtract(h),n=n.addOrSubtract(d)}return[r,n]},i.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var n=this.field.log(r);n===0?e+="1":n===1?e+="a":(e+="a^",e+=n)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},i}(),Hi=ER;var wR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CR=function(i){wR(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Gt),ic=CR;var IR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AR=function(i){IR(e,i);function e(t,r,n){var o=i.call(this)||this;o.primitive=t,o.size=r,o.generatorBase=n;for(var a=new Int32Array(r),s=1,l=0;l<r;l++)a[l]=s,s*=2,s>=r&&(s^=t,s&=r-1);o.expTable=a;for(var d=new Int32Array(r),l=0;l<r-1;l++)d[a[l]]=l;return o.logTable=d,o.zero=new Hi(o,Int32Array.from([0])),o.one=new Hi(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new se;if(r===0)return this.zero;var n=new Int32Array(t+1);return n[0]=r,new Hi(this,n)},e.prototype.inverse=function(t){if(t===0)throw new ic;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Be.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(fa),wr=AR;var SR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TR=function(i){SR(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Gt),bs=TR;var DR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RR=function(i){DR(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Gt),$r=RR;var OR=function(){function i(e){this.field=e}return i.prototype.decode=function(e,t){for(var r=this.field,n=new Hi(r,e),o=new Int32Array(t),a=!0,s=0;s<t;s++){var l=n.evaluateAt(r.exp(s+r.getGeneratorBase()));o[o.length-1-s]=l,l!==0&&(a=!1)}if(!a)for(var d=new Hi(r,o),h=this.runEuclideanAlgorithm(r.buildMonomial(t,1),d,t),p=h[0],g=h[1],_=this.findErrorLocations(p),E=this.findErrorMagnitudes(g,_),s=0;s<_.length;s++){var A=e.length-1-r.log(_[s]);if(A<0)throw new bs("Bad error location");e[A]=wr.addOrSubtract(e[A],E[s])}},i.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var n=e;e=t,t=n}for(var o=this.field,a=e,s=t,l=o.getZero(),d=o.getOne();s.getDegree()>=(r/2|0);){var h=a,p=l;if(a=s,l=d,a.isZero())throw new bs("r_{i-1} was zero");s=h;for(var g=o.getZero(),_=a.getCoefficient(a.getDegree()),E=o.inverse(_);s.getDegree()>=a.getDegree()&&!s.isZero();){var A=s.getDegree()-a.getDegree(),N=o.multiply(s.getCoefficient(s.getDegree()),E);g=g.addOrSubtract(o.buildMonomial(A,N)),s=s.addOrSubtract(a.multiplyByMonomial(A,N))}if(d=g.multiply(l).addOrSubtract(p),s.getDegree()>=a.getDegree())throw new $r("Division algorithm failed to reduce polynomial?")}var F=d.getCoefficient(0);if(F===0)throw new bs("sigmaTilde(0) was zero");var P=o.inverse(F),L=d.multiplyScalar(P),z=s.multiplyScalar(P);return[L,z]},i.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),n=0,o=this.field,a=1;a<o.getSize()&&n<t;a++)e.evaluateAt(a)===0&&(r[n]=o.inverse(a),n++);if(n!==t)throw new bs("Error locator degree does not match number of roots");return r},i.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,n=new Int32Array(r),o=this.field,a=0;a<r;a++){for(var s=o.inverse(t[a]),l=1,d=0;d<r;d++)if(a!==d){var h=o.multiply(t[d],s),p=h&1?h&-2:h|1;l=o.multiply(l,p)}n[a]=o.multiply(e.evaluateAt(s),o.inverse(l)),o.getGeneratorBase()!==0&&(n[a]=o.multiply(n[a],s))}return n},i}(),jn=OR;var ei=function(i){return i[i.UPPER=0]="UPPER",i[i.LOWER=1]="LOWER",i[i.MIXED=2]="MIXED",i[i.DIGIT=3]="DIGIT",i[i.PUNCT=4]="PUNCT",i[i.BINARY=5]="BINARY",i}(ei||{}),MR=function(){function i(){}return i.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),n=this.correctBits(r),o=i.convertBoolArrayToByteArray(n),a=i.getEncodedData(n),s=new zn(o,a,null,null);return s.setNumBits(n.length),s},i.highLevelDecode=function(e){return this.getEncodedData(e)},i.getEncodedData=function(e){for(var t=e.length,r=ei.UPPER,n=ei.UPPER,o="",a=0;a<t;)if(n===ei.BINARY){if(t-a<5)break;var s=i.readCode(e,a,5);if(a+=5,s===0){if(t-a<11)break;s=i.readCode(e,a,11)+31,a+=11}for(var l=0;l<s;l++){if(t-a<8){a=t;break}var d=i.readCode(e,a,8);o+=Ye.castAsNonUtf8Char(d),a+=8}n=r}else{var h=n===ei.DIGIT?4:5;if(t-a<h)break;var d=i.readCode(e,a,h);a+=h;var p=i.getCharacter(n,d);p.startsWith("CTRL_")?(r=n,n=i.getTable(p.charAt(5)),p.charAt(6)==="L"&&(r=n)):(o+=p,n=r)}return o},i.getTable=function(e){switch(e){case"L":return ei.LOWER;case"P":return ei.PUNCT;case"M":return ei.MIXED;case"D":return ei.DIGIT;case"B":return ei.BINARY;case"U":default:return ei.UPPER}},i.getCharacter=function(e,t){switch(e){case ei.UPPER:return i.UPPER_TABLE[t];case ei.LOWER:return i.LOWER_TABLE[t];case ei.MIXED:return i.MIXED_TABLE[t];case ei.PUNCT:return i.PUNCT_TABLE[t];case ei.DIGIT:return i.DIGIT_TABLE[t];default:throw new $r("Bad table")}},i.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=wr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=wr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=wr.AZTEC_DATA_10):(r=12,t=wr.AZTEC_DATA_12);var n=this.ddata.getNbDatablocks(),o=e.length/r;if(o<n)throw new ee;for(var a=e.length%r,s=new Int32Array(o),l=0;l<o;l++,a+=r)s[l]=i.readCode(e,a,r);try{var d=new jn(t);d.decode(s,o-n)}catch(N){throw new ee(N)}for(var h=(1<<r)-1,p=0,l=0;l<n;l++){var g=s[l];if(g===0||g===h)throw new ee;(g===1||g===h-1)&&p++}for(var _=new Array(n*r-p),E=0,l=0;l<n;l++){var g=s[l];if(g===1||g===h-1)_.fill(g>1,E,E+r-1),E+=r-1;else for(var A=r-1;A>=0;--A)_[E++]=(g&1<<A)!==0}return _},i.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+r*4,o=new Int32Array(n),a=new Array(this.totalBitsInLayer(r,t));if(t)for(var s=0;s<o.length;s++)o[s]=s;else for(var l=n+1+2*Be.truncDivision(Be.truncDivision(n,2)-1,15),d=n/2,h=Be.truncDivision(l,2),s=0;s<d;s++){var p=s+Be.truncDivision(s,15);o[d-s-1]=h-p-1,o[d+s]=h+p+1}for(var s=0,g=0;s<r;s++){for(var _=(r-s)*4+(t?9:12),E=s*2,A=n-1-E,N=0;N<_;N++)for(var F=N*2,P=0;P<2;P++)a[g+F+P]=e.get(o[E+P],o[E+N]),a[g+2*_+F+P]=e.get(o[E+N],o[A-P]),a[g+4*_+F+P]=e.get(o[A-P],o[A-N]),a[g+6*_+F+P]=e.get(o[A-N],o[E+P]);g+=_*8}return a},i.readCode=function(e,t,r){for(var n=0,o=t;o<t+r;o++)n<<=1,e[o]&&(n|=1);return n},i.readByte=function(e,t){var r=e.length-t;return r>=8?i.readCode(e,t,8):i.readCode(e,t,r)<<8-r},i.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=i.readByte(e,8*r);return t},i.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},i.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],i.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],i.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],i.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],i.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],i}(),Id=MR;var PR=function(){function i(){}return i.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},i.distance=function(e,t,r,n){var o=e-r,a=t-n;return Math.sqrt(o*o+a*a)},i.sum=function(e){for(var t=0,r=0,n=e.length;r!==n;r++){var o=e[r];t+=o}return t},i}(),st=PR;var NR=function(){function i(){}return i.floatToIntBits=function(e){return e},i.MAX_VALUE=Number.MAX_SAFE_INTEGER,i}(),nc=NR;var FR=function(){function i(e,t){this.x=e,this.y=t}return i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.equals=function(e){if(e instanceof i){var t=e;return this.x===t.x&&this.y===t.y}return!1},i.prototype.hashCode=function(){return 31*nc.floatToIntBits(this.x)+nc.floatToIntBits(this.y)},i.prototype.toString=function(){return"("+this.x+","+this.y+")"},i.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),n=this.distance(e[0],e[2]),o,a,s;if(r>=t&&r>=n?(a=e[0],o=e[1],s=e[2]):n>=r&&n>=t?(a=e[1],o=e[0],s=e[2]):(a=e[2],o=e[0],s=e[1]),this.crossProductZ(o,a,s)<0){var l=o;o=s,s=l}e[0]=o,e[1]=a,e[2]=s},i.distance=function(e,t){return st.distance(e.x,e.y,t.x,t.y)},i.crossProductZ=function(e,t,r){var n=t.x,o=t.y;return(r.x-n)*(e.y-o)-(r.y-o)*(e.x-n)},i}(),ue=FR;var kR=function(){function i(e,t){this.bits=e,this.points=t}return i.prototype.getBits=function(){return this.bits},i.prototype.getPoints=function(){return this.points},i}(),ha=kR;var LR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BR=function(i){LR(e,i);function e(t,r,n,o,a){var s=i.call(this,t,r)||this;return s.compact=n,s.nbDatablocks=o,s.nbLayers=a,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(ha),Zm=BR;var VR=function(){function i(e,t,r,n){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=i.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),n==null&&(n=e.getHeight()/2|0);var o=t/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=n-o,this.downInit=n+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new U}return i.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,o=!1,a=!0,s=!1,l=!1,d=!1,h=!1,p=!1,g=this.width,_=this.height;a;){a=!1;for(var E=!0;(E||!l)&&t<g;)E=this.containsBlackPoint(r,n,t,!1),E?(t++,a=!0,l=!0):l||t++;if(t>=g){o=!0;break}for(var A=!0;(A||!d)&&n<_;)A=this.containsBlackPoint(e,t,n,!0),A?(n++,a=!0,d=!0):d||n++;if(n>=_){o=!0;break}for(var N=!0;(N||!h)&&e>=0;)N=this.containsBlackPoint(r,n,e,!1),N?(e--,a=!0,h=!0):h||e--;if(e<0){o=!0;break}for(var F=!0;(F||!p)&&r>=0;)F=this.containsBlackPoint(e,t,r,!0),F?(r--,a=!0,p=!0):p||r--;if(r<0){o=!0;break}a&&(s=!0)}if(!o&&s){for(var P=t-e,L=null,z=1;L===null&&z<P;z++)L=this.getBlackPointOnSegment(e,n-z,e+z,n);if(L==null)throw new U;for(var X=null,z=1;X===null&&z<P;z++)X=this.getBlackPointOnSegment(e,r+z,e+z,r);if(X==null)throw new U;for(var Q=null,z=1;Q===null&&z<P;z++)Q=this.getBlackPointOnSegment(t,r+z,t-z,r);if(Q==null)throw new U;for(var re=null,z=1;re===null&&z<P;z++)re=this.getBlackPointOnSegment(t,n-z,t-z,n);if(re==null)throw new U;return this.centerEdges(re,L,Q,X)}else throw new U},i.prototype.getBlackPointOnSegment=function(e,t,r,n){for(var o=st.round(st.distance(e,t,r,n)),a=(r-e)/o,s=(n-t)/o,l=this.image,d=0;d<o;d++){var h=st.round(e+d*a),p=st.round(t+d*s);if(l.get(h,p))return new ue(h,p)}return null},i.prototype.centerEdges=function(e,t,r,n){var o=e.getX(),a=e.getY(),s=t.getX(),l=t.getY(),d=r.getX(),h=r.getY(),p=n.getX(),g=n.getY(),_=i.CORR;return o<this.width/2?[new ue(p-_,g+_),new ue(s+_,l+_),new ue(d-_,h-_),new ue(o+_,a-_)]:[new ue(p+_,g+_),new ue(s+_,l-_),new ue(d-_,h+_),new ue(o-_,a-_)]},i.prototype.containsBlackPoint=function(e,t,r,n){var o=this.image;if(n){for(var a=e;a<=t;a++)if(o.get(a,r))return!0}else for(var s=e;s<=t;s++)if(o.get(r,s))return!0;return!1},i.INIT_SIZE=10,i.CORR=1,i}(),xs=VR;var UR=function(){function i(){}return i.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),n=e.getHeight(),o=!0,a=0;a<t.length&&o;a+=2){var s=Math.floor(t[a]),l=Math.floor(t[a+1]);if(s<-1||s>r||l<-1||l>n)throw new U;o=!1,s===-1?(t[a]=0,o=!0):s===r&&(t[a]=r-1,o=!0),l===-1?(t[a+1]=0,o=!0):l===n&&(t[a+1]=n-1,o=!0)}o=!0;for(var a=t.length-2;a>=0&&o;a-=2){var s=Math.floor(t[a]),l=Math.floor(t[a+1]);if(s<-1||s>r||l<-1||l>n)throw new U;o=!1,s===-1?(t[a]=0,o=!0):s===r&&(t[a]=r-1,o=!0),l===-1?(t[a+1]=0,o=!0):l===n&&(t[a+1]=n-1,o=!0)}},i}(),Ad=UR;var zR=function(){function i(e,t,r,n,o,a,s,l,d){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=o,this.a32=a,this.a13=s,this.a23=l,this.a33=d}return i.quadrilateralToQuadrilateral=function(e,t,r,n,o,a,s,l,d,h,p,g,_,E,A,N){var F=i.quadrilateralToSquare(e,t,r,n,o,a,s,l),P=i.squareToQuadrilateral(d,h,p,g,_,E,A,N);return P.times(F)},i.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,n=this.a12,o=this.a13,a=this.a21,s=this.a22,l=this.a23,d=this.a31,h=this.a32,p=this.a33,g=0;g<t;g+=2){var _=e[g],E=e[g+1],A=o*_+l*E+p;e[g]=(r*_+a*E+d)/A,e[g+1]=(n*_+s*E+h)/A}},i.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,n=this.a12,o=this.a13,a=this.a21,s=this.a22,l=this.a23,d=this.a31,h=this.a32,p=this.a33,g=e.length,_=0;_<g;_++){var E=e[_],A=t[_],N=o*E+l*A+p;e[_]=(r*E+a*A+d)/N,t[_]=(n*E+s*A+h)/N}},i.squareToQuadrilateral=function(e,t,r,n,o,a,s,l){var d=e-r+o-s,h=t-n+a-l;if(d===0&&h===0)return new i(r-e,o-r,e,n-t,a-n,t,0,0,1);var p=r-o,g=s-o,_=n-a,E=l-a,A=p*E-g*_,N=(d*E-g*h)/A,F=(p*h-d*_)/A;return new i(r-e+N*r,s-e+F*s,e,n-t+N*n,l-t+F*l,t,N,F,1)},i.quadrilateralToSquare=function(e,t,r,n,o,a,s,l){return i.squareToQuadrilateral(e,t,r,n,o,a,s,l).buildAdjoint()},i.prototype.buildAdjoint=function(){return new i(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},i.prototype.times=function(e){return new i(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},i}(),oc=zR;var jR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GR=function(i){jR(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,n,o,a,s,l,d,h,p,g,_,E,A,N,F,P,L,z){var X=oc.quadrilateralToQuadrilateral(o,a,s,l,d,h,p,g,_,E,A,N,F,P,L,z);return this.sampleGridWithTransform(t,r,n,X)},e.prototype.sampleGridWithTransform=function(t,r,n,o){if(r<=0||n<=0)throw new U;for(var a=new rr(r,n),s=new Float32Array(2*r),l=0;l<n;l++){for(var d=s.length,h=l+.5,p=0;p<d;p+=2)s[p]=p/2+.5,s[p+1]=h;o.transformPoints(s),Ad.checkAndNudgePoints(t,s);try{for(var p=0;p<d;p+=2)t.get(Math.floor(s[p]),Math.floor(s[p+1]))&&a.set(p/2,l)}catch{throw new U}}return a},e}(Ad),Km=GR;var HR=function(){function i(){}return i.setGridSampler=function(e){i.gridSampler=e},i.getInstance=function(){return i.gridSampler},i.gridSampler=new Km,i}(),pa=HR;var di=function(){function i(e,t){this.x=e,this.y=t}return i.prototype.toResultPoint=function(){return new ue(this.getX(),this.getY())},i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i}();var WR=function(){function i(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return i.prototype.detect=function(){return this.detectMirror(!1)},i.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var n=r[0];r[0]=r[2],r[2]=n}this.extractParameters(r);var o=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),a=this.getMatrixCornerPoints(r);return new Zm(o,a,this.compact,this.nbDataBlocks,this.nbLayers)},i.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new U;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var n=0,o=0;o<4;o++){var a=r[(this.shift+o)%4];this.compact?(n<<=7,n+=a>>1&127):(n<<=10,n+=(a>>2&992)+(a>>1&31))}var s=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},i.prototype.getRotation=function(e,t){var r=0;e.forEach(function(o,a,s){var l=(o>>t-2<<1)+(o&1);r=(r<<3)+l}),r=((r&1)<<11)+(r>>1);for(var n=0;n<4;n++)if(Be.bitCount(r^this.EXPECTED_CORNER_BITS[n])<=2)return n;throw new U},i.prototype.getCorrectedParameterData=function(e,t){var r,n;t?(r=7,n=2):(r=10,n=4);for(var o=r-n,a=new Int32Array(r),s=r-1;s>=0;--s)a[s]=e&15,e>>=4;try{var l=new jn(wr.AZTEC_PARAM);l.decode(a,o)}catch{throw new U}for(var d=0,s=0;s<n;s++)d=(d<<4)+a[s];return d},i.prototype.getBullsEyeCorners=function(e){var t=e,r=e,n=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(t,a,1,-1),l=this.getFirstDifferent(r,a,1,1),d=this.getFirstDifferent(n,a,-1,1),h=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(h,s)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(s,l,d,h))break}t=s,r=l,n=d,o=h,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new U;this.compact=this.nbCenterLayers===5;var g=new ue(t.getX()+.5,t.getY()-.5),_=new ue(r.getX()+.5,r.getY()+.5),E=new ue(n.getX()-.5,n.getY()+.5),A=new ue(o.getX()-.5,o.getY()-.5);return this.expandSquare([g,_,E,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},i.prototype.getMatrixCenter=function(){var e,t,r,n;try{var o=new xs(this.image).detect();e=o[0],t=o[1],r=o[2],n=o[3]}catch{var a=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new di(a+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new di(a+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new di(a-7,s+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new di(a-7,s-7),!1,-1,-1).toResultPoint()}var l=st.round((e.getX()+n.getX()+t.getX()+r.getX())/4),d=st.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{var o=new xs(this.image,15,l,d).detect();e=o[0],t=o[1],r=o[2],n=o[3]}catch{e=this.getFirstDifferent(new di(l+7,d-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new di(l+7,d+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new di(l-7,d+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new di(l-7,d-7),!1,-1,-1).toResultPoint()}return l=st.round((e.getX()+n.getX()+t.getX()+r.getX())/4),d=st.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new di(l,d)},i.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},i.prototype.sampleGrid=function(e,t,r,n,o){var a=pa.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,d=s/2+this.nbCenterLayers;return a.sampleGrid(e,s,s,l,l,d,l,d,d,l,d,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),o.getX(),o.getY())},i.prototype.sampleLine=function(e,t,r){for(var n=0,o=this.distanceResultPoint(e,t),a=o/r,s=e.getX(),l=e.getY(),d=a*(t.getX()-e.getX())/o,h=a*(t.getY()-e.getY())/o,p=0;p<r;p++)this.image.get(st.round(s+p*d),st.round(l+p*h))&&(n|=1<<r-p-1);return n},i.prototype.isWhiteOrBlackRectangle=function(e,t,r,n){var o=3;e=new di(e.getX()-o,e.getY()+o),t=new di(t.getX()-o,t.getY()-o),r=new di(r.getX()+o,r.getY()-o),n=new di(n.getX()+o,n.getY()+o);var a=this.getColor(n,e);if(a===0)return!1;var s=this.getColor(e,t);return s!==a||(s=this.getColor(t,r),s!==a)?!1:(s=this.getColor(r,n),s===a)},i.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,o=(t.getY()-e.getY())/r,a=0,s=e.getX(),l=e.getY(),d=this.image.get(e.getX(),e.getY()),h=Math.ceil(r),p=0;p<h;p++)s+=n,l+=o,this.image.get(st.round(s),st.round(l))!==d&&a++;var g=a/r;return g>.1&&g<.9?0:g<=.1===d?1:-1},i.prototype.getFirstDifferent=function(e,t,r,n){for(var o=e.getX()+r,a=e.getY()+n;this.isValid(o,a)&&this.image.get(o,a)===t;)o+=r,a+=n;for(o-=r,a-=n;this.isValid(o,a)&&this.image.get(o,a)===t;)o+=r;for(o-=r;this.isValid(o,a)&&this.image.get(o,a)===t;)a+=n;return a-=n,new di(o,a)},i.prototype.expandSquare=function(e,t,r){var n=r/(2*t),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,d=new ue(s+n*o,l+n*a),h=new ue(s-n*o,l-n*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var p=new ue(s+n*o,l+n*a),g=new ue(s-n*o,l-n*a),_=[d,p,h,g];return _},i.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},i.prototype.isValidPoint=function(e){var t=st.round(e.getX()),r=st.round(e.getY());return this.isValid(t,r)},i.prototype.distancePoint=function(e,t){return st.distance(e.getX(),e.getY(),t.getX(),t.getY())},i.prototype.distanceResultPoint=function(e,t){return st.distance(e.getX(),e.getY(),t.getX(),t.getY())},i.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Be.truncDivision(this.nbLayers-4,8)+1)+15},i}(),Qm=WR;var XR=function(){function i(){}return i.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,n=new Qm(e.getBlackMatrix()),o=null,a=null;try{var s=n.detectMirror(!1);o=s.getPoints(),this.reportFoundResultPoints(t,o),a=new Id().decode(s)}catch(p){r=p}if(a==null)try{var s=n.detectMirror(!0);o=s.getPoints(),this.reportFoundResultPoints(t,o),a=new Id().decode(s)}catch(p){throw r??p}var l=new Ot(a.getText(),a.getRawBytes(),a.getNumBits(),o,le.AZTEC,at.currentTimeMillis()),d=a.getByteSegments();d!=null&&l.putMetadata(ar.BYTE_SEGMENTS,d);var h=a.getECLevel();return h!=null&&l.putMetadata(ar.ERROR_CORRECTION_LEVEL,h),l},i.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(dt.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(n,o,a){r.foundPossibleResultPoint(n)})}},i.prototype.reset=function(){},i}(),Es=XR;var YR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),h7=function(i){YR(e,i);function e(t){return t===void 0&&(t=500),i.call(this,new Es,t)||this}return e}(Gi);var qR=function(){function i(){}return i.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(dt.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var n=e.rotateCounterClockwise(),o=this.doDecode(n,t),a=o.getResultMetadata(),s=270;a!==null&&a.get(ar.ORIENTATION)===!0&&(s=s+a.get(ar.ORIENTATION)%360),o.putMetadata(ar.ORIENTATION,s);var l=o.getResultPoints();if(l!==null)for(var d=n.getHeight(),h=0;h<l.length;h++)l[h]=new ue(d-l[h].getY()-1,l[h].getX());return o}else throw new U}},i.prototype.reset=function(){},i.prototype.doDecode=function(e,t){var r=e.getWidth(),n=e.getHeight(),o=new er(r),a=t&&t.get(dt.TRY_HARDER)===!0,s=Math.max(1,n>>(a?8:5)),l;a?l=n:l=15;for(var d=Math.trunc(n/2),h=0;h<l;h++){var p=Math.trunc((h+1)/2),g=(h&1)===0,_=d+s*(g?p:-p);if(_<0||_>=n)break;try{o=e.getBlackRow(_,o)}catch{continue}for(var E=function(P){if(P===1&&(o.reverse(),t&&t.get(dt.NEED_RESULT_POINT_CALLBACK)===!0)){var L=new Map;t.forEach(function(Q,re){return L.set(re,Q)}),L.delete(dt.NEED_RESULT_POINT_CALLBACK),t=L}try{var z=A.decodeRow(_,o,t);if(P===1){z.putMetadata(ar.ORIENTATION,180);var X=z.getResultPoints();X!==null&&(X[0]=new ue(r-X[0].getX()-1,X[0].getY()),X[1]=new ue(r-X[1].getX()-1,X[1].getY()))}return{value:z}}catch{}},A=this,N=0;N<2;N++){var F=E(N);if(typeof F=="object")return F.value}}throw new U},i.recordPattern=function(e,t,r){for(var n=r.length,o=0;o<n;o++)r[o]=0;var a=e.getSize();if(t>=a)throw new U;for(var s=!e.get(t),l=0,d=t;d<a;){if(e.get(d)!==s)r[l]++;else{if(++l===n)break;r[l]=1,s=!s}d++}if(!(l===n||l===n-1&&d===a))throw new U},i.recordPatternInReverse=function(e,t,r){for(var n=r.length,o=e.get(t);t>0&&n>=0;)e.get(--t)!==o&&(n--,o=!o);if(n>=0)throw new U;i.recordPattern(e,t+1,r)},i.patternMatchVariance=function(e,t,r){for(var n=e.length,o=0,a=0,s=0;s<n;s++)o+=e[s],a+=t[s];if(o<a)return Number.POSITIVE_INFINITY;var l=o/a;r*=l;for(var d=0,h=0;h<n;h++){var p=e[h],g=t[h]*l,_=p>g?p-g:g-p;if(_>r)return Number.POSITIVE_INFINITY;d+=_}return d/o},i}(),Ut=qR;var $R=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ZR=function(i){$R(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),n=t.getNextSet(0),o=0,a=Int32Array.from([0,0,0,0,0,0]),s=n,l=!1,d=6,h=n;h<r;h++)if(t.get(h)!==l)a[o]++;else{if(o===d-1){for(var p=e.MAX_AVG_VARIANCE,g=-1,_=e.CODE_START_A;_<=e.CODE_START_C;_++){var E=Ut.patternMatchVariance(a,e.CODE_PATTERNS[_],e.MAX_INDIVIDUAL_VARIANCE);E<p&&(p=E,g=_)}if(g>=0&&t.isRange(Math.max(0,s-(h-s)/2),s,!1))return Int32Array.from([s,h,g]);s+=a[0]+a[1],a=a.slice(2,a.length),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,l=!l}throw new U},e.decodeCode=function(t,r,n){Ut.recordPattern(t,n,r);for(var o=e.MAX_AVG_VARIANCE,a=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],d=this.patternMatchVariance(r,l,e.MAX_INDIVIDUAL_VARIANCE);d<o&&(o=d,a=s)}if(a>=0)return a;throw new U},e.prototype.decodeRow=function(t,r,n){var o=n&&n.get(dt.ASSUME_GS1)===!0,a=e.findStartPattern(r),s=a[2],l=0,d=new Uint8Array(20);d[l++]=s;var h;switch(s){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new ee}for(var p=!1,g=!1,_="",E=a[0],A=a[1],N=Int32Array.from([0,0,0,0,0,0]),F=0,P=0,L=s,z=0,X=!0,Q=!1,re=!1;!p;){var be=g;switch(g=!1,F=P,P=e.decodeCode(r,N,A),d[l++]=P,P!==e.CODE_STOP&&(X=!0),P!==e.CODE_STOP&&(z++,L+=z*P),E=A,A+=N.reduce(function(Pi,wn){return Pi+wn},0),P){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ee}switch(h){case e.CODE_CODE_A:if(P<64)re===Q?_+=String.fromCharCode(32+P):_+=String.fromCharCode(32+P+128),re=!1;else if(P<96)re===Q?_+=String.fromCharCode(P-64):_+=String.fromCharCode(P+64),re=!1;else switch(P!==e.CODE_STOP&&(X=!1),P){case e.CODE_FNC_1:o&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!Q&&re?(Q=!0,re=!1):Q&&re?(Q=!1,re=!1):re=!0;break;case e.CODE_SHIFT:g=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(P<96)re===Q?_+=String.fromCharCode(32+P):_+=String.fromCharCode(32+P+128),re=!1;else switch(P!==e.CODE_STOP&&(X=!1),P){case e.CODE_FNC_1:o&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!Q&&re?(Q=!0,re=!1):Q&&re?(Q=!1,re=!1):re=!0;break;case e.CODE_SHIFT:g=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(P<100)P<10&&(_+="0"),_+=P;else switch(P!==e.CODE_STOP&&(X=!1),P){case e.CODE_FNC_1:o&&(_.length===0?_+="]C1":_+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}be&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var ke=A-E;if(A=r.getNextUnset(A),!r.isRange(A,Math.min(r.getSize(),A+(A-E)/2),!1))throw new U;if(L-=z*F,L%103!==F)throw new Ht;var Ve=_.length;if(Ve===0)throw new U;Ve>0&&X&&(h===e.CODE_CODE_C?_=_.substring(0,Ve-2):_=_.substring(0,Ve-1));for(var Et=(a[1]+a[0])/2,Ke=E+ke/2,_t=d.length,Mr=new Uint8Array(_t),Ei=0;Ei<_t;Ei++)Mr[Ei]=d[Ei];var Yn=[new ue(Et,t),new ue(Ke,t)];return new Ot(_,Mr,0,Yn,le.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Ut),Sd=ZR;var KR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jm=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QR=function(i){KR(e,i);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=i.call(this)||this;return n.usingCheckDigit=t,n.extendedMode=r,n.decodeRowResult="",n.counters=new Int32Array(9),n}return e.prototype.decodeRow=function(t,r,n){var o,a,s,l,d=this.counters;d.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(r,d),p=r.getNextSet(h[1]),g=r.getSize(),_,E;do{e.recordPattern(r,p,d);var A=e.toNarrowWidePattern(d);if(A<0)throw new U;_=e.patternToChar(A),this.decodeRowResult+=_,E=p;try{for(var N=(o=void 0,Jm(d)),F=N.next();!F.done;F=N.next()){var P=F.value;p+=P}}catch(_t){o={error:_t}}finally{try{F&&!F.done&&(a=N.return)&&a.call(N)}finally{if(o)throw o.error}}p=r.getNextSet(p)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var L=0;try{for(var z=Jm(d),X=z.next();!X.done;X=z.next()){var P=X.value;L+=P}}catch(_t){s={error:_t}}finally{try{X&&!X.done&&(l=z.return)&&l.call(z)}finally{if(s)throw s.error}}var Q=p-E-L;if(p!==g&&Q*2<L)throw new U;if(this.usingCheckDigit){for(var re=this.decodeRowResult.length-1,be=0,ke=0;ke<re;ke++)be+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ke));if(this.decodeRowResult.charAt(re)!==e.ALPHABET_STRING.charAt(be%43))throw new Ht;this.decodeRowResult=this.decodeRowResult.substring(0,re)}if(this.decodeRowResult.length===0)throw new U;var Ve;this.extendedMode?Ve=e.decodeExtended(this.decodeRowResult):Ve=this.decodeRowResult;var Et=(h[1]+h[0])/2,Ke=E+L/2;return new Ot(Ve,null,0,[new ue(Et,t),new ue(Ke,t)],le.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var n=t.getSize(),o=t.getNextSet(0),a=0,s=o,l=!1,d=r.length,h=o;h<n;h++)if(t.get(h)!==l)r[a]++;else{if(a===d-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,s-Math.floor((h-s)/2)),s,!1))return[s,h];s+=r[0]+r[1],r.copyWithin(0,2,2+a-1),r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,l=!l}throw new U},e.toNarrowWidePattern=function(t){var r,n,o=t.length,a=0,s;do{var l=2147483647;try{for(var d=(r=void 0,Jm(t)),h=d.next();!h.done;h=d.next()){var p=h.value;p<l&&p>a&&(l=p)}}catch(A){r={error:A}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}a=l,s=0;for(var g=0,_=0,E=0;E<o;E++){var p=t[E];p>a&&(_|=1<<o-1-E,s++,g+=p)}if(s===3){for(var E=0;E<o&&s>0;E++){var p=t[E];if(p>a&&(s--,p*2>=g))return-1}return _}}while(s>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new U},e.decodeExtended=function(t){for(var r=t.length,n="",o=0;o<r;o++){var a=t.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){var s=t.charAt(o+1),l="\0";switch(a){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new ee;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new ee;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="\x7F";else throw new ee;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new ee;break}n+=l,o++}else n+=a}return n},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Ut),Td=QR;var JR=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eg=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eO=function(i){JR(e,i);function e(){var t=i.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,n){var o,a,s,l,d=this.findAsteriskPattern(r),h=r.getNextSet(d[1]),p=r.getSize(),g=this.counters;g.fill(0),this.decodeRowResult="";var _,E;do{e.recordPattern(r,h,g);var A=this.toPattern(g);if(A<0)throw new U;_=this.patternToChar(A),this.decodeRowResult+=_,E=h;try{for(var N=(o=void 0,eg(g)),F=N.next();!F.done;F=N.next()){var P=F.value;h+=P}}catch(ke){o={error:ke}}finally{try{F&&!F.done&&(a=N.return)&&a.call(N)}finally{if(o)throw o.error}}h=r.getNextSet(h)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var L=0;try{for(var z=eg(g),X=z.next();!X.done;X=z.next()){var P=X.value;L+=P}}catch(ke){s={error:ke}}finally{try{X&&!X.done&&(l=z.return)&&l.call(z)}finally{if(s)throw s.error}}if(h===p||!r.get(h))throw new U;if(this.decodeRowResult.length<2)throw new U;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var Q=this.decodeExtended(this.decodeRowResult),re=(d[1]+d[0])/2,be=E+L/2;return new Ot(Q,null,0,[new ue(re,t),new ue(be,t)],le.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),n=t.getNextSet(0);this.counters.fill(0);for(var o=this.counters,a=n,s=!1,l=o.length,d=0,h=n;h<r;h++)if(t.get(h)!==s)o[d]++;else{if(d===l-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([a,h]);a+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,s=!s}throw new U},e.prototype.toPattern=function(t){var r,n,o=0;try{for(var a=eg(t),s=a.next();!s.done;s=a.next()){var l=s.value;o+=l}}catch(E){r={error:E}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}for(var d=0,h=t.length,p=0;p<h;p++){var g=Math.round(t[p]*9/o);if(g<1||g>4)return-1;if(p&1)d<<=g;else for(var _=0;_<g;_++)d=d<<1|1}return d},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new U},e.prototype.decodeExtended=function(t){for(var r=t.length,n="",o=0;o<r;o++){var a=t.charAt(o);if(a>="a"&&a<="d"){if(o>=r-1)throw new ee;var s=t.charAt(o+1),l="\0";switch(a){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new ee;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new ee;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="\x7F";else throw new ee;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new ee;break}n+=l,o++}else n+=a}return n},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,n){for(var o=1,a=0,s=r-1;s>=0;s--)a+=o*e.ALPHABET_STRING.indexOf(t.charAt(s)),++o>n&&(o=1);if(t.charAt(r)!==e.ALPHABET_STRING[a%47])throw new Ht},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Ut),Dd=eO;var tO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rO=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iO=function(i){tO(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,n){var o,a,s=this.decodeStart(r),l=this.decodeEnd(r),d=new Ae;e.decodeMiddle(r,s[1],l[0],d);var h=d.toString(),p=null;n!=null&&(p=n.get(dt.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var g=h.length,_=!1,E=0;try{for(var A=rO(p),N=A.next();!N.done;N=A.next()){var F=N.value;if(g===F){_=!0;break}F>E&&(E=F)}}catch(z){o={error:z}}finally{try{N&&!N.done&&(a=A.return)&&a.call(A)}finally{if(o)throw o.error}}if(!_&&g>E&&(_=!0),!_)throw new ee;var P=[new ue(s[1],t),new ue(l[0],t)],L=new Ot(h,null,0,P,le.ITF,new Date().getTime());return L},e.decodeMiddle=function(t,r,n,o){var a=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(a.fill(0),s.fill(0),l.fill(0);r<n;){Ut.recordPattern(t,r,a);for(var d=0;d<5;d++){var h=2*d;s[d]=a[h],l[d]=a[h+1]}var p=e.decodeDigit(s);o.append(p.toString()),p=this.decodeDigit(l),o.append(p.toString()),a.forEach(function(g){r+=g})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),n=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(t,n[0]),n},e.prototype.validateQuietZone=function(t,r){var n=this.narrowLineWidth*10;n=n<r?n:r;for(var o=r-1;n>0&&o>=0&&!t.get(o);o--)n--;if(n!==0)throw new U},e.skipWhiteSpace=function(t){var r=t.getSize(),n=t.getNextSet(0);if(n===r)throw new U;return n},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),n=void 0;try{n=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof U&&(n=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,n[0]);var o=n[0];return n[0]=t.getSize()-n[1],n[1]=t.getSize()-o,n}finally{t.reverse()}},e.findGuardPattern=function(t,r,n){var o=n.length,a=new Int32Array(o),s=t.getSize(),l=!1,d=0,h=r;a.fill(0);for(var p=r;p<s;p++)if(t.get(p)!==l)a[d]++;else{if(d===o-1){if(Ut.patternMatchVariance(a,n,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,p];h+=a[0]+a[1],at.arraycopy(a,2,a,0,d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,l=!l}throw new U},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,n=-1,o=e.PATTERNS.length,a=0;a<o;a++){var s=e.PATTERNS[a],l=Ut.patternMatchVariance(t,s,e.MAX_INDIVIDUAL_VARIANCE);l<r?(r=l,n=a):l===r&&(n=-1)}if(n>=0)return n%10;throw new U},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Ut),Rd=iO;var nO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oO=function(i){nO(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,n,o=0,a=Int32Array.from([0,0,0]);!r;){a=Int32Array.from([0,0,0]),n=e.findGuardPattern(t,o,!1,this.START_END_PATTERN,a);var s=n[0];o=n[1];var l=s-(o-s);l>=0&&(r=t.isRange(l,s,!1))}return n},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var n=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===n},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,n=0,o=r-1;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new ee;n+=a}n*=3;for(var o=r-2;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new ee;n+=a}return(1e3-n)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,n,o){return this.findGuardPattern(t,r,n,o,new Int32Array(o.length))},e.findGuardPattern=function(t,r,n,o,a){var s=t.getSize();r=n?t.getNextUnset(r):t.getNextSet(r);for(var l=0,d=r,h=o.length,p=n,g=r;g<s;g++)if(t.get(g)!==p)a[l]++;else{if(l===h-1){if(Ut.patternMatchVariance(a,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([d,g]);d+=a[0]+a[1];for(var _=a.slice(2,a.length),E=0;E<l-1;E++)a[E]=_[E];a[l-1]=0,a[l]=0,l--}else l++;a[l]=1,p=!p}throw new U},e.decodeDigit=function(t,r,n,o){this.recordPattern(t,n,r);for(var a=this.MAX_AVG_VARIANCE,s=-1,l=o.length,d=0;d<l;d++){var h=o[d],p=Ut.patternMatchVariance(r,h,e.MAX_INDIVIDUAL_VARIANCE);p<a&&(a=p,s=d)}if(s>=0)return s;throw new U},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Ut),En=oO;var aO=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sO=function(){function i(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return i.prototype.decodeRow=function(e,t,r){var n=this.decodeRowStringBuffer,o=this.decodeMiddle(t,r,n),a=n.toString(),s=i.parseExtensionString(a),l=[new ue((r[0]+r[1])/2,e),new ue(o,e)],d=new Ot(a,null,0,l,le.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&d.putAllMetadata(s),d},i.prototype.decodeMiddle=function(e,t,r){var n,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),l=t[1],d=0,h=0;h<5&&l<s;h++){var p=En.decodeDigit(e,a,l,En.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var g=(n=void 0,aO(a)),_=g.next();!_.done;_=g.next()){var E=_.value;l+=E}}catch(N){n={error:N}}finally{try{_&&!_.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}p>=10&&(d|=1<<4-h),h!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==5)throw new U;var A=this.determineCheckDigit(d);if(i.extensionChecksum(r.toString())!==A)throw new U;return l},i.extensionChecksum=function(e){for(var t=e.length,r=0,n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-48;r*=3;for(var n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-48;return r*=3,r%10},i.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new U},i.parseExtensionString=function(e){if(e.length!==5)return null;var t=i.parseExtension5String(e);return t==null?null:new Map([[ar.SUGGESTED_PRICE,t]])},i.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="\xA3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),n=(r/100).toString(),o=r%100,a=o<10?"0"+o:o.toString();return t+n+"."+a},i}(),Sb=sO;var lO=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cO=function(){function i(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return i.prototype.decodeRow=function(e,t,r){var n=this.decodeRowStringBuffer,o=this.decodeMiddle(t,r,n),a=n.toString(),s=i.parseExtensionString(a),l=[new ue((r[0]+r[1])/2,e),new ue(o,e)],d=new Ot(a,null,0,l,le.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&d.putAllMetadata(s),d},i.prototype.decodeMiddle=function(e,t,r){var n,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),l=t[1],d=0,h=0;h<2&&l<s;h++){var p=En.decodeDigit(e,a,l,En.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var g=(n=void 0,lO(a)),_=g.next();!_.done;_=g.next()){var E=_.value;l+=E}}catch(A){n={error:A}}finally{try{_&&!_.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}p>=10&&(d|=1<<1-h),h!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==2)throw new U;if(parseInt(r.toString())%4!==d)throw new U;return l},i.parseExtensionString=function(e){return e.length!==2?null:new Map([[ar.ISSUE_NUMBER,parseInt(e)]])},i}(),Tb=cO;var uO=function(){function i(){}return i.decodeRow=function(e,t,r){var n=En.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new Sb;return o.decodeRow(e,t,n)}catch{var a=new Tb;return a.decodeRow(e,t,n)}},i.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),i}(),Db=uO;var dO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fO=function(i){dO(e,i);function e(){var t=i.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var r=10;r<20;r++){for(var n=e.L_PATTERNS[r-10],o=new Int32Array(n.length),a=0;a<n.length;a++)o[a]=n[n.length-a-1];e.L_AND_G_PATTERNS[r]=o}return t}return e.prototype.decodeRow=function(t,r,n){var o=e.findStartGuardPattern(r),a=n==null?null:n.get(dt.NEED_RESULT_POINT_CALLBACK);if(a!=null){var s=new ue((o[0]+o[1])/2,t);a.foundPossibleResultPoint(s)}var l=this.decodeMiddle(r,o,this.decodeRowStringBuffer),d=l.rowOffset,h=l.resultString;if(a!=null){var p=new ue(d,t);a.foundPossibleResultPoint(p)}var g=e.decodeEnd(r,d);if(a!=null){var _=new ue((g[0]+g[1])/2,t);a.foundPossibleResultPoint(_)}var E=g[1],A=E+(E-g[0]);if(A>=r.getSize()||!r.isRange(E,A,!1))throw new U;var N=h.toString();if(N.length<8)throw new ee;if(!e.checkChecksum(N))throw new Ht;var F=(o[1]+o[0])/2,P=(g[1]+g[0])/2,L=this.getBarcodeFormat(),z=[new ue(F,t),new ue(P,t)],X=new Ot(N,null,0,z,L,new Date().getTime()),Q=0;try{var re=Db.decodeRow(t,r,g[1]);X.putMetadata(ar.UPC_EAN_EXTENSION,re.getText()),X.putAllMetadata(re.getResultMetadata()),X.addResultPoints(re.getResultPoints()),Q=re.getText().length}catch{}var be=n==null?null:n.get(dt.ALLOWED_EAN_EXTENSIONS);if(be!=null){var ke=!1;for(var Ve in be)if(Q.toString()===Ve){ke=!0;break}if(!ke)throw new U}return L===le.EAN_13||le.UPC_A,X},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var n=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===n},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,n=0,o=r-1;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new ee;n+=a}n*=3;for(var o=r-2;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new ee;n+=a}return(1e3-n)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(En),_r=fO;var hO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rb=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pO=function(i){hO(e,i);function e(){var t=i.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,n){var o,a,s,l,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var h=t.getSize(),p=r[1],g=0,_=0;_<6&&p<h;_++){var E=_r.decodeDigit(t,d,p,_r.L_AND_G_PATTERNS);n+=String.fromCharCode(48+E%10);try{for(var A=(o=void 0,Rb(d)),N=A.next();!N.done;N=A.next()){var F=N.value;p+=F}}catch(X){o={error:X}}finally{try{N&&!N.done&&(a=A.return)&&a.call(A)}finally{if(o)throw o.error}}E>=10&&(g|=1<<5-_)}n=e.determineFirstDigit(n,g);var P=_r.findGuardPattern(t,p,!0,_r.MIDDLE_PATTERN,new Int32Array(_r.MIDDLE_PATTERN.length).fill(0));p=P[1];for(var _=0;_<6&&p<h;_++){var E=_r.decodeDigit(t,d,p,_r.L_PATTERNS);n+=String.fromCharCode(48+E);try{for(var L=(s=void 0,Rb(d)),z=L.next();!z.done;z=L.next()){var F=z.value;p+=F}}catch(re){s={error:re}}finally{try{z&&!z.done&&(l=L.return)&&l.call(L)}finally{if(s)throw s.error}}}return{rowOffset:p,resultString:n}},e.prototype.getBarcodeFormat=function(){return le.EAN_13},e.determineFirstDigit=function(t,r){for(var n=0;n<10;n++)if(r===this.FIRST_DIGIT_ENCODINGS[n])return t=String.fromCharCode(48+n)+t,t;throw new U},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(_r),ws=pO;var mO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ob=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gO=function(i){mO(e,i);function e(){var t=i.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,n){var o,a,s,l,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var h=t.getSize(),p=r[1],g=0;g<4&&p<h;g++){var _=_r.decodeDigit(t,d,p,_r.L_PATTERNS);n+=String.fromCharCode(48+_);try{for(var E=(o=void 0,Ob(d)),A=E.next();!A.done;A=E.next()){var N=A.value;p+=N}}catch(z){o={error:z}}finally{try{A&&!A.done&&(a=E.return)&&a.call(E)}finally{if(o)throw o.error}}}var F=_r.findGuardPattern(t,p,!0,_r.MIDDLE_PATTERN,new Int32Array(_r.MIDDLE_PATTERN.length).fill(0));p=F[1];for(var g=0;g<4&&p<h;g++){var _=_r.decodeDigit(t,d,p,_r.L_PATTERNS);n+=String.fromCharCode(48+_);try{for(var P=(s=void 0,Ob(d)),L=P.next();!L.done;L=P.next()){var N=L.value;p+=N}}catch(Q){s={error:Q}}finally{try{L&&!L.done&&(l=P.return)&&l.call(P)}finally{if(s)throw s.error}}}return{rowOffset:p,resultString:n}},e.prototype.getBarcodeFormat=function(){return le.EAN_8},e}(_r),tg=gO;var vO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_O=function(i){vO(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.ean13Reader=new ws,t}return e.prototype.getBarcodeFormat=function(){return le.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,n))},e.prototype.decodeMiddle=function(t,r,n){return this.ean13Reader.decodeMiddle(t,r,n)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var n=new Ot(r.substring(1),null,null,t.getResultPoints(),le.UPC_A);return t.getResultMetadata()!=null&&n.putAllMetadata(t.getResultMetadata()),n}else throw new U},e.prototype.reset=function(){this.ean13Reader.reset()},e}(_r),rg=_O;var yO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bO=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xO=function(i){yO(e,i);function e(){var t=i.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,n){var o,a,s=this.decodeMiddleCounters.map(function(N){return N});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=t.getSize(),d=r[1],h=0,p=0;p<6&&d<l;p++){var g=e.decodeDigit(t,s,d,e.L_AND_G_PATTERNS);n+=String.fromCharCode(48+g%10);try{for(var _=(o=void 0,bO(s)),E=_.next();!E.done;E=_.next()){var A=E.value;d+=A}}catch(N){o={error:N}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}g>=10&&(h|=1<<5-p)}return e.determineNumSysAndCheckDigit(new Ae(n),h),d},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return _r.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var n=0;n<=1;n++)for(var o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][o]){t.insert(0,"0"+n),t.append("0"+o);return}throw U.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return le.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),n=new Ae;n.append(t.charAt(0));var o=r[5];switch(o){case 0:case 1:case 2:n.appendChars(r,0,2),n.append(o),n.append("0000"),n.appendChars(r,2,3);break;case 3:n.appendChars(r,0,3),n.append("00000"),n.appendChars(r,3,2);break;case 4:n.appendChars(r,0,4),n.append("00000"),n.append(r[4]);break;default:n.appendChars(r,0,5),n.append("0000"),n.append(o);break}return t.length>=8&&n.append(t.charAt(7)),n.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(_r),ig=xO;var EO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mb=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wO=function(i){EO(e,i);function e(t){var r=i.call(this)||this,n=t==null?null:t.get(dt.POSSIBLE_FORMATS),o=[];return n!=null&&(n.indexOf(le.EAN_13)>-1&&o.push(new ws),n.indexOf(le.UPC_A)>-1&&o.push(new rg),n.indexOf(le.EAN_8)>-1&&o.push(new tg),n.indexOf(le.UPC_E)>-1&&o.push(new ig)),o.length===0&&(o.push(new ws),o.push(new rg),o.push(new tg),o.push(new ig)),r.readers=o,r}return e.prototype.decodeRow=function(t,r,n){var o,a;try{for(var s=Mb(this.readers),l=s.next();!l.done;l=s.next()){var d=l.value;try{var h=d.decodeRow(t,r,n),p=h.getBarcodeFormat()===le.EAN_13&&h.getText().charAt(0)==="0",g=n==null?null:n.get(dt.POSSIBLE_FORMATS),_=g==null||g.includes(le.UPC_A);if(p&&_){var E=h.getRawBytes(),A=new Ot(h.getText().substring(1),E,E?E.length:null,h.getResultPoints(),le.UPC_A);return A.putAllMetadata(h.getResultMetadata()),A}return h}catch{}}}catch(N){o={error:N}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}throw new U},e.prototype.reset=function(){var t,r;try{for(var n=Mb(this.readers),o=n.next();!o.done;o=n.next()){var a=o.value;a.reset()}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e}(Ut),Od=wO;var CO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),IO=function(i){CO(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,n){var o=this.getValidRowData(r);if(!o)throw new U;var a=this.codaBarDecodeRow(o.row);if(!a)throw new U;return new Ot(a,null,0,[new ue(o.left,t),new ue(o.right,t)],le.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),n=r.indexOf(!0);if(n===-1)return null;var o=r.lastIndexOf(!0);if(o<=n)return null;r=r.slice(n,o+1);for(var a=[],s=r[0],l=1,d=1;d<r.length;d++)r[d]===s?l++:(s=r[d],a.push(l),l=1);return a.push(l),a.length<23&&(a.length+1)%8!==0?null:{row:a,left:n,right:o}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],n=Math.ceil(t.reduce(function(l,d){return(l+d)/2},0));t.length>0;){var o=t.splice(0,8).splice(0,7),a=o.map(function(l){return l<n?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[a]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[a])}var s=r.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e}(Ut),ng=IO;var AO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SO=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TO=function(i){AO(e,i);function e(){var t=i.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var n=0;n<r.length;n++)if(Ut.patternMatchVariance(t,r[n],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return n;throw new U},e.count=function(t){return st.sum(new Int32Array(t))},e.increment=function(t,r){for(var n=0,o=r[0],a=1;a<t.length;a++)r[a]>o&&(o=r[a],n=a);t[n]++},e.decrement=function(t,r){for(var n=0,o=r[0],a=1;a<t.length;a++)r[a]<o&&(o=r[a],n=a);t[n]--},e.isFinderPattern=function(t){var r,n,o=t[0]+t[1],a=o+t[2]+t[3],s=o/a;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;try{for(var h=SO(t),p=h.next();!p.done;p=h.next()){var g=p.value;g>d&&(d=g),g<l&&(l=g)}}catch(_){r={error:_}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return d<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Ut),Gn=TO;var DO=function(){function i(e,t){this.value=e,this.checksumPortion=t}return i.prototype.getValue=function(){return this.value},i.prototype.getChecksumPortion=function(){return this.checksumPortion},i.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},i.prototype.equals=function(e){if(!(e instanceof i))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},i.prototype.hashCode=function(){return this.value^this.checksumPortion},i}(),ma=DO;var RO=function(){function i(e,t,r,n,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new ue(r,o)),this.resultPoints.push(new ue(n,o))}return i.prototype.getValue=function(){return this.value},i.prototype.getStartEnd=function(){return this.startEnd},i.prototype.getResultPoints=function(){return this.resultPoints},i.prototype.equals=function(e){if(!(e instanceof i))return!1;var t=e;return this.value===t.value},i.prototype.hashCode=function(){return this.value},i}(),Md=RO;var OO=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},MO=function(){function i(){}return i.getRSSvalue=function(e,t,r){var n,o,a=0;try{for(var s=OO(e),l=s.next();!l.done;l=s.next()){var d=l.value;a+=d}}catch(P){n={error:P}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}for(var h=0,p=0,g=e.length,_=0;_<g-1;_++){var E=void 0;for(E=1,p|=1<<_;E<e[_];E++,p&=~(1<<_)){var A=i.combins(a-E-1,g-_-2);if(r&&p===0&&a-E-(g-_-1)>=g-_-1&&(A-=i.combins(a-E-(g-_),g-_-2)),g-_-1>1){for(var N=0,F=a-E-(g-_-2);F>t;F--)N+=i.combins(a-E-F-1,g-_-3);A-=N*(g-1-_)}else a-E>t&&A--;h+=A}a-=E}return h},i.combins=function(e,t){var r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);for(var o=1,a=1,s=e;s>r;s--)o*=s,a<=n&&(o/=a,a++);for(;a<=n;)o/=a,a++;return o},i}(),ho=MO;var PO=function(){function i(){}return i.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,n=new er(r),o=0,a=e[0],s=a.getRightChar().getValue(),l=11;l>=0;--l)s&1<<l&&n.set(o),o++;for(var l=1;l<e.length;++l){for(var d=e[l],h=d.getLeftChar().getValue(),p=11;p>=0;--p)h&1<<p&&n.set(o),o++;if(d.getRightChar()!==null)for(var g=d.getRightChar().getValue(),p=11;p>=0;--p)g&1<<p&&n.set(o),o++}return n},i}(),Pb=PO;var NO=function(){function i(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return i.prototype.getDecodedInformation=function(){return this.decodedInformation},i.prototype.isFinished=function(){return this.finished},i}(),po=NO;var FO=function(){function i(e){this.newPosition=e}return i.prototype.getNewPosition=function(){return this.newPosition},i}(),Cs=FO;var kO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LO=function(i){kO(e,i);function e(t,r){var n=i.call(this,t)||this;return n.value=r,n}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(Cs),Wi=LO;var BO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VO=function(i){BO(e,i);function e(t,r,n){var o=i.call(this,t)||this;return n?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=r,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Cs),mo=VO;var UO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zO=function(i){UO(e,i);function e(t,r,n){var o=i.call(this,t)||this;if(r<0||r>10||n<0||n>10)throw new ee;return o.firstDigit=r,o.secondDigit=n,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Cs),ga=zO;var Pd=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jO=function(){function i(){}return i.parseFieldsInGeneralPurpose=function(e){var t,r,n,o,a,s,l,d;if(!e)return null;if(e.length<2)throw new U;var h=e.substring(0,2);try{for(var p=Pd(i.TWO_DIGIT_DATA_LENGTH),g=p.next();!g.done;g=p.next()){var _=g.value;if(_[0]===h)return _[1]===i.VARIABLE_LENGTH?i.processVariableAI(2,_[2],e):i.processFixedAI(2,_[1],e)}}catch(Q){t={error:Q}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}if(e.length<3)throw new U;var E=e.substring(0,3);try{for(var A=Pd(i.THREE_DIGIT_DATA_LENGTH),N=A.next();!N.done;N=A.next()){var _=N.value;if(_[0]===E)return _[1]===i.VARIABLE_LENGTH?i.processVariableAI(3,_[2],e):i.processFixedAI(3,_[1],e)}}catch(Q){n={error:Q}}finally{try{N&&!N.done&&(o=A.return)&&o.call(A)}finally{if(n)throw n.error}}try{for(var F=Pd(i.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),P=F.next();!P.done;P=F.next()){var _=P.value;if(_[0]===E)return _[1]===i.VARIABLE_LENGTH?i.processVariableAI(4,_[2],e):i.processFixedAI(4,_[1],e)}}catch(Q){a={error:Q}}finally{try{P&&!P.done&&(s=F.return)&&s.call(F)}finally{if(a)throw a.error}}if(e.length<4)throw new U;var L=e.substring(0,4);try{for(var z=Pd(i.FOUR_DIGIT_DATA_LENGTH),X=z.next();!X.done;X=z.next()){var _=X.value;if(_[0]===L)return _[1]===i.VARIABLE_LENGTH?i.processVariableAI(4,_[2],e):i.processFixedAI(4,_[1],e)}}catch(Q){l={error:Q}}finally{try{X&&!X.done&&(d=z.return)&&d.call(z)}finally{if(l)throw l.error}}throw new U},i.processFixedAI=function(e,t,r){if(r.length<e)throw new U;var n=r.substring(0,e);if(r.length<e+t)throw new U;var o=r.substring(e,e+t),a=r.substring(e+t),s="("+n+")"+o,l=i.parseFieldsInGeneralPurpose(a);return l==null?s:s+l},i.processVariableAI=function(e,t,r){var n=r.substring(0,e),o;r.length<e+t?o=r.length:o=e+t;var a=r.substring(e,o),s=r.substring(o),l="("+n+")"+a,d=i.parseFieldsInGeneralPurpose(s);return d==null?l:l+d},i.VARIABLE_LENGTH=[],i.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",i.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",i.VARIABLE_LENGTH,20],["22",i.VARIABLE_LENGTH,29],["30",i.VARIABLE_LENGTH,8],["37",i.VARIABLE_LENGTH,8],["90",i.VARIABLE_LENGTH,30],["91",i.VARIABLE_LENGTH,30],["92",i.VARIABLE_LENGTH,30],["93",i.VARIABLE_LENGTH,30],["94",i.VARIABLE_LENGTH,30],["95",i.VARIABLE_LENGTH,30],["96",i.VARIABLE_LENGTH,30],["97",i.VARIABLE_LENGTH,3],["98",i.VARIABLE_LENGTH,30],["99",i.VARIABLE_LENGTH,30]],i.THREE_DIGIT_DATA_LENGTH=[["240",i.VARIABLE_LENGTH,30],["241",i.VARIABLE_LENGTH,30],["242",i.VARIABLE_LENGTH,6],["250",i.VARIABLE_LENGTH,30],["251",i.VARIABLE_LENGTH,30],["253",i.VARIABLE_LENGTH,17],["254",i.VARIABLE_LENGTH,20],["400",i.VARIABLE_LENGTH,30],["401",i.VARIABLE_LENGTH,30],["402",17],["403",i.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",i.VARIABLE_LENGTH,20],["421",i.VARIABLE_LENGTH,15],["422",3],["423",i.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],i.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",i.VARIABLE_LENGTH,15],["391",i.VARIABLE_LENGTH,18],["392",i.VARIABLE_LENGTH,15],["393",i.VARIABLE_LENGTH,18],["703",i.VARIABLE_LENGTH,30]],i.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",i.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",i.VARIABLE_LENGTH,20],["8003",i.VARIABLE_LENGTH,30],["8004",i.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",i.VARIABLE_LENGTH,30],["8008",i.VARIABLE_LENGTH,12],["8018",18],["8020",i.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",i.VARIABLE_LENGTH,70],["8200",i.VARIABLE_LENGTH,70]],i}(),Nb=jO;var GO=function(){function i(e){this.buffer=new Ae,this.information=e}return i.prototype.decodeAllCodes=function(e,t){var r=t,n=null;do{var o=this.decodeGeneralPurposeField(r,n),a=Nb.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?n=""+o.getRemainingValue():n=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()},i.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},i.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new ga(this.information.getSize(),ga.FNC1,ga.FNC1):new ga(this.information.getSize(),t-1,ga.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),n=(r-8)/11,o=(r-8)%11;return new ga(e+7,n,o)},i.prototype.extractNumericValueFromBitArray=function(e,t){return i.extractNumericValueFromBitArray(this.information,e,t)},i.extractNumericValueFromBitArray=function(e,t,r){for(var n=0,o=0;o<r;++o)e.get(t+o)&&(n|=1<<r-o-1);return n},i.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new mo(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new mo(this.current.getPosition(),this.buffer.toString())},i.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var n=r!==this.current.getPosition();if(!n&&!e)break}while(!e);return t.getDecodedInformation()},i.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new mo(this.current.getPosition(),this.buffer.toString()):t=new mo(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new po(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new mo(this.current.getPosition(),this.buffer.toString());return new po(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new po(!1)},i.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new mo(this.current.getPosition(),this.buffer.toString());return new po(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new po(!1)},i.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new mo(this.current.getPosition(),this.buffer.toString());return new po(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new po(!1)},i.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253},i.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Wi(e+5,Wi.FNC1);if(t>=5&&t<15)return new Wi(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Wi(e+7,""+(r+1));if(r>=90&&r<116)return new Wi(e+7,""+(r+7));var n=this.extractNumericValueFromBitArray(e,8),o;switch(n){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new ee}return new Wi(e+8,o)},i.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},i.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Wi(e+5,Wi.FNC1);if(t>=5&&t<15)return new Wi(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Wi(e+6,""+(r+33));var n;switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new $r("Decoding invalid alphanumeric value: "+r)}return new Wi(e+6,n)},i.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},i.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},i.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},i}(),Is=GO;var HO=function(){function i(e){this.information=e,this.generalDecoder=new Is(e)}return i.prototype.getInformation=function(){return this.information},i.prototype.getGeneralDecoder=function(){return this.generalDecoder},i}(),ac=HO;var WO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XO=function(i){WO(e,i);function e(t){return i.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var n=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,n)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,n){for(var o=0;o<4;++o){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);a/100===0&&t.append("0"),a/10===0&&t.append("0"),t.append(a)}e.appendCheckDigit(t,n)},e.appendCheckDigit=function(t,r){for(var n=0,o=0;o<13;o++){var a=t.charAt(o+r).charCodeAt(0)-48;n+=o&1?a:3*a}n=10-n%10,n===10&&(n=0),t.append(n)},e.GTIN_SIZE=40,e}(ac),fi=XO;var YO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qO=function(i){YO(e,i);function e(t){return i.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ae;t.append("(01)");var r=t.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(n),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(fi),Fb=qO;var $O=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ZO=function(i){$O(e,i);function e(t){return i.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ae;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(ac),kb=ZO;var KO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QO=function(i){KO(e,i);function e(t){return i.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,n){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,n);this.addWeightCode(t,o);for(var a=this.checkWeight(o),s=1e5,l=0;l<5;++l)a/s===0&&t.append("0"),s/=10;t.append(a)},e}(fi),As=QO;var JO=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eM=function(i){JO(e,i);function e(t){return i.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+As.GTIN_SIZE+e.WEIGHT_SIZE)throw new U;var t=new Ae;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+As.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(As),Nd=eM;var tM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rM=function(i){tM(e,i);function e(t){return i.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(Nd),Lb=rM;var iM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nM=function(i){iM(e,i);function e(t){return i.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(Nd),Bb=nM;var oM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aM=function(i){oM(e,i);function e(t){return i.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+fi.GTIN_SIZE)throw new U;var t=new Ae;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+fi.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var n=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+fi.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(n.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(fi),Vb=aM;var sM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lM=function(i){sM(e,i);function e(t){return i.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+fi.GTIN_SIZE)throw new U;var t=new Ae;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+fi.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+fi.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);n/100===0&&t.append("0"),n/10===0&&t.append("0"),t.append(n);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+fi.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(fi),Ub=lM;var cM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uM=function(i){cM(e,i);function e(t,r,n){var o=i.call(this,t)||this;return o.dateCode=n,o.firstAIdigits=r,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new U;var t=new Ae;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var n=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(n!==38400){t.append("("),t.append(this.dateCode),t.append(")");var o=n%32;n/=32;var a=n%12+1;n/=12;var s=n;s/10===0&&t.append("0"),t.append(s),a/10===0&&t.append("0"),t.append(a),o/10===0&&t.append("0"),t.append(o)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(As),Hn=uM;function og(i){try{if(i.get(1))return new Fb(i);if(!i.get(2))return new kb(i);var e=Is.extractNumericValueFromBitArray(i,1,4);switch(e){case 4:return new Lb(i);case 5:return new Bb(i)}var t=Is.extractNumericValueFromBitArray(i,1,5);switch(t){case 12:return new Vb(i);case 13:return new Ub(i)}var r=Is.extractNumericValueFromBitArray(i,1,7);switch(r){case 56:return new Hn(i,"310","11");case 57:return new Hn(i,"320","11");case 58:return new Hn(i,"310","13");case 59:return new Hn(i,"320","13");case 60:return new Hn(i,"310","15");case 61:return new Hn(i,"320","15");case 62:return new Hn(i,"310","17");case 63:return new Hn(i,"320","17")}}catch(n){throw console.log(n),new $r("unknown decoder: "+i)}}var dM=function(){function i(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}return i.prototype.mayBeLast=function(){return this.maybeLast},i.prototype.getLeftChar=function(){return this.leftchar},i.prototype.getRightChar=function(){return this.rightchar},i.prototype.getFinderPattern=function(){return this.finderpattern},i.prototype.mustBeLast=function(){return this.rightchar==null},i.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},i.equals=function(e,t){return e instanceof i?i.equalsOrNull(e.leftchar,t.leftchar)&&i.equalsOrNull(e.rightchar,t.rightchar)&&i.equalsOrNull(e.finderpattern,t.finderpattern):!1},i.equalsOrNull=function(e,t){return e===null?t===null:i.equals(e,t)},i.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},i}(),ag=dM;var fM=function(){function i(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return i.prototype.getPairs=function(){return this.pairs},i.prototype.getRowNumber=function(){return this.rowNumber},i.prototype.isReversed=function(){return this.wasReversed},i.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},i.prototype.toString=function(){return"{ "+this.pairs+" }"},i.prototype.equals=function(e,t){return e instanceof i?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},i.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(n,o){t.forEach(function(a){n.getLeftChar().getValue()===a.getLeftChar().getValue()&&n.getRightChar().getValue()===a.getRightChar().getValue()&&n.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r}},i}(),zb=fM;var hM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),go=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pM=function(i){hM(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,n){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var n=!1;!n;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(s){if(s instanceof U){if(!this.pairs.length)throw new U;n=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new U},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(n){console.log(n)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var n,o,a=r;a<this.rows.length;a++){var s=this.rows[a];this.pairs.length=0;try{for(var l=(n=void 0,go(t)),d=l.next();!d.done;d=l.next()){var h=d.value;this.pairs.push(h.getPairs())}}catch(g){n={error:g}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(t);p.push(s);try{return this.checkRows(p,a+1)}catch(g){console.log(g)}}}throw new U},e.isValidSequence=function(t){var r,n;try{for(var o=go(e.FINDER_PATTERN_SEQUENCES),a=o.next();!a.done;a=o.next()){var s=a.value;if(!(t.length>s.length)){for(var l=!0,d=0;d<t.length;d++)if(t[d].getFinderPattern().getValue()!==s[d]){l=!1;break}if(l)return!0}}}catch(h){r={error:h}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var n=0,o=!1,a=!1;n<this.rows.length;){var s=this.rows[n];if(s.getRowNumber()>t){a=s.isEquivalent(this.pairs);break}o=s.isEquivalent(this.pairs),n++}a||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new zb(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var n,o,a,s,l,d;try{for(var h=go(r),p=h.next();!p.done;p=h.next()){var g=p.value;if(g.getPairs().length!==t.length){var _=!0;try{for(var E=(a=void 0,go(g.getPairs())),A=E.next();!A.done;A=E.next()){var N=A.value,F=!1;try{for(var P=(l=void 0,go(t)),L=P.next();!L.done;L=P.next()){var z=L.value;if(ag.equals(N,z)){F=!0;break}}}catch(X){l={error:X}}finally{try{L&&!L.done&&(d=P.return)&&d.call(P)}finally{if(l)throw l.error}}F||(_=!1)}}catch(X){a={error:X}}finally{try{A&&!A.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}}}}catch(X){n={error:X}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}},e.isPartialRow=function(t,r){var n,o,a,s,l,d;try{for(var h=go(r),p=h.next();!p.done;p=h.next()){var g=p.value,_=!0;try{for(var E=(a=void 0,go(t)),A=E.next();!A.done;A=E.next()){var N=A.value,F=!1;try{for(var P=(l=void 0,go(g.getPairs())),L=P.next();!L.done;L=P.next()){var z=L.value;if(N.equals(z)){F=!0;break}}}catch(X){l={error:X}}finally{try{L&&!L.done&&(d=P.return)&&d.call(P)}finally{if(l)throw l.error}}if(!F){_=!1;break}}}catch(X){a={error:X}}finally{try{A&&!A.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}if(_)return!0}}catch(X){n={error:X}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=Pb.buildBitArray(t),n=og(r),o=n.parseInformation(),a=t[0].getFinderPattern().getResultPoints(),s=t[t.length-1].getFinderPattern().getResultPoints(),l=[a[0],a[1],s[0],s[1]];return new Ot(o,null,null,l,le.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),n=t.getRightChar();if(n===null)return!1;for(var o=n.getChecksumPortion(),a=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);o+=l.getLeftChar().getChecksumPortion(),a++;var d=l.getRightChar();d!=null&&(o+=d.getChecksumPortion(),a++)}o%=211;var h=211*(a-4)+o;return h===r.getValue()},e.getNextSecondBar=function(t,r){var n;return t.get(r)?(n=t.getNextUnset(r),n=t.getNextSet(n)):(n=t.getNextSet(r),n=t.getNextUnset(n)),n},e.prototype.retrieveNextPair=function(t,r,n){var o=r.length%2===0;this.startFromEven&&(o=!o);var a,s=!0,l=-1;do this.findNextPair(t,r,l),a=this.parseFoundFinderPattern(t,n,o),a===null?l=e.getNextSecondBar(t,this.startEnd[0]):s=!1;while(s);var d=this.decodeDataCharacter(t,a,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new U;var h;try{h=this.decodeDataCharacter(t,a,o,!1)}catch(p){h=null,console.log(p)}return new ag(d,h,a,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,n){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var a=t.getSize(),s;if(n>=0)s=n;else if(this.isEmptyPair(r))s=0;else{var l=r[r.length-1];s=l.getFinderPattern().getStartEnd()[1]}var d=r.length%2!==0;this.startFromEven&&(d=!d);for(var h=!1;s<a&&(h=!t.get(s),!!h);)s++;for(var p=0,g=s,_=s;_<a;_++)if(t.get(_)!==h)o[p]++;else{if(p===3){if(d&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=g,this.startEnd[1]=_;return}d&&e.reverseCounters(o),g+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,h=!h}throw new U},e.reverseCounters=function(t){for(var r=t.length,n=0;n<r/2;++n){var o=t[n];t[n]=t[r-n-1],t[r-n-1]=o}},e.prototype.parseFoundFinderPattern=function(t,r,n){var o,a,s;if(n){for(var l=this.startEnd[0]-1;l>=0&&!t.get(l);)l--;l++,o=this.startEnd[0]-l,a=l,s=this.startEnd[1]}else a=this.startEnd[0],s=t.getNextUnset(this.startEnd[1]+1),o=s-this.startEnd[1];var d=this.getDecodeFinderCounters();at.arraycopy(d,0,d,1,d.length-1),d[0]=o;var h;try{h=this.parseFinderValue(d,e.FINDER_PATTERNS)}catch{return null}return new Md(h,[a,s],a,s,r)},e.prototype.decodeDataCharacter=function(t,r,n,o){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(o)e.recordPatternInReverse(t,r.getStartEnd()[0],a);else{e.recordPattern(t,r.getStartEnd()[1],a);for(var l=0,d=a.length-1;l<d;l++,d--){var h=a[l];a[l]=a[d],a[d]=h}}var p=17,g=st.sum(new Int32Array(a))/p,_=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(g-_)/_>.3)throw new U;for(var E=this.getOddCounts(),A=this.getEvenCounts(),N=this.getOddRoundingErrors(),F=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var P=1*a[l]/g,L=P+.5;if(L<1){if(P<.3)throw new U;L=1}else if(L>8){if(P>8.7)throw new U;L=8}var z=l/2;l&1?(A[z]=L,F[z]=P-L):(E[z]=L,N[z]=P-L)}this.adjustOddEvenCounts(p);for(var X=4*r.getValue()+(n?0:2)+(o?0:1)-1,Q=0,re=0,l=E.length-1;l>=0;l--){if(e.isNotA1left(r,n,o)){var be=e.WEIGHTS[X][2*l];re+=E[l]*be}Q+=E[l]}for(var ke=0,l=A.length-1;l>=0;l--)if(e.isNotA1left(r,n,o)){var be=e.WEIGHTS[X][2*l+1];ke+=A[l]*be}var Ve=re+ke;if(Q&1||Q>13||Q<4)throw new U;var Et=(13-Q)/2,Ke=e.SYMBOL_WIDEST[Et],_t=9-Ke,Mr=ho.getRSSvalue(E,Ke,!0),Ei=ho.getRSSvalue(A,_t,!1),Yn=e.EVEN_TOTAL_SUBSET[Et],Pi=e.GSUM[Et],wn=Mr*Yn+Ei+Pi;return new ma(wn,Ve)},e.isNotA1left=function(t,r,n){return!(t.getValue()===0&&r&&n)},e.prototype.adjustOddEvenCounts=function(t){var r=st.sum(new Int32Array(this.getOddCounts())),n=st.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;r>13?a=!0:r<4&&(o=!0);var s=!1,l=!1;n>13?l=!0:n<4&&(s=!0);var d=r+n-t,h=(r&1)===1,p=(n&1)===0;if(d===1)if(h){if(p)throw new U;a=!0}else{if(!p)throw new U;l=!0}else if(d===-1)if(h){if(p)throw new U;o=!0}else{if(!p)throw new U;s=!0}else if(d===0){if(h){if(!p)throw new U;r<n?(o=!0,l=!0):(a=!0,s=!0)}else if(p)throw new U}else throw new U;if(o){if(a)throw new U;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new U;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Gn),sg=pM;var mM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gM=function(i){mM(e,i);function e(t,r,n){var o=i.call(this,t,r)||this;return o.count=0,o.finderPattern=n,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(ma),jb=gM;var vM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lg=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_M=function(i){vM(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,n){var o,a,s,l,d=this.decodePair(r,!1,t,n);e.addOrTally(this.possibleLeftPairs,d),r.reverse();var h=this.decodePair(r,!0,t,n);e.addOrTally(this.possibleRightPairs,h),r.reverse();try{for(var p=lg(this.possibleLeftPairs),g=p.next();!g.done;g=p.next()){var _=g.value;if(_.getCount()>1)try{for(var E=(s=void 0,lg(this.possibleRightPairs)),A=E.next();!A.done;A=E.next()){var N=A.value;if(N.getCount()>1&&e.checkChecksum(_,N))return e.constructResult(_,N)}}catch(F){s={error:F}}finally{try{A&&!A.done&&(l=E.return)&&l.call(E)}finally{if(s)throw s.error}}}}catch(F){o={error:F}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}throw new U},e.addOrTally=function(t,r){var n,o;if(r!=null){var a=!1;try{for(var s=lg(t),l=s.next();!l.done;l=s.next()){var d=l.value;if(d.getValue()===r.getValue()){d.incrementCount(),a=!0;break}}}catch(h){n={error:h}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}a||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var n=4537077*t.getValue()+r.getValue(),o=new String(n).toString(),a=new Ae,s=13-o.length;s>0;s--)a.append("0");a.append(o);for(var l=0,s=0;s<13;s++){var d=a.charAt(s).charCodeAt(0)-48;l+=s&1?d:3*d}l=10-l%10,l===10&&(l=0),a.append(l.toString());var h=t.getFinderPattern().getResultPoints(),p=r.getFinderPattern().getResultPoints();return new Ot(a.toString(),null,0,[h[0],h[1],p[0],p[1]],le.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var n=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,n===o},e.prototype.decodePair=function(t,r,n,o){try{var a=this.findFinderPattern(t,r),s=this.parseFoundFinderPattern(t,n,r,a),l=o==null?null:o.get(dt.NEED_RESULT_POINT_CALLBACK);if(l!=null){var d=(a[0]+a[1])/2;r&&(d=t.getSize()-1-d),l.foundPossibleResultPoint(new ue(d,n))}var h=this.decodeDataCharacter(t,s,!0),p=this.decodeDataCharacter(t,s,!1);return new jb(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,n){for(var o=this.getDataCharacterCounters(),a=0;a<o.length;a++)o[a]=0;if(n)Ut.recordPatternInReverse(t,r.getStartEnd()[0],o);else{Ut.recordPattern(t,r.getStartEnd()[1]+1,o);for(var s=0,l=o.length-1;s<l;s++,l--){var d=o[s];o[s]=o[l],o[l]=d}}for(var h=n?16:15,p=st.sum(new Int32Array(o))/h,g=this.getOddCounts(),_=this.getEvenCounts(),E=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors(),s=0;s<o.length;s++){var N=o[s]/p,F=Math.floor(N+.5);F<1?F=1:F>8&&(F=8);var P=Math.floor(s/2);s&1?(_[P]=F,A[P]=N-F):(g[P]=F,E[P]=N-F)}this.adjustOddEvenCounts(n,h);for(var L=0,z=0,s=g.length-1;s>=0;s--)z*=9,z+=g[s],L+=g[s];for(var X=0,Q=0,s=_.length-1;s>=0;s--)X*=9,X+=_[s],Q+=_[s];var re=z+3*X;if(n){if(L&1||L>12||L<4)throw new U;var be=(12-L)/2,ke=e.OUTSIDE_ODD_WIDEST[be],Ve=9-ke,Et=ho.getRSSvalue(g,ke,!1),Ke=ho.getRSSvalue(_,Ve,!0),_t=e.OUTSIDE_EVEN_TOTAL_SUBSET[be],Mr=e.OUTSIDE_GSUM[be];return new ma(Et*_t+Ke+Mr,re)}else{if(Q&1||Q>10||Q<4)throw new U;var be=(10-Q)/2,ke=e.INSIDE_ODD_WIDEST[be],Ve=9-ke,Et=ho.getRSSvalue(g,ke,!0),Ke=ho.getRSSvalue(_,Ve,!1),Ei=e.INSIDE_ODD_TOTAL_SUBSET[be],Mr=e.INSIDE_GSUM[be];return new ma(Ke*Ei+Et+Mr,re)}},e.prototype.findFinderPattern=function(t,r){var n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;for(var o=t.getSize(),a=!1,s=0;s<o&&(a=!t.get(s),r!==a);)s++;for(var l=0,d=s,h=s;h<o;h++)if(t.get(h)!==a)n[l]++;else{if(l===3){if(Gn.isFinderPattern(n))return[d,h];d+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,l--}else l++;n[l]=1,a=!a}throw new U},e.prototype.parseFoundFinderPattern=function(t,r,n,o){for(var a=t.get(o[0]),s=o[0]-1;s>=0&&a!==t.get(s);)s--;s++;var l=o[0]-s,d=this.getDecodeFinderCounters(),h=new Int32Array(d.length);at.arraycopy(d,0,h,1,d.length-1),h[0]=l;var p=this.parseFinderValue(h,e.FINDER_PATTERNS),g=s,_=o[1];return n&&(g=t.getSize()-1-g,_=t.getSize()-1-_),new Md(p,[s,o[1]],g,_,r)},e.prototype.adjustOddEvenCounts=function(t,r){var n=st.sum(new Int32Array(this.getOddCounts())),o=st.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1,l=!1,d=!1;t?(n>12?s=!0:n<4&&(a=!0),o>12?d=!0:o<4&&(l=!0)):(n>11?s=!0:n<5&&(a=!0),o>10?d=!0:o<4&&(l=!0));var h=n+o-r,p=(n&1)===(t?1:0),g=(o&1)===1;if(h===1)if(p){if(g)throw new U;s=!0}else{if(!g)throw new U;d=!0}else if(h===-1)if(p){if(g)throw new U;a=!0}else{if(!g)throw new U;l=!0}else if(h===0){if(p){if(!g)throw new U;n<o?(a=!0,d=!0):(s=!0,l=!0)}else if(g)throw new U}else throw new U;if(a){if(s)throw new U;Gn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Gn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(d)throw new U;Gn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Gn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Gn),Fd=_M;var yM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bM=function(i){yM(e,i);function e(t){var r=i.call(this)||this;r.readers=[];var n=t?t.get(dt.POSSIBLE_FORMATS):null,o=t&&t.get(dt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,a=t&&t.get(dt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return n&&((n.includes(le.EAN_13)||n.includes(le.UPC_A)||n.includes(le.EAN_8)||n.includes(le.UPC_E))&&r.readers.push(new Od(t)),n.includes(le.CODE_39)&&r.readers.push(new Td(o,a)),n.includes(le.CODE_93)&&r.readers.push(new Dd),n.includes(le.CODE_128)&&r.readers.push(new Sd),n.includes(le.ITF)&&r.readers.push(new Rd),n.includes(le.CODABAR)&&r.readers.push(new ng),n.includes(le.RSS_14)&&r.readers.push(new Fd),n.includes(le.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new sg))),r.readers.length===0&&(r.readers.push(new Od(t)),r.readers.push(new Td),r.readers.push(new Dd),r.readers.push(new Od(t)),r.readers.push(new Sd),r.readers.push(new Rd),r.readers.push(new Fd)),r}return e.prototype.decodeRow=function(t,r,n){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,n)}catch{}throw new U},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(Ut),vo=bM;var xM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sz=function(i){xM(e,i);function e(t,r){return t===void 0&&(t=500),i.call(this,new vo(r),t,r)||this}return e}(Gi);var Gb=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zt=function(){function i(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return i.prototype.getECCodewords=function(){return this.ecCodewords},i.prototype.getECBlocks=function(){return this.ecBlocks},i}();var Nt=function(){function i(e,t){this.count=e,this.dataCodewords=t}return i.prototype.getCount=function(){return this.count},i.prototype.getDataCodewords=function(){return this.dataCodewords},i}();var EM=function(){function i(e,t,r,n,o,a){var s,l;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=o,this.ecBlocks=a;var d=0,h=a.getECCodewords(),p=a.getECBlocks();try{for(var g=Gb(p),_=g.next();!_.done;_=g.next()){var E=_.value;d+=E.getCount()*(E.getDataCodewords()+h)}}catch(A){s={error:A}}finally{try{_&&!_.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}this.totalCodewords=d}return i.prototype.getVersionNumber=function(){return this.versionNumber},i.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},i.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},i.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},i.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},i.prototype.getTotalCodewords=function(){return this.totalCodewords},i.prototype.getECBlocks=function(){return this.ecBlocks},i.getVersionForDimensions=function(e,t){var r,n;if(e&1||t&1)throw new ee;try{for(var o=Gb(i.VERSIONS),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===t)return s}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}throw new ee},i.prototype.toString=function(){return""+this.versionNumber},i.buildVersions=function(){return[new i(1,10,10,8,8,new zt(5,new Nt(1,3))),new i(2,12,12,10,10,new zt(7,new Nt(1,5))),new i(3,14,14,12,12,new zt(10,new Nt(1,8))),new i(4,16,16,14,14,new zt(12,new Nt(1,12))),new i(5,18,18,16,16,new zt(14,new Nt(1,18))),new i(6,20,20,18,18,new zt(18,new Nt(1,22))),new i(7,22,22,20,20,new zt(20,new Nt(1,30))),new i(8,24,24,22,22,new zt(24,new Nt(1,36))),new i(9,26,26,24,24,new zt(28,new Nt(1,44))),new i(10,32,32,14,14,new zt(36,new Nt(1,62))),new i(11,36,36,16,16,new zt(42,new Nt(1,86))),new i(12,40,40,18,18,new zt(48,new Nt(1,114))),new i(13,44,44,20,20,new zt(56,new Nt(1,144))),new i(14,48,48,22,22,new zt(68,new Nt(1,174))),new i(15,52,52,24,24,new zt(42,new Nt(2,102))),new i(16,64,64,14,14,new zt(56,new Nt(2,140))),new i(17,72,72,16,16,new zt(36,new Nt(4,92))),new i(18,80,80,18,18,new zt(48,new Nt(4,114))),new i(19,88,88,20,20,new zt(56,new Nt(4,144))),new i(20,96,96,22,22,new zt(68,new Nt(4,174))),new i(21,104,104,24,24,new zt(56,new Nt(6,136))),new i(22,120,120,18,18,new zt(68,new Nt(6,175))),new i(23,132,132,20,20,new zt(62,new Nt(8,163))),new i(24,144,144,22,22,new zt(62,new Nt(8,156),new Nt(2,155))),new i(25,8,18,6,16,new zt(7,new Nt(1,5))),new i(26,8,32,6,14,new zt(11,new Nt(1,10))),new i(27,12,26,10,24,new zt(14,new Nt(1,16))),new i(28,12,36,10,16,new zt(18,new Nt(1,22))),new i(29,16,36,14,16,new zt(24,new Nt(1,32))),new i(30,16,48,14,22,new zt(28,new Nt(1,49)))]},i.VERSIONS=i.buildVersions(),i}(),Hb=EM;var wM=function(){function i(e){var t=e.getHeight();if(t<8||t>144||t&1)throw new ee;this.version=i.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new rr(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return i.prototype.getVersion=function(){return this.version},i.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return Hb.getVersionForDimensions(t,r)},i.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,n=0,o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),s=!1,l=!1,d=!1,h=!1;do if(r===o&&n===0&&!s)e[t++]=this.readCorner1(o,a)&255,r-=2,n+=2,s=!0;else if(r===o-2&&n===0&&a&3&&!l)e[t++]=this.readCorner2(o,a)&255,r-=2,n+=2,l=!0;else if(r===o+4&&n===2&&!(a&7)&&!d)e[t++]=this.readCorner3(o,a)&255,r-=2,n+=2,d=!0;else if(r===o-2&&n===0&&(a&7)===4&&!h)e[t++]=this.readCorner4(o,a)&255,r-=2,n+=2,h=!0;else{do r<o&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=this.readUtah(r,n,o,a)&255),r-=2,n+=2;while(r>=0&&n<a);r+=1,n+=3;do r>=0&&n<a&&!this.readMappingMatrix.get(n,r)&&(e[t++]=this.readUtah(r,n,o,a)&255),r+=2,n-=2;while(r<o&&n>=0);r+=3,n+=1}while(r<o||n<a);if(t!==this.version.getTotalCodewords())throw new ee;return e},i.prototype.readModule=function(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},i.prototype.readUtah=function(e,t,r,n){var o=0;return this.readModule(e-2,t-2,r,n)&&(o|=1),o<<=1,this.readModule(e-2,t-1,r,n)&&(o|=1),o<<=1,this.readModule(e-1,t-2,r,n)&&(o|=1),o<<=1,this.readModule(e-1,t-1,r,n)&&(o|=1),o<<=1,this.readModule(e-1,t,r,n)&&(o|=1),o<<=1,this.readModule(e,t-2,r,n)&&(o|=1),o<<=1,this.readModule(e,t-1,r,n)&&(o|=1),o<<=1,this.readModule(e,t,r,n)&&(o|=1),o},i.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},i.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},i.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},i.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},i.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new se("Dimension of bitMatrix must match the version size");for(var n=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=t/n|0,s=r/o|0,l=a*n,d=s*o,h=new rr(d,l),p=0;p<a;++p)for(var g=p*n,_=0;_<s;++_)for(var E=_*o,A=0;A<n;++A)for(var N=p*(n+2)+1+A,F=g+A,P=0;P<o;++P){var L=_*(o+2)+1+P;if(e.get(L,N)){var z=E+P;h.set(z,F)}}return h},i}(),Wb=wM;var Xb=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CM=function(){function i(e,t){this.numDataCodewords=e,this.codewords=t}return i.getDataBlocks=function(e,t){var r,n,o,a,s=t.getECBlocks(),l=0,d=s.getECBlocks();try{for(var h=Xb(d),p=h.next();!p.done;p=h.next()){var g=p.value;l+=g.getCount()}}catch(Mr){r={error:Mr}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}var _=new Array(l),E=0;try{for(var A=Xb(d),N=A.next();!N.done;N=A.next())for(var g=N.value,F=0;F<g.getCount();F++){var P=g.getDataCodewords(),L=s.getECCodewords()+P;_[E++]=new i(P,new Uint8Array(L))}}catch(Mr){o={error:Mr}}finally{try{N&&!N.done&&(a=A.return)&&a.call(A)}finally{if(o)throw o.error}}for(var z=_[0].codewords.length,X=z-s.getECCodewords(),Q=X-1,re=0,F=0;F<Q;F++)for(var be=0;be<E;be++)_[be].codewords[F]=e[re++];for(var ke=t.getVersionNumber()===24,Ve=ke?8:E,be=0;be<Ve;be++)_[be].codewords[X-1]=e[re++];for(var Et=_[0].codewords.length,F=X;F<Et;F++)for(var be=0;be<E;be++){var Ke=ke?(be+8)%E:be,_t=ke&&Ke>7?F-1:F;_[Ke].codewords[_t]=e[re++]}if(re!==e.length)throw new se;return _},i.prototype.getNumDataCodewords=function(){return this.numDataCodewords},i.prototype.getCodewords=function(){return this.codewords},i}(),Yb=CM;var IM=function(){function i(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return i.prototype.getBitOffset=function(){return this.bitOffset},i.prototype.getByteOffset=function(){return this.byteOffset},i.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new se(""+e);var t=0,r=this.bitOffset,n=this.byteOffset,o=this.bytes;if(r>0){var a=8-r,s=e<a?e:a,l=a-s,d=255>>8-s<<l;t=(o[n]&d)>>l,e-=s,r+=s,r===8&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|o[n]&255,n++,e-=8;if(e>0){var l=8-e,d=255>>l<<l;t=t<<e|(o[n]&d)>>l,r+=e}}return this.bitOffset=r,this.byteOffset=n,t},i.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},i}(),sc=IM;var Gr=function(i){return i[i.PAD_ENCODE=0]="PAD_ENCODE",i[i.ASCII_ENCODE=1]="ASCII_ENCODE",i[i.C40_ENCODE=2]="C40_ENCODE",i[i.TEXT_ENCODE=3]="TEXT_ENCODE",i[i.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",i[i.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",i[i.BASE256_ENCODE=6]="BASE256_ENCODE",i}(Gr||{}),AM=function(){function i(){}return i.decode=function(e){var t=new sc(e),r=new Ae,n=new Ae,o=new Array,a=Gr.ASCII_ENCODE;do if(a===Gr.ASCII_ENCODE)a=this.decodeAsciiSegment(t,r,n);else{switch(a){case Gr.C40_ENCODE:this.decodeC40Segment(t,r);break;case Gr.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case Gr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case Gr.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case Gr.BASE256_ENCODE:this.decodeBase256Segment(t,r,o);break;default:throw new ee}a=Gr.ASCII_ENCODE}while(a!==Gr.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new zn(e,r.toString(),o.length===0?null:o,null)},i.decodeAsciiSegment=function(e,t,r){var n=!1;do{var o=e.readBits(8);if(o===0)throw new ee;if(o<=128)return n&&(o+=128),t.append(String.fromCharCode(o-1)),Gr.ASCII_ENCODE;if(o===129)return Gr.PAD_ENCODE;if(o<=229){var a=o-130;a<10&&t.append("0"),t.append(""+a)}else switch(o){case 230:return Gr.C40_ENCODE;case 231:return Gr.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:n=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return Gr.ANSIX12_ENCODE;case 239:return Gr.TEXT_ENCODE;case 240:return Gr.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new ee;break}}while(e.available()>0);return Gr.ASCII_ENCODE},i.decodeC40Segment=function(e,t){var r=!1,n=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var s=0;s<3;s++){var l=n[s];switch(o){case 0:if(l<3)o=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var d=this.C40_BASIC_SET_CHARS[l];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d)}else throw new ee;break;case 1:r?(t.append(String.fromCharCode(l+128)),r=!1):t.append(String.fromCharCode(l)),o=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var d=this.C40_SHIFT2_SET_CHARS[l];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d)}else switch(l){case 27:t.append("");break;case 30:r=!0;break;default:throw new ee}o=0;break;case 3:r?(t.append(String.fromCharCode(l+224)),r=!1):t.append(String.fromCharCode(l+96)),o=0;break;default:throw new ee}}}while(e.available()>0)},i.decodeTextSegment=function(e,t){var r=!1,n=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var s=0;s<3;s++){var l=n[s];switch(o){case 0:if(l<3)o=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var d=this.TEXT_BASIC_SET_CHARS[l];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d)}else throw new ee;break;case 1:r?(t.append(String.fromCharCode(l+128)),r=!1):t.append(String.fromCharCode(l)),o=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var d=this.TEXT_SHIFT2_SET_CHARS[l];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d)}else switch(l){case 27:t.append("");break;case 30:r=!0;break;default:throw new ee}o=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var d=this.TEXT_SHIFT3_SET_CHARS[l];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d),o=0}else throw new ee;break;default:throw new ee}}}while(e.available()>0)},i.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var n=e.readBits(8);if(n===254)return;this.parseTwoBytes(n,e.readBits(8),r);for(var o=0;o<3;o++){var a=r[o];switch(a){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(a<14)t.append(String.fromCharCode(a+44));else if(a<40)t.append(String.fromCharCode(a+51));else throw new ee;break}}}while(e.available()>0)},i.parseTwoBytes=function(e,t,r){var n=(e<<8)+t-1,o=Math.floor(n/1600);r[0]=o,n-=o*1600,o=Math.floor(n/40),r[1]=o,r[2]=n-o*40},i.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var n=e.readBits(6);if(n===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}n&32||(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)},i.decodeBase256Segment=function(e,t,r){var n=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),n++),a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),n++),a<0)throw new ee;for(var s=new Uint8Array(a),l=0;l<a;l++){if(e.available()<8)throw new ee;s[l]=this.unrandomize255State(e.readBits(8),n++)}r.push(s);try{t.append(Vr.decode(s,Ye.ISO88591))}catch(d){throw new $r("Platform does not support required encoding: "+d.message)}},i.unrandomize255State=function(e,t){var r=149*t%255+1,n=e-r;return n>=0?n:n+256},i.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],i.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],i.TEXT_SHIFT2_SET_CHARS=i.C40_SHIFT2_SET_CHARS,i.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7F"],i}(),cg=AM;var SM=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TM=function(){function i(){this.rsDecoder=new jn(wr.DATA_MATRIX_FIELD_256)}return i.prototype.decode=function(e){var t,r,n=new Wb(e),o=n.getVersion(),a=n.readCodewords(),s=Yb.getDataBlocks(a,o),l=0;try{for(var d=SM(s),h=d.next();!h.done;h=d.next()){var p=h.value;l+=p.getNumDataCodewords()}}catch(L){t={error:L}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}for(var g=new Uint8Array(l),_=s.length,E=0;E<_;E++){var A=s[E],N=A.getCodewords(),F=A.getNumDataCodewords();this.correctErrors(N,F);for(var P=0;P<F;P++)g[P*_+E]=N[P]}return cg.decode(g)},i.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Ht}for(var n=0;n<t;n++)e[n]=r[n]},i}(),qb=TM;var DM=function(){function i(e){this.image=e,this.rectangleDetector=new xs(this.image)}return i.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new U;t=this.shiftToModuleCenter(t);var r=t[0],n=t[1],o=t[2],a=t[3],s=this.transitionsBetween(r,a)+1,l=this.transitionsBetween(o,a)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var d=i.sampleGrid(this.image,r,n,o,a,s,l);return new ha(d,[r,n,o,a])},i.shiftPoint=function(e,t,r){var n=(t.getX()-e.getX())/(r+1),o=(t.getY()-e.getY())/(r+1);return new ue(e.getX()+n,e.getY()+o)},i.moveAway=function(e,t,r){var n=e.getX(),o=e.getY();return n<t?n-=1:n+=1,o<r?o-=1:o+=1,new ue(n,o)},i.prototype.detectSolid1=function(e){var t=e[0],r=e[1],n=e[3],o=e[2],a=this.transitionsBetween(t,r),s=this.transitionsBetween(r,n),l=this.transitionsBetween(n,o),d=this.transitionsBetween(o,t),h=a,p=[o,t,r,n];return h>s&&(h=s,p[0]=t,p[1]=r,p[2]=n,p[3]=o),h>l&&(h=l,p[0]=r,p[1]=n,p[2]=o,p[3]=t),h>d&&(p[0]=n,p[1]=o,p[2]=t,p[3]=r),p},i.prototype.detectSolid2=function(e){var t=e[0],r=e[1],n=e[2],o=e[3],a=this.transitionsBetween(t,o),s=i.shiftPoint(r,n,(a+1)*4),l=i.shiftPoint(n,r,(a+1)*4),d=this.transitionsBetween(s,t),h=this.transitionsBetween(l,o);return d<h?(e[0]=t,e[1]=r,e[2]=n,e[3]=o):(e[0]=r,e[1]=n,e[2]=o,e[3]=t),e},i.prototype.correctTopRight=function(e){var t=e[0],r=e[1],n=e[2],o=e[3],a=this.transitionsBetween(t,o),s=this.transitionsBetween(r,o),l=i.shiftPoint(t,r,(s+1)*4),d=i.shiftPoint(n,r,(a+1)*4);a=this.transitionsBetween(l,o),s=this.transitionsBetween(d,o);var h=new ue(o.getX()+(n.getX()-r.getX())/(a+1),o.getY()+(n.getY()-r.getY())/(a+1)),p=new ue(o.getX()+(t.getX()-r.getX())/(s+1),o.getY()+(t.getY()-r.getY())/(s+1));if(!this.isValid(h))return this.isValid(p)?p:null;if(!this.isValid(p))return h;var g=this.transitionsBetween(l,h)+this.transitionsBetween(d,h),_=this.transitionsBetween(l,p)+this.transitionsBetween(d,p);return g>_?h:p},i.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],n=e[2],o=e[3],a=this.transitionsBetween(t,o)+1,s=this.transitionsBetween(n,o)+1,l=i.shiftPoint(t,r,s*4),d=i.shiftPoint(n,r,a*4);a=this.transitionsBetween(l,o)+1,s=this.transitionsBetween(d,o)+1,(a&1)===1&&(a+=1),(s&1)===1&&(s+=1);var h=(t.getX()+r.getX()+n.getX()+o.getX())/4,p=(t.getY()+r.getY()+n.getY()+o.getY())/4;t=i.moveAway(t,h,p),r=i.moveAway(r,h,p),n=i.moveAway(n,h,p),o=i.moveAway(o,h,p);var g,_;return l=i.shiftPoint(t,r,s*4),l=i.shiftPoint(l,o,a*4),g=i.shiftPoint(r,t,s*4),g=i.shiftPoint(g,n,a*4),d=i.shiftPoint(n,o,s*4),d=i.shiftPoint(d,r,a*4),_=i.shiftPoint(o,n,s*4),_=i.shiftPoint(_,t,a*4),[l,g,d,_]},i.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},i.sampleGrid=function(e,t,r,n,o,a,s){var l=pa.getInstance();return l.sampleGrid(e,a,s,.5,.5,a-.5,.5,a-.5,s-.5,.5,s-.5,t.getX(),t.getY(),o.getX(),o.getY(),n.getX(),n.getY(),r.getX(),r.getY())},i.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),o=Math.trunc(t.getX()),a=Math.trunc(t.getY()),s=Math.abs(a-n)>Math.abs(o-r);if(s){var l=r;r=n,n=l,l=o,o=a,a=l}for(var d=Math.abs(o-r),h=Math.abs(a-n),p=-d/2,g=n<a?1:-1,_=r<o?1:-1,E=0,A=this.image.get(s?n:r,s?r:n),N=r,F=n;N!==o;N+=_){var P=this.image.get(s?F:N,s?N:F);if(P!==A&&(E++,A=P),p+=h,p>0){if(F===a)break;F+=g,p-=d}}return E},i}(),$b=DM;var RM=function(){function i(){this.decoder=new qb}return i.prototype.decode=function(e,t){t===void 0&&(t=null);var r,n;if(t!=null&&t.has(dt.PURE_BARCODE)){var o=i.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(o),n=i.NO_POINTS}else{var a=new $b(e.getBlackMatrix()).detect();r=this.decoder.decode(a.getBits()),n=a.getPoints()}var s=r.getRawBytes(),l=new Ot(r.getText(),s,8*s.length,n,le.DATA_MATRIX,at.currentTimeMillis()),d=r.getByteSegments();d!=null&&l.putMetadata(ar.BYTE_SEGMENTS,d);var h=r.getECLevel();return h!=null&&l.putMetadata(ar.ERROR_CORRECTION_LEVEL,h),l},i.prototype.reset=function(){},i.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new U;var n=this.moduleSize(t,e),o=t[1],a=r[1],s=t[0],l=r[0],d=(l-s+1)/n,h=(a-o+1)/n;if(d<=0||h<=0)throw new U;var p=n/2;o+=p,s+=p;for(var g=new rr(d,h),_=0;_<h;_++)for(var E=o+_*n,A=0;A<d;A++)e.get(s+A*n,E)&&g.set(A,_);return g},i.moduleSize=function(e,t){for(var r=t.getWidth(),n=e[0],o=e[1];n<r&&t.get(n,o);)n++;if(n===r)throw new U;var a=n-e[0];if(a===0)throw new U;return a},i.NO_POINTS=[],i}(),Ss=RM;var OM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yj=function(i){OM(e,i);function e(t){return t===void 0&&(t=500),i.call(this,new Ss,t)||this}return e}(Gi);var lc=function(i){return i[i.L=0]="L",i[i.M=1]="M",i[i.Q=2]="Q",i[i.H=3]="H",i}(lc||{}),MM=function(){function i(e,t,r){this.value=e,this.stringValue=t,this.bits=r,i.FOR_BITS.set(r,this),i.FOR_VALUE.set(e,this)}return i.prototype.getValue=function(){return this.value},i.prototype.getBits=function(){return this.bits},i.fromString=function(e){switch(e){case"L":return i.L;case"M":return i.M;case"Q":return i.Q;case"H":return i.H;default:throw new bi(e+"not available")}},i.prototype.toString=function(){return this.stringValue},i.prototype.equals=function(e){if(!(e instanceof i))return!1;var t=e;return this.value===t.value},i.forBits=function(e){if(e<0||e>=i.FOR_BITS.size)throw new se;return i.FOR_BITS.get(e)},i.FOR_BITS=new Map,i.FOR_VALUE=new Map,i.L=new i(lc.L,"L",1),i.M=new i(lc.M,"M",0),i.Q=new i(lc.Q,"Q",3),i.H=new i(lc.H,"H",2),i}(),Wn=MM;var PM=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NM=function(){function i(e){this.errorCorrectionLevel=Wn.forBits(e>>3&3),this.dataMask=e&7}return i.numBitsDiffering=function(e,t){return Be.bitCount(e^t)},i.decodeFormatInformation=function(e,t){var r=i.doDecodeFormatInformation(e,t);return r!==null?r:i.doDecodeFormatInformation(e^i.FORMAT_INFO_MASK_QR,t^i.FORMAT_INFO_MASK_QR)},i.doDecodeFormatInformation=function(e,t){var r,n,o=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=PM(i.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var d=l.value,h=d[0];if(h===e||h===t)return new i(d[1]);var p=i.numBitsDiffering(e,h);p<o&&(a=d[1],o=p),e!==t&&(p=i.numBitsDiffering(t,h),p<o&&(a=d[1],o=p))}}catch(g){r={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o<=3?new i(a):null},i.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},i.prototype.getDataMask=function(){return this.dataMask},i.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},i.prototype.equals=function(e){if(!(e instanceof i))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},i.FORMAT_INFO_MASK_QR=21522,i.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],i}(),cc=NM;var FM=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kM=function(){function i(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return i.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},i.prototype.getNumBlocks=function(){var e,t,r=0,n=this.ecBlocks;try{for(var o=FM(n),a=o.next();!a.done;a=o.next()){var s=a.value;r+=s.getCount()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r},i.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},i.prototype.getECBlocks=function(){return this.ecBlocks},i}(),j=kM;var LM=function(){function i(e,t){this.count=e,this.dataCodewords=t}return i.prototype.getCount=function(){return this.count},i.prototype.getDataCodewords=function(){return this.dataCodewords},i}(),R=LM;var BM=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VM=function(){function i(e,t){for(var r,n,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=o;var s=0,l=o[0].getECCodewordsPerBlock(),d=o[0].getECBlocks();try{for(var h=BM(d),p=h.next();!p.done;p=h.next()){var g=p.value;s+=g.getCount()*(g.getDataCodewords()+l)}}catch(_){r={error:_}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}this.totalCodewords=s}return i.prototype.getVersionNumber=function(){return this.versionNumber},i.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},i.prototype.getTotalCodewords=function(){return this.totalCodewords},i.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},i.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},i.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ee;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ee}},i.getVersionForNumber=function(e){if(e<1||e>40)throw new se;return i.VERSIONS[e-1]},i.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,n=0;n<i.VERSION_DECODE_INFO.length;n++){var o=i.VERSION_DECODE_INFO[n];if(o===e)return i.getVersionForNumber(n+7);var a=cc.numBitsDiffering(e,o);a<t&&(r=n+7,t=a)}return t<=3?i.getVersionForNumber(r):null},i.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new rr(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,n=0;n<r;n++)for(var o=this.alignmentPatternCenters[n]-2,a=0;a<r;a++)n===0&&(a===0||a===r-1)||n===r-1&&a===0||t.setRegion(this.alignmentPatternCenters[a]-2,o,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},i.prototype.toString=function(){return""+this.versionNumber},i.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),i.VERSIONS=[new i(1,new Int32Array(0),new j(7,new R(1,19)),new j(10,new R(1,16)),new j(13,new R(1,13)),new j(17,new R(1,9))),new i(2,Int32Array.from([6,18]),new j(10,new R(1,34)),new j(16,new R(1,28)),new j(22,new R(1,22)),new j(28,new R(1,16))),new i(3,Int32Array.from([6,22]),new j(15,new R(1,55)),new j(26,new R(1,44)),new j(18,new R(2,17)),new j(22,new R(2,13))),new i(4,Int32Array.from([6,26]),new j(20,new R(1,80)),new j(18,new R(2,32)),new j(26,new R(2,24)),new j(16,new R(4,9))),new i(5,Int32Array.from([6,30]),new j(26,new R(1,108)),new j(24,new R(2,43)),new j(18,new R(2,15),new R(2,16)),new j(22,new R(2,11),new R(2,12))),new i(6,Int32Array.from([6,34]),new j(18,new R(2,68)),new j(16,new R(4,27)),new j(24,new R(4,19)),new j(28,new R(4,15))),new i(7,Int32Array.from([6,22,38]),new j(20,new R(2,78)),new j(18,new R(4,31)),new j(18,new R(2,14),new R(4,15)),new j(26,new R(4,13),new R(1,14))),new i(8,Int32Array.from([6,24,42]),new j(24,new R(2,97)),new j(22,new R(2,38),new R(2,39)),new j(22,new R(4,18),new R(2,19)),new j(26,new R(4,14),new R(2,15))),new i(9,Int32Array.from([6,26,46]),new j(30,new R(2,116)),new j(22,new R(3,36),new R(2,37)),new j(20,new R(4,16),new R(4,17)),new j(24,new R(4,12),new R(4,13))),new i(10,Int32Array.from([6,28,50]),new j(18,new R(2,68),new R(2,69)),new j(26,new R(4,43),new R(1,44)),new j(24,new R(6,19),new R(2,20)),new j(28,new R(6,15),new R(2,16))),new i(11,Int32Array.from([6,30,54]),new j(20,new R(4,81)),new j(30,new R(1,50),new R(4,51)),new j(28,new R(4,22),new R(4,23)),new j(24,new R(3,12),new R(8,13))),new i(12,Int32Array.from([6,32,58]),new j(24,new R(2,92),new R(2,93)),new j(22,new R(6,36),new R(2,37)),new j(26,new R(4,20),new R(6,21)),new j(28,new R(7,14),new R(4,15))),new i(13,Int32Array.from([6,34,62]),new j(26,new R(4,107)),new j(22,new R(8,37),new R(1,38)),new j(24,new R(8,20),new R(4,21)),new j(22,new R(12,11),new R(4,12))),new i(14,Int32Array.from([6,26,46,66]),new j(30,new R(3,115),new R(1,116)),new j(24,new R(4,40),new R(5,41)),new j(20,new R(11,16),new R(5,17)),new j(24,new R(11,12),new R(5,13))),new i(15,Int32Array.from([6,26,48,70]),new j(22,new R(5,87),new R(1,88)),new j(24,new R(5,41),new R(5,42)),new j(30,new R(5,24),new R(7,25)),new j(24,new R(11,12),new R(7,13))),new i(16,Int32Array.from([6,26,50,74]),new j(24,new R(5,98),new R(1,99)),new j(28,new R(7,45),new R(3,46)),new j(24,new R(15,19),new R(2,20)),new j(30,new R(3,15),new R(13,16))),new i(17,Int32Array.from([6,30,54,78]),new j(28,new R(1,107),new R(5,108)),new j(28,new R(10,46),new R(1,47)),new j(28,new R(1,22),new R(15,23)),new j(28,new R(2,14),new R(17,15))),new i(18,Int32Array.from([6,30,56,82]),new j(30,new R(5,120),new R(1,121)),new j(26,new R(9,43),new R(4,44)),new j(28,new R(17,22),new R(1,23)),new j(28,new R(2,14),new R(19,15))),new i(19,Int32Array.from([6,30,58,86]),new j(28,new R(3,113),new R(4,114)),new j(26,new R(3,44),new R(11,45)),new j(26,new R(17,21),new R(4,22)),new j(26,new R(9,13),new R(16,14))),new i(20,Int32Array.from([6,34,62,90]),new j(28,new R(3,107),new R(5,108)),new j(26,new R(3,41),new R(13,42)),new j(30,new R(15,24),new R(5,25)),new j(28,new R(15,15),new R(10,16))),new i(21,Int32Array.from([6,28,50,72,94]),new j(28,new R(4,116),new R(4,117)),new j(26,new R(17,42)),new j(28,new R(17,22),new R(6,23)),new j(30,new R(19,16),new R(6,17))),new i(22,Int32Array.from([6,26,50,74,98]),new j(28,new R(2,111),new R(7,112)),new j(28,new R(17,46)),new j(30,new R(7,24),new R(16,25)),new j(24,new R(34,13))),new i(23,Int32Array.from([6,30,54,78,102]),new j(30,new R(4,121),new R(5,122)),new j(28,new R(4,47),new R(14,48)),new j(30,new R(11,24),new R(14,25)),new j(30,new R(16,15),new R(14,16))),new i(24,Int32Array.from([6,28,54,80,106]),new j(30,new R(6,117),new R(4,118)),new j(28,new R(6,45),new R(14,46)),new j(30,new R(11,24),new R(16,25)),new j(30,new R(30,16),new R(2,17))),new i(25,Int32Array.from([6,32,58,84,110]),new j(26,new R(8,106),new R(4,107)),new j(28,new R(8,47),new R(13,48)),new j(30,new R(7,24),new R(22,25)),new j(30,new R(22,15),new R(13,16))),new i(26,Int32Array.from([6,30,58,86,114]),new j(28,new R(10,114),new R(2,115)),new j(28,new R(19,46),new R(4,47)),new j(28,new R(28,22),new R(6,23)),new j(30,new R(33,16),new R(4,17))),new i(27,Int32Array.from([6,34,62,90,118]),new j(30,new R(8,122),new R(4,123)),new j(28,new R(22,45),new R(3,46)),new j(30,new R(8,23),new R(26,24)),new j(30,new R(12,15),new R(28,16))),new i(28,Int32Array.from([6,26,50,74,98,122]),new j(30,new R(3,117),new R(10,118)),new j(28,new R(3,45),new R(23,46)),new j(30,new R(4,24),new R(31,25)),new j(30,new R(11,15),new R(31,16))),new i(29,Int32Array.from([6,30,54,78,102,126]),new j(30,new R(7,116),new R(7,117)),new j(28,new R(21,45),new R(7,46)),new j(30,new R(1,23),new R(37,24)),new j(30,new R(19,15),new R(26,16))),new i(30,Int32Array.from([6,26,52,78,104,130]),new j(30,new R(5,115),new R(10,116)),new j(28,new R(19,47),new R(10,48)),new j(30,new R(15,24),new R(25,25)),new j(30,new R(23,15),new R(25,16))),new i(31,Int32Array.from([6,30,56,82,108,134]),new j(30,new R(13,115),new R(3,116)),new j(28,new R(2,46),new R(29,47)),new j(30,new R(42,24),new R(1,25)),new j(30,new R(23,15),new R(28,16))),new i(32,Int32Array.from([6,34,60,86,112,138]),new j(30,new R(17,115)),new j(28,new R(10,46),new R(23,47)),new j(30,new R(10,24),new R(35,25)),new j(30,new R(19,15),new R(35,16))),new i(33,Int32Array.from([6,30,58,86,114,142]),new j(30,new R(17,115),new R(1,116)),new j(28,new R(14,46),new R(21,47)),new j(30,new R(29,24),new R(19,25)),new j(30,new R(11,15),new R(46,16))),new i(34,Int32Array.from([6,34,62,90,118,146]),new j(30,new R(13,115),new R(6,116)),new j(28,new R(14,46),new R(23,47)),new j(30,new R(44,24),new R(7,25)),new j(30,new R(59,16),new R(1,17))),new i(35,Int32Array.from([6,30,54,78,102,126,150]),new j(30,new R(12,121),new R(7,122)),new j(28,new R(12,47),new R(26,48)),new j(30,new R(39,24),new R(14,25)),new j(30,new R(22,15),new R(41,16))),new i(36,Int32Array.from([6,24,50,76,102,128,154]),new j(30,new R(6,121),new R(14,122)),new j(28,new R(6,47),new R(34,48)),new j(30,new R(46,24),new R(10,25)),new j(30,new R(2,15),new R(64,16))),new i(37,Int32Array.from([6,28,54,80,106,132,158]),new j(30,new R(17,122),new R(4,123)),new j(28,new R(29,46),new R(14,47)),new j(30,new R(49,24),new R(10,25)),new j(30,new R(24,15),new R(46,16))),new i(38,Int32Array.from([6,32,58,84,110,136,162]),new j(30,new R(4,122),new R(18,123)),new j(28,new R(13,46),new R(32,47)),new j(30,new R(48,24),new R(14,25)),new j(30,new R(42,15),new R(32,16))),new i(39,Int32Array.from([6,26,54,82,110,138,166]),new j(30,new R(20,117),new R(4,118)),new j(28,new R(40,47),new R(7,48)),new j(30,new R(43,24),new R(22,25)),new j(30,new R(10,15),new R(67,16))),new i(40,Int32Array.from([6,30,58,86,114,142,170]),new j(30,new R(19,118),new R(6,119)),new j(28,new R(18,47),new R(31,48)),new j(30,new R(34,24),new R(34,25)),new j(30,new R(20,15),new R(61,16)))],i}(),on=VM;var Zr=function(i){return i[i.DATA_MASK_000=0]="DATA_MASK_000",i[i.DATA_MASK_001=1]="DATA_MASK_001",i[i.DATA_MASK_010=2]="DATA_MASK_010",i[i.DATA_MASK_011=3]="DATA_MASK_011",i[i.DATA_MASK_100=4]="DATA_MASK_100",i[i.DATA_MASK_101=5]="DATA_MASK_101",i[i.DATA_MASK_110=6]="DATA_MASK_110",i[i.DATA_MASK_111=7]="DATA_MASK_111",i}(Zr||{}),UM=function(){function i(e,t){this.value=e,this.isMasked=t}return i.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)},i.values=new Map([[Zr.DATA_MASK_000,new i(Zr.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[Zr.DATA_MASK_001,new i(Zr.DATA_MASK_001,function(e,t){return(e&1)===0})],[Zr.DATA_MASK_010,new i(Zr.DATA_MASK_010,function(e,t){return t%3===0})],[Zr.DATA_MASK_011,new i(Zr.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[Zr.DATA_MASK_100,new i(Zr.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[Zr.DATA_MASK_101,new i(Zr.DATA_MASK_101,function(e,t){return e*t%6===0})],[Zr.DATA_MASK_110,new i(Zr.DATA_MASK_110,function(e,t){return e*t%6<3})],[Zr.DATA_MASK_111,new i(Zr.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),i}(),kd=UM;var zM=function(){function i(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new ee;this.bitMatrix=e}return i.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var n=this.bitMatrix.getHeight(),o=0,a=n-7,r=n-1;r>=a;r--)o=this.copyBit(8,r,o);for(var t=n-8;t<n;t++)o=this.copyBit(t,8,o);if(this.parsedFormatInfo=cc.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ee},i.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return on.getVersionForNumber(t);for(var r=0,n=e-11,o=5;o>=0;o--)for(var a=e-9;a>=n;a--)r=this.copyBit(a,o,r);var s=on.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;r=0;for(var a=5;a>=0;a--)for(var o=e-9;o>=n;o--)r=this.copyBit(a,o,r);if(s=on.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new ee},i.prototype.copyBit=function(e,t,r){var n=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return n?r<<1|1:r<<1},i.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=kd.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);for(var o=t.buildFunctionPattern(),a=!0,s=new Uint8Array(t.getTotalCodewords()),l=0,d=0,h=0,p=n-1;p>0;p-=2){p===6&&p--;for(var g=0;g<n;g++)for(var _=a?n-1-g:g,E=0;E<2;E++)o.get(p-E,_)||(h++,d<<=1,this.bitMatrix.get(p-E,_)&&(d|=1),h===8&&(s[l++]=d,h=0,d=0));a=!a}if(l!==t.getTotalCodewords())throw new ee;return s},i.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=kd.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},i.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},i.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var n=t+1,o=e.getHeight();n<o;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))},i}(),Zb=zM;var Kb=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jM=function(){function i(e,t){this.numDataCodewords=e,this.codewords=t}return i.getDataBlocks=function(e,t,r){var n,o,a,s;if(e.length!==t.getTotalCodewords())throw new se;var l=t.getECBlocksForLevel(r),d=0,h=l.getECBlocks();try{for(var p=Kb(h),g=p.next();!g.done;g=p.next()){var _=g.value;d+=_.getCount()}}catch(_t){n={error:_t}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}var E=new Array(d),A=0;try{for(var N=Kb(h),F=N.next();!F.done;F=N.next())for(var _=F.value,P=0;P<_.getCount();P++){var L=_.getDataCodewords(),z=l.getECCodewordsPerBlock()+L;E[A++]=new i(L,new Uint8Array(z))}}catch(_t){a={error:_t}}finally{try{F&&!F.done&&(s=N.return)&&s.call(N)}finally{if(a)throw a.error}}for(var X=E[0].codewords.length,Q=E.length-1;Q>=0;){var re=E[Q].codewords.length;if(re===X)break;Q--}Q++;for(var be=X-l.getECCodewordsPerBlock(),ke=0,P=0;P<be;P++)for(var Ve=0;Ve<A;Ve++)E[Ve].codewords[P]=e[ke++];for(var Ve=Q;Ve<A;Ve++)E[Ve].codewords[be]=e[ke++];for(var Et=E[0].codewords.length,P=be;P<Et;P++)for(var Ve=0;Ve<A;Ve++){var Ke=Ve<Q?P:P+1;E[Ve].codewords[Ke]=e[ke++]}return E},i.prototype.getNumDataCodewords=function(){return this.numDataCodewords},i.prototype.getCodewords=function(){return this.codewords},i}(),Qb=jM;var an=function(i){return i[i.TERMINATOR=0]="TERMINATOR",i[i.NUMERIC=1]="NUMERIC",i[i.ALPHANUMERIC=2]="ALPHANUMERIC",i[i.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",i[i.BYTE=4]="BYTE",i[i.ECI=5]="ECI",i[i.KANJI=6]="KANJI",i[i.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",i[i.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",i[i.HANZI=9]="HANZI",i}(an||{}),GM=function(){function i(e,t,r,n){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=n,i.FOR_BITS.set(n,this),i.FOR_VALUE.set(e,this)}return i.forBits=function(e){var t=i.FOR_BITS.get(e);if(t===void 0)throw new se;return t},i.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},i.prototype.getValue=function(){return this.value},i.prototype.getBits=function(){return this.bits},i.prototype.equals=function(e){if(!(e instanceof i))return!1;var t=e;return this.value===t.value},i.prototype.toString=function(){return this.stringValue},i.FOR_BITS=new Map,i.FOR_VALUE=new Map,i.TERMINATOR=new i(an.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),i.NUMERIC=new i(an.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),i.ALPHANUMERIC=new i(an.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),i.STRUCTURED_APPEND=new i(an.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),i.BYTE=new i(an.BYTE,"BYTE",Int32Array.from([8,16,16]),4),i.ECI=new i(an.ECI,"ECI",Int32Array.from([0,0,0]),7),i.KANJI=new i(an.KANJI,"KANJI",Int32Array.from([8,10,12]),8),i.FNC1_FIRST_POSITION=new i(an.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),i.FNC1_SECOND_POSITION=new i(an.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),i.HANZI=new i(an.HANZI,"HANZI",Int32Array.from([8,10,12]),13),i}(),qt=GM;var HM=function(){function i(){}return i.decode=function(e,t,r,n){var o=new sc(e),a=new Ae,s=new Array,l=-1,d=-1;try{var h=null,p=!1,g=void 0;do{if(o.available()<4)g=qt.TERMINATOR;else{var _=o.readBits(4);g=qt.forBits(_)}switch(g){case qt.TERMINATOR:break;case qt.FNC1_FIRST_POSITION:case qt.FNC1_SECOND_POSITION:p=!0;break;case qt.STRUCTURED_APPEND:if(o.available()<16)throw new ee;l=o.readBits(8),d=o.readBits(8);break;case qt.ECI:var E=i.parseECIValue(o);if(h=tr.getCharacterSetECIByValue(E),h===null)throw new ee;break;case qt.HANZI:var A=o.readBits(4),N=o.readBits(g.getCharacterCountBits(t));A===i.GB2312_SUBSET&&i.decodeHanziSegment(o,a,N);break;default:var F=o.readBits(g.getCharacterCountBits(t));switch(g){case qt.NUMERIC:i.decodeNumericSegment(o,a,F);break;case qt.ALPHANUMERIC:i.decodeAlphanumericSegment(o,a,F,p);break;case qt.BYTE:i.decodeByteSegment(o,a,F,h,s,n);break;case qt.KANJI:i.decodeKanjiSegment(o,a,F);break;default:throw new ee}break}}while(g!==qt.TERMINATOR)}catch{throw new ee}return new zn(e,a.toString(),s.length===0?null:s,r===null?null:r.toString(),l,d)},i.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new ee;for(var n=new Uint8Array(2*r),o=0;r>0;){var a=e.readBits(13),s=a/96<<8&4294967295|a%96;s<959?s+=41377:s+=42657,n[o]=s>>8&255,n[o+1]=s&255,o+=2,r--}try{t.append(Vr.decode(n,Ye.GB2312))}catch(l){throw new ee(l)}},i.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new ee;for(var n=new Uint8Array(2*r),o=0;r>0;){var a=e.readBits(13),s=a/192<<8&4294967295|a%192;s<7936?s+=33088:s+=49472,n[o]=s>>8,n[o+1]=s,o+=2,r--}try{t.append(Vr.decode(n,Ye.SHIFT_JIS))}catch(l){throw new ee(l)}},i.decodeByteSegment=function(e,t,r,n,o,a){if(8*r>e.available())throw new ee;for(var s=new Uint8Array(r),l=0;l<r;l++)s[l]=e.readBits(8);var d;n===null?d=Ye.guessEncoding(s,a):d=n.getName();try{t.append(Vr.decode(s,d))}catch(h){throw new ee(h)}o.push(s)},i.toAlphaNumericChar=function(e){if(e>=i.ALPHANUMERIC_CHARS.length)throw new ee;return i.ALPHANUMERIC_CHARS[e]},i.decodeAlphanumericSegment=function(e,t,r,n){for(var o=t.length();r>1;){if(e.available()<11)throw new ee;var a=e.readBits(11);t.append(i.toAlphaNumericChar(Math.floor(a/45))),t.append(i.toAlphaNumericChar(a%45)),r-=2}if(r===1){if(e.available()<6)throw new ee;t.append(i.toAlphaNumericChar(e.readBits(6)))}if(n)for(var s=o;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,""))},i.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new ee;var n=e.readBits(10);if(n>=1e3)throw new ee;t.append(i.toAlphaNumericChar(Math.floor(n/100))),t.append(i.toAlphaNumericChar(Math.floor(n/10)%10)),t.append(i.toAlphaNumericChar(n%10)),r-=3}if(r===2){if(e.available()<7)throw new ee;var o=e.readBits(7);if(o>=100)throw new ee;t.append(i.toAlphaNumericChar(Math.floor(o/10))),t.append(i.toAlphaNumericChar(o%10))}else if(r===1){if(e.available()<4)throw new ee;var a=e.readBits(4);if(a>=10)throw new ee;t.append(i.toAlphaNumericChar(a))}},i.parseECIValue=function(e){var t=e.readBits(8);if(!(t&128))return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var n=e.readBits(16);return(t&31)<<16&4294967295|n}throw new ee},i.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",i.GB2312_SUBSET=1,i}(),ug=HM;var WM=function(){function i(e){this.mirrored=e}return i.prototype.isMirrored=function(){return this.mirrored},i.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},i}(),Ld=WM;var Jb=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XM=function(){function i(){this.rsDecoder=new jn(wr.QR_CODE_FIELD_256)}return i.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(rr.parseFromBooleanArray(e),t)},i.prototype.decodeBitMatrix=function(e,t){var r=new Zb(e),n=null;try{return this.decodeBitMatrixParser(r,t)}catch(a){n=a}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var o=this.decodeBitMatrixParser(r,t);return o.setOther(new Ld(!0)),o}catch(a){throw n!==null?n:a}},i.prototype.decodeBitMatrixParser=function(e,t){var r,n,o,a,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),d=e.readCodewords(),h=Qb.getDataBlocks(d,s,l),p=0;try{for(var g=Jb(h),_=g.next();!_.done;_=g.next()){var E=_.value;p+=E.getNumDataCodewords()}}catch(Q){r={error:Q}}finally{try{_&&!_.done&&(n=g.return)&&n.call(g)}finally{if(r)throw r.error}}var A=new Uint8Array(p),N=0;try{for(var F=Jb(h),P=F.next();!P.done;P=F.next()){var E=P.value,L=E.getCodewords(),z=E.getNumDataCodewords();this.correctErrors(L,z);for(var X=0;X<z;X++)A[N++]=L[X]}}catch(Q){o={error:Q}}finally{try{P&&!P.done&&(a=F.return)&&a.call(F)}finally{if(o)throw o.error}}return ug.decode(A,s,l,t)},i.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Ht}for(var n=0;n<t;n++)e[n]=r[n]},i}(),ex=XM;var YM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qM=function(i){YM(e,i);function e(t,r,n){var o=i.call(this,t,r)||this;return o.estimatedModuleSize=n,o}return e.prototype.aboutEquals=function(t,r,n){if(Math.abs(r-this.getY())<=t&&Math.abs(n-this.getX())<=t){var o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,n){var o=(this.getX()+r)/2,a=(this.getY()+t)/2,s=(this.estimatedModuleSize+n)/2;return new e(o,a,s)},e}(ue),tx=qM;var $M=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZM=function(){function i(e,t,r,n,o,a,s){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=o,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return i.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,n=e+r,o=this.startY+t/2,a=new Int32Array(3),s=this.image,l=0;l<t;l++){var d=o+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var h=e;h<n&&!s.get(h,d);)h++;for(var p=0;h<n;){if(s.get(h,d))if(p===1)a[1]++;else if(p===2){if(this.foundPatternCross(a)){var g=this.handlePossibleCenter(a,d,h);if(g!==null)return g}a[0]=a[2],a[1]=1,a[2]=0,p=1}else a[++p]++;else p===1&&p++,a[p]++;h++}if(this.foundPatternCross(a)){var g=this.handlePossibleCenter(a,d,n);if(g!==null)return g}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new U},i.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},i.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0},i.prototype.crossCheckVertical=function(e,t,r,n){var o=this.image,a=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&o.get(t,l)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&!o.get(t,l)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=e+1;l<a&&o.get(t,l)&&s[1]<=r;)s[1]++,l++;if(l===a||s[1]>r)return NaN;for(;l<a&&!o.get(t,l)&&s[2]<=r;)s[2]++,l++;if(s[2]>r)return NaN;var d=s[0]+s[1]+s[2];return 5*Math.abs(d-n)>=2*n?NaN:this.foundPatternCross(s)?i.centerFromEnd(s,l):NaN},i.prototype.handlePossibleCenter=function(e,t,r){var n,o,a=e[0]+e[1]+e[2],s=i.centerFromEnd(e,r),l=this.crossCheckVertical(t,s,2*e[1],a);if(!isNaN(l)){var d=(e[0]+e[1]+e[2])/3;try{for(var h=$M(this.possibleCenters),p=h.next();!p.done;p=h.next()){var g=p.value;if(g.aboutEquals(d,l,s))return g.combineEstimate(l,s,d)}}catch(E){n={error:E}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}var _=new tx(s,l,d);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null},i}(),rx=ZM;var KM=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QM=function(i){KM(e,i);function e(t,r,n,o){var a=i.call(this,t,r)||this;return a.estimatedModuleSize=n,a.count=o,o===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,n){if(Math.abs(r-this.getY())<=t&&Math.abs(n-this.getX())<=t){var o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,n){var o=this.count+1,a=(this.count*this.getX()+r)/o,s=(this.count*this.getY()+t)/o,l=(this.count*this.estimatedModuleSize+n)/o;return new e(a,s,l,o)},e}(ue),ix=QM;var JM=function(){function i(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return i.prototype.getBottomLeft=function(){return this.bottomLeft},i.prototype.getTopLeft=function(){return this.topLeft},i.prototype.getTopRight=function(){return this.topRight},i}(),nx=JM;var uc=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},e3=function(){function i(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return i.prototype.getImage=function(){return this.image},i.prototype.getPossibleCenters=function(){return this.possibleCenters},i.prototype.find=function(e){var t=e!=null&&e.get(dt.TRY_HARDER)!==void 0,r=e!=null&&e.get(dt.PURE_BARCODE)!==void 0,n=this.image,o=n.getHeight(),a=n.getWidth(),s=Math.floor(3*o/(4*i.MAX_MODULES));(s<i.MIN_SKIP||t)&&(s=i.MIN_SKIP);for(var l=!1,d=new Int32Array(5),h=s-1;h<o&&!l;h+=s){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;for(var p=0,g=0;g<a;g++)if(n.get(g,h))(p&1)===1&&p++,d[p]++;else if(p&1)d[p]++;else if(p===4)if(i.foundPatternCross(d)){var _=this.handlePossibleCenter(d,h,g,r);if(_===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var E=this.findRowSkip();E>d[2]&&(h+=E-d[2]-s,g=a-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,p=3;continue}p=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,p=3;else d[++p]++;if(i.foundPatternCross(d)){var _=this.handlePossibleCenter(d,h,a,r);_===!0&&(s=d[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var A=this.selectBestPatterns();return ue.orderBestPatterns(A),new nx(A)},i.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},i.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var n=e[r];if(n===0)return!1;t+=n}if(t<7)return!1;var o=t/7,a=o/2;return Math.abs(o-e[0])<a&&Math.abs(o-e[1])<a&&Math.abs(3*o-e[2])<3*a&&Math.abs(o-e[3])<a&&Math.abs(o-e[4])<a},i.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},i.prototype.crossCheckDiagonal=function(e,t,r,n){for(var o=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&t>=a&&s.get(t-a,e-a);)o[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!s.get(t-a,e-a)&&o[1]<=r;)o[1]++,a++;if(e<a||t<a||o[1]>r)return!1;for(;e>=a&&t>=a&&s.get(t-a,e-a)&&o[0]<=r;)o[0]++,a++;if(o[0]>r)return!1;var l=s.getHeight(),d=s.getWidth();for(a=1;e+a<l&&t+a<d&&s.get(t+a,e+a);)o[2]++,a++;if(e+a>=l||t+a>=d)return!1;for(;e+a<l&&t+a<d&&!s.get(t+a,e+a)&&o[3]<r;)o[3]++,a++;if(e+a>=l||t+a>=d||o[3]>=r)return!1;for(;e+a<l&&t+a<d&&s.get(t+a,e+a)&&o[4]<r;)o[4]++,a++;if(o[4]>=r)return!1;var h=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(h-n)<2*n&&i.foundPatternCross(o)},i.prototype.crossCheckVertical=function(e,t,r,n){for(var o=this.image,a=o.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(t,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(t,l)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&o.get(t,l)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=e+1;l<a&&o.get(t,l);)s[2]++,l++;if(l===a)return NaN;for(;l<a&&!o.get(t,l)&&s[3]<r;)s[3]++,l++;if(l===a||s[3]>=r)return NaN;for(;l<a&&o.get(t,l)&&s[4]<r;)s[4]++,l++;if(s[4]>=r)return NaN;var d=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(d-n)>=2*n?NaN:i.foundPatternCross(s)?i.centerFromEnd(s,l):NaN},i.prototype.crossCheckHorizontal=function(e,t,r,n){for(var o=this.image,a=o.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(l,t);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(l,t)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&o.get(l,t)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=e+1;l<a&&o.get(l,t);)s[2]++,l++;if(l===a)return NaN;for(;l<a&&!o.get(l,t)&&s[3]<r;)s[3]++,l++;if(l===a||s[3]>=r)return NaN;for(;l<a&&o.get(l,t)&&s[4]<r;)s[4]++,l++;if(s[4]>=r)return NaN;var d=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(d-n)>=n?NaN:i.foundPatternCross(s)?i.centerFromEnd(s,l):NaN},i.prototype.handlePossibleCenter=function(e,t,r,n){var o=e[0]+e[1]+e[2]+e[3]+e[4],a=i.centerFromEnd(e,r),s=this.crossCheckVertical(t,Math.floor(a),e[2],o);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],o),!isNaN(a)&&(!n||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],o)))){for(var l=o/7,d=!1,h=this.possibleCenters,p=0,g=h.length;p<g;p++){var _=h[p];if(_.aboutEquals(l,s,a)){h[p]=_.combineEstimate(s,a,l),d=!0;break}}if(!d){var E=new ix(a,s,l);h.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1},i.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var n=null;try{for(var o=uc(this.possibleCenters),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.getCount()>=i.CENTER_QUORUM)if(n==null)n=s;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-s.getX())-Math.abs(n.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return 0},i.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,n,o=0,a=0,s=this.possibleCenters.length;try{for(var l=uc(this.possibleCenters),d=l.next();!d.done;d=l.next()){var h=d.value;h.getCount()>=i.CENTER_QUORUM&&(o++,a+=h.getEstimatedModuleSize())}}catch(A){e={error:A}}finally{try{d&&!d.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}if(o<3)return!1;var p=a/s,g=0;try{for(var _=uc(this.possibleCenters),E=_.next();!E.done;E=_.next()){var h=E.value;g+=Math.abs(h.getEstimatedModuleSize()-p)}}catch(A){r={error:A}}finally{try{E&&!E.done&&(n=_.return)&&n.call(_)}finally{if(r)throw r.error}}return g<=.05*a},i.prototype.selectBestPatterns=function(){var e,t,r,n,o=this.possibleCenters.length;if(o<3)throw new U;var a=this.possibleCenters,s;if(o>3){var l=0,d=0;try{for(var h=uc(this.possibleCenters),p=h.next();!p.done;p=h.next()){var g=p.value,_=g.getEstimatedModuleSize();l+=_,d+=_*_}}catch(X){e={error:X}}finally{try{p&&!p.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}s=l/o;var E=Math.sqrt(d/o-s*s);a.sort(function(X,Q){var re=Math.abs(Q.getEstimatedModuleSize()-s),be=Math.abs(X.getEstimatedModuleSize()-s);return re<be?-1:re>be?1:0});for(var A=Math.max(.2*s,E),N=0;N<a.length&&a.length>3;N++){var F=a[N];Math.abs(F.getEstimatedModuleSize()-s)>A&&(a.splice(N,1),N--)}}if(a.length>3){var l=0;try{for(var P=uc(a),L=P.next();!L.done;L=P.next()){var z=L.value;l+=z.getEstimatedModuleSize()}}catch(Q){r={error:Q}}finally{try{L&&!L.done&&(n=P.return)&&n.call(P)}finally{if(r)throw r.error}}s=l/a.length,a.sort(function(Q,re){if(re.getCount()===Q.getCount()){var be=Math.abs(re.getEstimatedModuleSize()-s),ke=Math.abs(Q.getEstimatedModuleSize()-s);return be<ke?1:be>ke?-1:0}else return re.getCount()-Q.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},i.CENTER_QUORUM=2,i.MIN_SKIP=3,i.MAX_MODULES=57,i}(),ox=e3;var t3=function(){function i(e){this.image=e}return i.prototype.getImage=function(){return this.image},i.prototype.getResultPointCallback=function(){return this.resultPointCallback},i.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(dt.NEED_RESULT_POINT_CALLBACK);var t=new ox(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},i.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),n=e.getBottomLeft(),o=this.calculateModuleSize(t,r,n);if(o<1)throw new U("No pattern found in proccess finder.");var a=i.computeDimension(t,r,n,o),s=on.getProvisionalVersionForDimension(a),l=s.getDimensionForVersion()-7,d=null;if(s.getAlignmentPatternCenters().length>0)for(var h=r.getX()-t.getX()+n.getX(),p=r.getY()-t.getY()+n.getY(),g=1-3/l,_=Math.floor(t.getX()+g*(h-t.getX())),E=Math.floor(t.getY()+g*(p-t.getY())),A=4;A<=16;A<<=1)try{d=this.findAlignmentInRegion(o,_,E,A);break}catch(L){if(!(L instanceof U))throw L}var N=i.createTransform(t,r,n,d,a),F=i.sampleGrid(this.image,N,a),P;return d===null?P=[n,t,r]:P=[n,t,r,d],new ha(F,P)},i.createTransform=function(e,t,r,n,o){var a=o-3.5,s,l,d,h;return n!==null?(s=n.getX(),l=n.getY(),d=a-3,h=d):(s=t.getX()-e.getX()+r.getX(),l=t.getY()-e.getY()+r.getY(),d=a,h=a),oc.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,d,h,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),s,l,r.getX(),r.getY())},i.sampleGrid=function(e,t,r){var n=pa.getInstance();return n.sampleGridWithTransform(e,r,r,t)},i.computeDimension=function(e,t,r,n){var o=st.round(ue.distance(e,t)/n),a=st.round(ue.distance(e,r)/n),s=Math.floor((o+a)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new U("Dimensions could be not found.")}return s},i.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},i.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14},i.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,n){var o=this.sizeOfBlackWhiteBlackRun(e,t,r,n),a=1,s=e-(r-e);s<0?(a=e/(e-s),s=0):s>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(t-(n-t)*a);return a=1,l<0?(a=t/(t-l),l=0):l>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(l-t),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,t,s,l),o-1},i.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,n){var o=Math.abs(n-t)>Math.abs(r-e);if(o){var a=e;e=t,t=a,a=r,r=n,n=a}for(var s=Math.abs(r-e),l=Math.abs(n-t),d=-s/2,h=e<r?1:-1,p=t<n?1:-1,g=0,_=r+h,E=e,A=t;E!==_;E+=h){var N=o?A:E,F=o?E:A;if(g===1===this.image.get(N,F)){if(g===2)return st.distance(E,A,e,t);g++}if(d+=l,d>0){if(A===n)break;A+=p,d-=s}}return g===2?st.distance(r+h,n,e,t):NaN},i.prototype.findAlignmentInRegion=function(e,t,r,n){var o=Math.floor(n*e),a=Math.max(0,t-o),s=Math.min(this.image.getWidth()-1,t+o);if(s-a<e*3)throw new U("Alignment top exceeds estimated module size.");var l=Math.max(0,r-o),d=Math.min(this.image.getHeight()-1,r+o);if(d-l<e*3)throw new U("Alignment bottom exceeds estimated module size.");var h=new rx(this.image,a,l,s-a,d-l,e,this.resultPointCallback);return h.find()},i}(),ax=t3;var r3=function(){function i(){this.decoder=new ex}return i.prototype.getDecoder=function(){return this.decoder},i.prototype.decode=function(e,t){var r,n;if(t!=null&&t.get(dt.PURE_BARCODE)!==void 0){var o=i.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(o,t),n=i.NO_POINTS}else{var a=new ax(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(a.getBits(),t),n=a.getPoints()}r.getOther()instanceof Ld&&r.getOther().applyMirroredCorrection(n);var s=new Ot(r.getText(),r.getRawBytes(),void 0,n,le.QR_CODE,void 0),l=r.getByteSegments();l!==null&&s.putMetadata(ar.BYTE_SEGMENTS,l);var d=r.getECLevel();return d!==null&&s.putMetadata(ar.ERROR_CORRECTION_LEVEL,d),r.hasStructuredAppend()&&(s.putMetadata(ar.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(ar.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},i.prototype.reset=function(){},i.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new U;var n=this.moduleSize(t,e),o=t[1],a=r[1],s=t[0],l=r[0];if(s>=l||o>=a)throw new U;if(a-o!==l-s&&(l=s+(a-o),l>=e.getWidth()))throw new U;var d=Math.round((l-s+1)/n),h=Math.round((a-o+1)/n);if(d<=0||h<=0)throw new U;if(h!==d)throw new U;var p=Math.floor(n/2);o+=p,s+=p;var g=s+Math.floor((d-1)*n)-l;if(g>0){if(g>p)throw new U;s-=g}var _=o+Math.floor((h-1)*n)-a;if(_>0){if(_>p)throw new U;o-=_}for(var E=new rr(d,h),A=0;A<h;A++)for(var N=o+Math.floor(A*n),F=0;F<d;F++)e.get(s+Math.floor(F*n),N)&&E.set(F,A);return E},i.moduleSize=function(e,t){for(var r=t.getHeight(),n=t.getWidth(),o=e[0],a=e[1],s=!0,l=0;o<n&&a<r;){if(s!==t.get(o,a)){if(++l===5)break;s=!s}o++,a++}if(o===n||a===r)throw new U;return(o-e[0])/7},i.NO_POINTS=new Array,i}(),Ts=r3;var i3=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n3=function(){function i(){}return i.prototype.PDF417Common=function(){},i.getBitCountSum=function(e){return st.sum(e)},i.toIntArray=function(e){var t,r;if(e==null||!e.length)return i.EMPTY_INT_ARRAY;var n=new Int32Array(e.length),o=0;try{for(var a=i3(e),s=a.next();!s.done;s=a.next()){var l=s.value;n[o++]=l}}catch(d){t={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n},i.getCodeword=function(e){var t=Mt.binarySearch(i.SYMBOL_TABLE,e&262143);return t<0?-1:(i.CODEWORD_TABLE[t]-1)%i.NUMBER_OF_CODEWORDS},i.NUMBER_OF_CODEWORDS=929,i.MAX_CODEWORDS_IN_BARCODE=i.NUMBER_OF_CODEWORDS-1,i.MIN_ROWS_IN_BARCODE=3,i.MAX_ROWS_IN_BARCODE=90,i.MODULES_IN_CODEWORD=17,i.MODULES_IN_STOP_PATTERN=18,i.BARS_IN_MODULE=8,i.EMPTY_INT_ARRAY=new Int32Array([]),i.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),i.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),i}(),ht=n3;var o3=function(){function i(e,t){this.bits=e,this.points=t}return i.prototype.getBits=function(){return this.bits},i.prototype.getPoints=function(){return this.points},i}(),sx=o3;var a3=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s3=function(){function i(){}return i.detectMultiple=function(e,t,r){var n=e.getBlackMatrix(),o=i.detect(r,n);return o.length||(n=n.clone(),n.rotate180(),o=i.detect(r,n)),new sx(n,o)},i.detect=function(e,t){for(var r,n,o=new Array,a=0,s=0,l=!1;a<t.getHeight();){var d=i.findVertices(t,a,s);if(d[0]==null&&d[3]==null){if(!l)break;l=!1,s=0;try{for(var h=(r=void 0,a3(o)),p=h.next();!p.done;p=h.next()){var g=p.value;g[1]!=null&&(a=Math.trunc(Math.max(a,g[1].getY()))),g[3]!=null&&(a=Math.max(a,Math.trunc(g[3].getY())))}}catch(_){r={error:_}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}a+=i.ROW_STEP;continue}if(l=!0,o.push(d),!e)break;d[2]!=null?(s=Math.trunc(d[2].getX()),a=Math.trunc(d[2].getY())):(s=Math.trunc(d[4].getX()),a=Math.trunc(d[4].getY()))}return o},i.findVertices=function(e,t,r){var n=e.getHeight(),o=e.getWidth(),a=new Array(8);return i.copyToResult(a,i.findRowsWithPattern(e,n,o,t,r,i.START_PATTERN),i.INDEXES_START_PATTERN),a[4]!=null&&(r=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),i.copyToResult(a,i.findRowsWithPattern(e,n,o,t,r,i.STOP_PATTERN),i.INDEXES_STOP_PATTERN),a},i.copyToResult=function(e,t,r){for(var n=0;n<r.length;n++)e[r[n]]=t[n]},i.findRowsWithPattern=function(e,t,r,n,o,a){for(var s=new Array(4),l=!1,d=new Int32Array(a.length);n<t;n+=i.ROW_STEP){var h=i.findGuardPattern(e,o,n,r,!1,a,d);if(h!=null){for(;n>0;){var p=i.findGuardPattern(e,o,--n,r,!1,a,d);if(p!=null)h=p;else{n++;break}}s[0]=new ue(h[0],n),s[1]=new ue(h[1],n),l=!0;break}}var g=n+1;if(l){for(var _=0,p=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);g<t;g++){var h=i.findGuardPattern(e,p[0],g,r,!1,a,d);if(h!=null&&Math.abs(p[0]-h[0])<i.MAX_PATTERN_DRIFT&&Math.abs(p[1]-h[1])<i.MAX_PATTERN_DRIFT)p=h,_=0;else{if(_>i.SKIPPED_ROW_COUNT_MAX)break;_++}}g-=_+1,s[2]=new ue(p[0],g),s[3]=new ue(p[1],g)}return g-n<i.BARCODE_MIN_HEIGHT&&Mt.fill(s,null),s},i.findGuardPattern=function(e,t,r,n,o,a,s){Mt.fillWithin(s,0,s.length,0);for(var l=t,d=0;e.get(l,r)&&l>0&&d++<i.MAX_PIXEL_DRIFT;)l--;for(var h=l,p=0,g=a.length,_=o;h<n;h++){var E=e.get(h,r);if(E!==_)s[p]++;else{if(p===g-1){if(i.patternMatchVariance(s,a,i.MAX_INDIVIDUAL_VARIANCE)<i.MAX_AVG_VARIANCE)return new Int32Array([l,h]);l+=s[0]+s[1],at.arraycopy(s,2,s,0,p-1),s[p-1]=0,s[p]=0,p--}else p++;s[p]=1,_=!_}}return p===g-1&&i.patternMatchVariance(s,a,i.MAX_INDIVIDUAL_VARIANCE)<i.MAX_AVG_VARIANCE?new Int32Array([l,h-1]):null},i.patternMatchVariance=function(e,t,r){for(var n=e.length,o=0,a=0,s=0;s<n;s++)o+=e[s],a+=t[s];if(o<a)return 1/0;var l=o/a;r*=l;for(var d=0,h=0;h<n;h++){var p=e[h],g=t[h]*l,_=p>g?p-g:g-p;if(_>r)return 1/0;d+=_}return d/o},i.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),i.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),i.MAX_AVG_VARIANCE=.42,i.MAX_INDIVIDUAL_VARIANCE=.8,i.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),i.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),i.MAX_PIXEL_DRIFT=3,i.MAX_PATTERN_DRIFT=5,i.SKIPPED_ROW_COUNT_MAX=25,i.ROW_STEP=5,i.BARCODE_MIN_HEIGHT=10,i}(),lx=s3;var l3=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c3=function(){function i(e,t){if(t.length===0)throw new se;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var n=1;n<r&&t[n]===0;)n++;n===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-n),at.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return i.prototype.getCoefficients=function(){return this.coefficients},i.prototype.getDegree=function(){return this.coefficients.length-1},i.prototype.isZero=function(){return this.coefficients[0]===0},i.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},i.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var n=0;try{for(var o=l3(this.coefficients),a=o.next();!a.done;a=o.next()){var s=a.value;n=this.field.add(n,s)}}catch(p){t={error:p}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}for(var l=this.coefficients[0],d=this.coefficients.length,h=1;h<d;h++)l=this.field.add(this.field.multiply(e,l),this.coefficients[h]);return l},i.prototype.add=function(e){if(!this.field.equals(e.field))throw new se("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var n=t;t=r,r=n}var o=new Int32Array(r.length),a=r.length-t.length;at.arraycopy(r,0,o,0,a);for(var s=a;s<r.length;s++)o[s]=this.field.add(t[s-a],r[s]);return new i(this.field,o)},i.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new se("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},i.prototype.multiply=function(e){return e instanceof i?this.multiplyOther(e):this.multiplyScalar(e)},i.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new se("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new i(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,n=e.coefficients,o=n.length,a=new Int32Array(r+o-1),s=0;s<r;s++)for(var l=t[s],d=0;d<o;d++)a[s+d]=this.field.add(a[s+d],this.field.multiply(l,n[d]));return new i(this.field,a)},i.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new i(this.field,t)},i.prototype.multiplyScalar=function(e){if(e===0)return new i(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new i(this.field,r)},i.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new se;if(t===0)return new i(this.field,new Int32Array([0]));for(var r=this.coefficients.length,n=new Int32Array(r+e),o=0;o<r;o++)n[o]=this.field.multiply(this.coefficients[o],t);return new i(this.field,n)},i.prototype.toString=function(){for(var e=new Ae,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},i}(),Xn=c3;var u3=function(){function i(){}return i.prototype.add=function(e,t){return(e+t)%this.modulus},i.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},i.prototype.exp=function(e){return this.expTable[e]},i.prototype.log=function(e){if(e===0)throw new se;return this.logTable[e]},i.prototype.inverse=function(e){if(e===0)throw new ic;return this.expTable[this.modulus-this.logTable[e]-1]},i.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},i.prototype.getSize=function(){return this.modulus},i.prototype.equals=function(e){return e===this},i}(),cx=u3;var d3=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),f3=function(i){d3(e,i);function e(t,r){var n=i.call(this)||this;n.modulus=t,n.expTable=new Int32Array(t),n.logTable=new Int32Array(t);for(var o=1,a=0;a<t;a++)n.expTable[a]=o,o=o*r%t;for(var a=0;a<t-1;a++)n.logTable[n.expTable[a]]=a;return n.zero=new Xn(n,new Int32Array([0])),n.one=new Xn(n,new Int32Array([1])),n}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new se;if(r===0)return this.zero;var n=new Int32Array(t+1);return n[0]=r,new Xn(this,n)},e.PDF417_GF=new e(ht.NUMBER_OF_CODEWORDS,3),e}(cx),ux=f3;var h3=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p3=function(){function i(){this.field=ux.PDF417_GF}return i.prototype.decode=function(e,t,r){for(var n,o,a=new Xn(this.field,e),s=new Int32Array(t),l=!1,d=t;d>0;d--){var h=a.evaluateAt(this.field.exp(d));s[t-d]=h,h!==0&&(l=!0)}if(!l)return 0;var p=this.field.getOne();if(r!=null)try{for(var g=h3(r),_=g.next();!_.done;_=g.next()){var E=_.value,A=this.field.exp(e.length-1-E),N=new Xn(this.field,new Int32Array([this.field.subtract(0,A),1]));p=p.multiply(N)}}catch(be){n={error:be}}finally{try{_&&!_.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}for(var F=new Xn(this.field,s),P=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),F,t),L=P[0],z=P[1],X=this.findErrorLocations(L),Q=this.findErrorMagnitudes(z,L,X),d=0;d<X.length;d++){var re=e.length-1-this.field.log(X[d]);if(re<0)throw Ht.getChecksumInstance();e[re]=this.field.subtract(e[re],Q[d])}return X.length},i.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var n=e;e=t,t=n}for(var o=e,a=t,s=this.field.getZero(),l=this.field.getOne();a.getDegree()>=Math.round(r/2);){var d=o,h=s;if(o=a,s=l,o.isZero())throw Ht.getChecksumInstance();a=d;for(var p=this.field.getZero(),g=o.getCoefficient(o.getDegree()),_=this.field.inverse(g);a.getDegree()>=o.getDegree()&&!a.isZero();){var E=a.getDegree()-o.getDegree(),A=this.field.multiply(a.getCoefficient(a.getDegree()),_);p=p.add(this.field.buildMonomial(E,A)),a=a.subtract(o.multiplyByMonomial(E,A))}l=p.multiply(s).subtract(h).negative()}var N=l.getCoefficient(0);if(N===0)throw Ht.getChecksumInstance();var F=this.field.inverse(N),P=l.multiply(F),L=a.multiply(F);return[P,L]},i.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),n=0,o=1;o<this.field.getSize()&&n<t;o++)e.evaluateAt(o)===0&&(r[n]=this.field.inverse(o),n++);if(n!==t)throw Ht.getChecksumInstance();return r},i.prototype.findErrorMagnitudes=function(e,t,r){for(var n=t.getDegree(),o=new Int32Array(n),a=1;a<=n;a++)o[n-a]=this.field.multiply(a,t.getCoefficient(a));for(var s=new Xn(this.field,o),l=r.length,d=new Int32Array(l),a=0;a<l;a++){var h=this.field.inverse(r[a]),p=this.field.subtract(0,e.evaluateAt(h)),g=this.field.inverse(s.evaluateAt(h));d[a]=this.field.multiply(p,g)}return d},i}(),dg=p3;var m3=function(){function i(e,t,r,n,o){e instanceof i?this.constructor_2(e):this.constructor_1(e,t,r,n,o)}return i.prototype.constructor_1=function(e,t,r,n,o){var a=t==null||r==null,s=n==null||o==null;if(a&&s)throw new U;a?(t=new ue(0,n.getY()),r=new ue(0,o.getY())):s&&(n=new ue(e.getWidth()-1,t.getY()),o=new ue(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))},i.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},i.merge=function(e,t){return e==null?t:t==null?e:new i(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},i.prototype.addMissingRows=function(e,t,r){var n=this.topLeft,o=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var l=r?this.topLeft:this.topRight,d=Math.trunc(l.getY()-e);d<0&&(d=0);var h=new ue(l.getX(),d);r?n=h:a=h}if(t>0){var p=r?this.bottomLeft:this.bottomRight,g=Math.trunc(p.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);var _=new ue(p.getX(),g);r?o=_:s=_}return new i(this.image,n,o,a,s)},i.prototype.getMinX=function(){return this.minX},i.prototype.getMaxX=function(){return this.maxX},i.prototype.getMinY=function(){return this.minY},i.prototype.getMaxY=function(){return this.maxY},i.prototype.getTopLeft=function(){return this.topLeft},i.prototype.getTopRight=function(){return this.topRight},i.prototype.getBottomLeft=function(){return this.bottomLeft},i.prototype.getBottomRight=function(){return this.bottomRight},i}(),dc=m3;var g3=function(){function i(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return i.prototype.getColumnCount=function(){return this.columnCount},i.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},i.prototype.getRowCount=function(){return this.rowCount},i.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},i.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},i}(),dx=g3;var v3=function(){function i(){this.buffer=""}return i.form=function(e,t){var r=-1;function n(a,s,l,d,h,p){if(a==="%%")return"%";if(t[++r]!==void 0){a=d?parseInt(d.substr(1)):void 0;var g=h?parseInt(h.substr(1)):void 0,_;switch(p){case"s":_=t[r];break;case"c":_=t[r][0];break;case"f":_=parseFloat(t[r]).toFixed(a);break;case"p":_=parseFloat(t[r]).toPrecision(a);break;case"e":_=parseFloat(t[r]).toExponential(a);break;case"x":_=parseInt(t[r]).toString(g||16);break;case"d":_=parseFloat(parseInt(t[r],g||10).toPrecision(a)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(g);for(var E=parseInt(l),A=l&&l[0]+""=="0"?"0":" ";_.length<E;)_=s!==void 0?_+A:A+_;return _}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,n)},i.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=i.form(e,t)},i.prototype.toString=function(){return this.buffer},i}(),Ds=v3;var _3=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y3=function(){function i(e){this.boundingBox=new dc(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return i.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<i.MAX_NEARBY_DISTANCE;r++){var n=this.imageRowToCodewordIndex(e)-r;if(n>=0&&(t=this.codewords[n],t!=null)||(n=this.imageRowToCodewordIndex(e)+r,n<this.codewords.length&&(t=this.codewords[n],t!=null)))return t}return null},i.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},i.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},i.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},i.prototype.getBoundingBox=function(){return this.boundingBox},i.prototype.getCodewords=function(){return this.codewords},i.prototype.toString=function(){var e,t,r=new Ds,n=0;try{for(var o=_3(this.codewords),a=o.next();!a.done;a=o.next()){var s=a.value;if(s==null){r.format("%3d:    |   %n",n++);continue}r.format("%3d: %3d|%3d%n",n++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r.toString()},i.MAX_NEARBY_DISTANCE=5,i}(),Bd=y3;var b3=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x3=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var r=t.call(i),n,o=[],a;try{for(;(e===void 0||e-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},E3=function(){function i(){this.values=new Map}return i.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},i.prototype.getValue=function(){var e,t,r=-1,n=new Array,o=function(p,g){var _={getKey:function(){return p},getValue:function(){return g}};_.getValue()>r?(r=_.getValue(),n=[],n.push(_.getKey())):_.getValue()===r&&n.push(_.getKey())};try{for(var a=b3(this.values.entries()),s=a.next();!s.done;s=a.next()){var l=x3(s.value,2),d=l[0],h=l[1];o(d,h)}}catch(p){e={error:p}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return ht.toIntArray(n)},i.prototype.getConfidence=function(e){return this.values.get(e)},i}(),va=E3;var w3=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fg=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},C3=function(i){w3(e,i);function e(t,r){var n=i.call(this,t)||this;return n._isLeft=r,n}return e.prototype.setRowNumbers=function(){var t,r;try{for(var n=fg(this.getCodewords()),o=n.next();!o.done;o=n.next()){var a=o.value;a?.setRowNumberAsRowIndicatorColumn()}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var n=this.getBoundingBox(),o=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=-1,h=1,p=0,g=s;g<l;g++)if(r[g]!=null){var _=r[g],E=_.getRowNumber()-d;if(E===0)p++;else if(E===1)h=Math.max(h,p),p=1,d=_.getRowNumber();else if(E<0||_.getRowNumber()>=t.getRowCount()||E>g)r[g]=null;else{var A=void 0;h>2?A=(h-2)*E:A=E;for(var N=A>=g,F=1;F<=A&&!N;F++)N=r[g-F]!=null;N?r[g]=null:(d=_.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var t,r,n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);var o=new Int32Array(n.getRowCount());try{for(var a=fg(this.getCodewords()),s=a.next();!s.done;s=a.next()){var l=s.value;if(l!=null){var d=l.getRowNumber();if(d>=o.length)continue;o[d]++}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(n.getY())),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=this.getCodewords(),d=-1,h=1,p=0,g=a;g<s;g++)if(l[g]!=null){var _=l[g];_.setRowNumberAsRowIndicatorColumn();var E=_.getRowNumber()-d;E===0?p++:E===1?(h=Math.max(h,p),p=1,d=_.getRowNumber()):_.getRowNumber()>=t.getRowCount()?l[g]=null:(d=_.getRowNumber(),p=1)}},e.prototype.getBarcodeMetadata=function(){var t,r,n=this.getCodewords(),o=new va,a=new va,s=new va,l=new va;try{for(var d=fg(n),h=d.next();!h.done;h=d.next()){var p=h.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var g=p.getValue()%30,_=p.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:a.setValue(g*3+1);break;case 1:l.setValue(g/3),s.setValue(g%3);break;case 2:o.setValue(g+1);break}}}}catch(A){t={error:A}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}if(o.getValue().length===0||a.getValue().length===0||s.getValue().length===0||l.getValue().length===0||o.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<ht.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>ht.MAX_ROWS_IN_BARCODE)return null;var E=new dx(o.getValue()[0],a.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(n,E),E},e.prototype.removeIncorrectCodewords=function(t,r){for(var n=0;n<t.length;n++){var o=t[n];if(t[n]!=null){var a=o.getValue()%30,s=o.getRowNumber();if(s>r.getRowCount()){t[n]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:a*3+1!==r.getRowCountUpperPart()&&(t[n]=null);break;case 1:(Math.trunc(a/3)!==r.getErrorCorrectionLevel()||a%3!==r.getRowCountLowerPart())&&(t[n]=null);break;case 2:a+1!==r.getColumnCount()&&(t[n]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+i.prototype.toString.call(this)},e}(Bd),hg=C3;var I3=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},A3=function(){function i(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return i.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=ht.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},i.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},i.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),n=0;n<r.length;n++)r[n]!=null&&(r[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,r));return e},i.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},i.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var n=1;n<=this.barcodeColumnCount;n++){var o=this.detectionResultColumns[n].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[n].getCodewords()[r]=null))}}},i.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var n=t[r].getRowNumber(),o=0,a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[r];s!=null&&(o=i.adjustRowNumberIfValid(n,o,s),s.hasValidRowNumber()||e++)}return e},i.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var n=t[r].getRowNumber(),o=0,a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[r];s!=null&&(o=i.adjustRowNumberIfValid(n,o,s),s.hasValidRowNumber()||e++)}return e},i.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},i.prototype.adjustRowNumbers=function(e,t,r){var n,o;if(this.detectionResultColumns[e-1]!=null){var a=r[t],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var d=new Array(14);d[2]=s[t],d[3]=l[t],t>0&&(d[0]=r[t-1],d[4]=s[t-1],d[5]=l[t-1]),t>1&&(d[8]=r[t-2],d[10]=s[t-2],d[11]=l[t-2]),t<r.length-1&&(d[1]=r[t+1],d[6]=s[t+1],d[7]=l[t+1]),t<r.length-2&&(d[9]=r[t+2],d[12]=s[t+2],d[13]=l[t+2]);try{for(var h=I3(d),p=h.next();!p.done;p=h.next()){var g=p.value;if(i.adjustRowNumber(a,g))return}}catch(_){n={error:_}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}}},i.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},i.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},i.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},i.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},i.prototype.setBoundingBox=function(e){this.boundingBox=e},i.prototype.getBoundingBox=function(){return this.boundingBox},i.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},i.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},i.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Ds,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var n=0;n<this.barcodeColumnCount+2;n++){if(this.detectionResultColumns[n]==null){t.format("    |   ");continue}var o=this.detectionResultColumns[n].getCodewords()[r];if(o==null){t.format("    |   ");continue}t.format(" %3d|%3d",o.getRowNumber(),o.getValue())}t.format("%n")}return t.toString()},i}(),fx=A3;var S3=function(){function i(e,t,r,n){this.rowNumber=i.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(n)}return i.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},i.prototype.isValidRowNumber=function(e){return e!==i.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},i.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},i.prototype.getWidth=function(){return this.endX-this.startX},i.prototype.getStartX=function(){return this.startX},i.prototype.getEndX=function(){return this.endX},i.prototype.getBucket=function(){return this.bucket},i.prototype.getValue=function(){return this.value},i.prototype.getRowNumber=function(){return this.rowNumber},i.prototype.setRowNumber=function(e){this.rowNumber=e},i.prototype.toString=function(){return this.rowNumber+"|"+this.value},i.BARCODE_ROW_UNKNOWN=-1,i}(),hx=S3;var T3=function(){function i(){}return i.initialize=function(){for(var e=0;e<ht.SYMBOL_TABLE.length;e++)for(var t=ht.SYMBOL_TABLE[e],r=t&1,n=0;n<ht.BARS_IN_MODULE;n++){for(var o=0;(t&1)===r;)o+=1,t>>=1;r=t&1,i.RATIOS_TABLE[e]||(i.RATIOS_TABLE[e]=new Array(ht.BARS_IN_MODULE)),i.RATIOS_TABLE[e][ht.BARS_IN_MODULE-n-1]=Math.fround(o/ht.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},i.getDecodedValue=function(e){var t=i.getDecodedCodewordValue(i.sampleBitCounts(e));return t!==-1?t:i.getClosestDecodedValue(e)},i.sampleBitCounts=function(e){for(var t=st.sum(e),r=new Int32Array(ht.BARS_IN_MODULE),n=0,o=0,a=0;a<ht.MODULES_IN_CODEWORD;a++){var s=t/(2*ht.MODULES_IN_CODEWORD)+a*t/ht.MODULES_IN_CODEWORD;o+e[n]<=s&&(o+=e[n],n++),r[n]++}return r},i.getDecodedCodewordValue=function(e){var t=i.getBitValue(e);return ht.getCodeword(t)===-1?-1:t},i.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var n=0;n<e[r];n++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},i.getClosestDecodedValue=function(e){var t=st.sum(e),r=new Array(ht.BARS_IN_MODULE);if(t>1)for(var n=0;n<r.length;n++)r[n]=Math.fround(e[n]/t);var o=nc.MAX_VALUE,a=-1;this.bSymbolTableReady||i.initialize();for(var s=0;s<i.RATIOS_TABLE.length;s++){for(var l=0,d=i.RATIOS_TABLE[s],h=0;h<ht.BARS_IN_MODULE;h++){var p=Math.fround(d[h]-r[h]);if(l+=Math.fround(p*p),l>=o)break}l<o&&(o=l,a=ht.SYMBOL_TABLE[s])}return a},i.bSymbolTableReady=!1,i.RATIOS_TABLE=new Array(ht.SYMBOL_TABLE.length).map(function(e){return e=new Array(ht.BARS_IN_MODULE)}),i}(),px=T3;var D3=function(){function i(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return i.prototype.getSegmentIndex=function(){return this.segmentIndex},i.prototype.setSegmentIndex=function(e){this.segmentIndex=e},i.prototype.getFileId=function(){return this.fileId},i.prototype.setFileId=function(e){this.fileId=e},i.prototype.getOptionalData=function(){return this.optionalData},i.prototype.setOptionalData=function(e){this.optionalData=e},i.prototype.isLastSegment=function(){return this.lastSegment},i.prototype.setLastSegment=function(e){this.lastSegment=e},i.prototype.getSegmentCount=function(){return this.segmentCount},i.prototype.setSegmentCount=function(e){this.segmentCount=e},i.prototype.getSender=function(){return this.sender||null},i.prototype.setSender=function(e){this.sender=e},i.prototype.getAddressee=function(){return this.addressee||null},i.prototype.setAddressee=function(e){this.addressee=e},i.prototype.getFileName=function(){return this.fileName},i.prototype.setFileName=function(e){this.fileName=e},i.prototype.getFileSize=function(){return this.fileSize},i.prototype.setFileSize=function(e){this.fileSize=e},i.prototype.getChecksum=function(){return this.checksum},i.prototype.setChecksum=function(e){this.checksum=e},i.prototype.getTimestamp=function(){return this.timestamp},i.prototype.setTimestamp=function(e){this.timestamp=e},i}(),pg=D3;var R3=function(){function i(){}return i.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},i}(),mg=R3;var O3=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),M3=function(i){O3(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Gt),mx=M3;var P3=function(){function i(){}return i.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},i.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new mx;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new ys;if(r===0)return;for(var n=0;n<r;n++)this.write(e[t+n])},i.prototype.flush=function(){},i.prototype.close=function(){},i}(),gx=P3;var N3=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),F3=function(i){N3(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(Gt),vx=F3;var k3=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),L3=function(i){k3(e,i);function e(t){t===void 0&&(t=32);var r=i.call(this)||this;if(r.count=0,t<0)throw new se("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,n=r<<1;if(n-t<0&&(n=t),n<0){if(t<0)throw new vx;n=Be.MAX_VALUE}this.buf=Mt.copyOfUint8Array(this.buf,n)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,n){if(r<0||r>t.length||n<0||r+n-t.length>0)throw new ys;this.ensureCapacity(this.count+n),at.arraycopy(t,r,this.buf,this.count,n),this.count+=n},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Mt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(gx),_x=L3;var ir=function(i){return i[i.ALPHA=0]="ALPHA",i[i.LOWER=1]="LOWER",i[i.MIXED=2]="MIXED",i[i.PUNCT=3]="PUNCT",i[i.ALPHA_SHIFT=4]="ALPHA_SHIFT",i[i.PUNCT_SHIFT=5]="PUNCT_SHIFT",i}(ir||{});function yx(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Vd;function _o(i){if(typeof Vd>"u"&&(Vd=yx()),Vd===null)throw new Error("BigInt is not supported!");return Vd(i)}function B3(){var i=[];i[0]=_o(1);var e=_o(900);i[1]=e;for(var t=2;t<16;t++)i[t]=i[t-1]*e;return i}var V3=function(){function i(){}return i.decode=function(e,t){var r=new Ae(""),n=tr.ISO8859_1;r.enableDecoding(n);for(var o=1,a=e[o++],s=new pg;o<e[0];){switch(a){case i.TEXT_COMPACTION_MODE_LATCH:o=i.textCompaction(e,o,r);break;case i.BYTE_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:o=i.byteCompaction(a,e,n,o,r);break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case i.NUMERIC_COMPACTION_MODE_LATCH:o=i.numericCompaction(e,o,r);break;case i.ECI_CHARSET:var l=tr.getCharacterSetECIByValue(e[o++]);break;case i.ECI_GENERAL_PURPOSE:o+=2;break;case i.ECI_USER_DEFINED:o++;break;case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=i.decodeMacroBlock(e,o,s);break;case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:throw new ee;default:o--,o=i.textCompaction(e,o,r);break}if(o<e.length)a=e[o++];else throw ee.getFormatInstance()}if(r.length()===0)throw ee.getFormatInstance();var d=new zn(null,r.toString(),null,t);return d.setOther(s),d},i.decodeMacroBlock=function(e,t,r){if(t+i.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ee.getFormatInstance();for(var n=new Int32Array(i.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<i.NUMBER_OF_SEQUENCE_CODEWORDS;o++,t++)n[o]=e[t];r.setSegmentIndex(Be.parseInt(i.decodeBase900toBase10(n,i.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new Ae;t=i.textCompaction(e,t,a),r.setFileId(a.toString());var s=-1;for(e[t]===i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case i.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Ae;t=i.textCompaction(e,t+1,l),r.setFileName(l.toString());break;case i.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var d=new Ae;t=i.textCompaction(e,t+1,d),r.setSender(d.toString());break;case i.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new Ae;t=i.textCompaction(e,t+1,h),r.setAddressee(h.toString());break;case i.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new Ae;t=i.numericCompaction(e,t+1,p),r.setSegmentCount(Be.parseInt(p.toString()));break;case i.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var g=new Ae;t=i.numericCompaction(e,t+1,g),r.setTimestamp(mg.parseLong(g.toString()));break;case i.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var _=new Ae;t=i.numericCompaction(e,t+1,_),r.setChecksum(Be.parseInt(_.toString()));break;case i.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var E=new Ae;t=i.numericCompaction(e,t+1,E),r.setFileSize(mg.parseLong(E.toString()));break;default:throw ee.getFormatInstance()}break;case i.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw ee.getFormatInstance()}if(s!==-1){var A=t-s;r.isLastSegment()&&A--,r.setOptionalData(Mt.copyOfRange(e,s,s+A))}return t},i.textCompaction=function(e,t,r){for(var n=new Int32Array((e[0]-t)*2),o=new Int32Array((e[0]-t)*2),a=0,s=!1;t<e[0]&&!s;){var l=e[t++];if(l<i.TEXT_COMPACTION_MODE_LATCH)n[a]=l/30,n[a+1]=l%30,a+=2;else switch(l){case i.TEXT_COMPACTION_MODE_LATCH:n[a++]=i.TEXT_COMPACTION_MODE_LATCH;break;case i.BYTE_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.NUMERIC_COMPACTION_MODE_LATCH:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[a]=i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[t++],o[a]=l,a++;break}}return i.decodeTextCompaction(n,o,a,r),t},i.decodeTextCompaction=function(e,t,r,n){for(var o=ir.ALPHA,a=ir.ALPHA,s=0;s<r;){var l=e[s],d="";switch(o){case ir.ALPHA:if(l<26)d=String.fromCharCode(65+l);else switch(l){case 26:d=" ";break;case i.LL:o=ir.LOWER;break;case i.ML:o=ir.MIXED;break;case i.PS:a=o,o=ir.PUNCT_SHIFT;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case i.TEXT_COMPACTION_MODE_LATCH:o=ir.ALPHA;break}break;case ir.LOWER:if(l<26)d=String.fromCharCode(97+l);else switch(l){case 26:d=" ";break;case i.AS:a=o,o=ir.ALPHA_SHIFT;break;case i.ML:o=ir.MIXED;break;case i.PS:a=o,o=ir.PUNCT_SHIFT;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case i.TEXT_COMPACTION_MODE_LATCH:o=ir.ALPHA;break}break;case ir.MIXED:if(l<i.PL)d=i.MIXED_CHARS[l];else switch(l){case i.PL:o=ir.PUNCT;break;case 26:d=" ";break;case i.LL:o=ir.LOWER;break;case i.AL:o=ir.ALPHA;break;case i.PS:a=o,o=ir.PUNCT_SHIFT;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case i.TEXT_COMPACTION_MODE_LATCH:o=ir.ALPHA;break}break;case ir.PUNCT:if(l<i.PAL)d=i.PUNCT_CHARS[l];else switch(l){case i.PAL:o=ir.ALPHA;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case i.TEXT_COMPACTION_MODE_LATCH:o=ir.ALPHA;break}break;case ir.ALPHA_SHIFT:if(o=a,l<26)d=String.fromCharCode(65+l);else switch(l){case 26:d=" ";break;case i.TEXT_COMPACTION_MODE_LATCH:o=ir.ALPHA;break}break;case ir.PUNCT_SHIFT:if(o=a,l<i.PAL)d=i.PUNCT_CHARS[l];else switch(l){case i.PAL:o=ir.ALPHA;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case i.TEXT_COMPACTION_MODE_LATCH:o=ir.ALPHA;break}break}d!==""&&n.append(d),s++}},i.byteCompaction=function(e,t,r,n,o){var a=new _x,s=0,l=0,d=!1;switch(e){case i.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),p=t[n++];n<t[0]&&!d;)switch(h[s++]=p,l=900*l+p,p=t[n++],p){case i.TEXT_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH:case i.NUMERIC_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:n--,d=!0;break;default:if(s%5===0&&s>0){for(var g=0;g<6;++g)a.write(Number(_o(l)>>_o(8*(5-g))));l=0,s=0}break}n===t[0]&&p<i.TEXT_COMPACTION_MODE_LATCH&&(h[s++]=p);for(var _=0;_<s;_++)a.write(h[_]);break;case i.BYTE_COMPACTION_MODE_LATCH_6:for(;n<t[0]&&!d;){var E=t[n++];if(E<i.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+E;else switch(E){case i.TEXT_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH:case i.NUMERIC_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:n--,d=!0;break}if(s%5===0&&s>0){for(var g=0;g<6;++g)a.write(Number(_o(l)>>_o(8*(5-g))));l=0,s=0}}break}return o.append(Vr.decode(a.toByteArray(),r)),n},i.numericCompaction=function(e,t,r){for(var n=0,o=!1,a=new Int32Array(i.MAX_NUMERIC_CODEWORDS);t<e[0]&&!o;){var s=e[t++];if(t===e[0]&&(o=!0),s<i.TEXT_COMPACTION_MODE_LATCH)a[n]=s,n++;else switch(s){case i.TEXT_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:t--,o=!0;break}(n%i.MAX_NUMERIC_CODEWORDS===0||s===i.NUMERIC_COMPACTION_MODE_LATCH||o)&&n>0&&(r.append(i.decodeBase900toBase10(a,n)),n=0)}return t},i.decodeBase900toBase10=function(e,t){for(var r=_o(0),n=0;n<t;n++)r+=i.EXP900[t-n-1]*_o(e[n]);var o=r.toString();if(o.charAt(0)!=="1")throw new ee;return o.substring(1)},i.TEXT_COMPACTION_MODE_LATCH=900,i.BYTE_COMPACTION_MODE_LATCH=901,i.NUMERIC_COMPACTION_MODE_LATCH=902,i.BYTE_COMPACTION_MODE_LATCH_6=924,i.ECI_USER_DEFINED=925,i.ECI_GENERAL_PURPOSE=926,i.ECI_CHARSET=927,i.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,i.MACRO_PDF417_TERMINATOR=922,i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,i.MAX_NUMERIC_CODEWORDS=15,i.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,i.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,i.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,i.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,i.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,i.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,i.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,i.PL=25,i.LL=27,i.AS=27,i.ML=28,i.AL=28,i.PS=29,i.PAL=29,i.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,i.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",i.EXP900=yx()?B3():[],i.NUMBER_OF_SEQUENCE_CODEWORDS=2,i}(),gg=V3;var fc=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U3=function(){function i(){}return i.decode=function(e,t,r,n,o,a,s){for(var l=new dc(e,t,r,n,o),d=null,h=null,p,g=!0;;g=!1){if(t!=null&&(d=i.getRowIndicatorColumn(e,l,t,!0,a,s)),n!=null&&(h=i.getRowIndicatorColumn(e,l,n,!1,a,s)),p=i.merge(d,h),p==null)throw U.getNotFoundInstance();var _=p.getBoundingBox();if(g&&_!=null&&(_.getMinY()<l.getMinY()||_.getMaxY()>l.getMaxY()))l=_;else break}p.setBoundingBox(l);var E=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,d),p.setDetectionResultColumn(E,h);for(var A=d!=null,N=1;N<=E;N++){var F=A?N:E-N;if(p.getDetectionResultColumn(F)===void 0){var P=void 0;F===0||F===E?P=new hg(l,F===0):P=new Bd(l),p.setDetectionResultColumn(F,P);for(var L=-1,z=L,X=l.getMinY();X<=l.getMaxY();X++){if(L=i.getStartColumn(p,F,X,A),L<0||L>l.getMaxX()){if(z===-1)continue;L=z}var Q=i.detectCodeword(e,l.getMinX(),l.getMaxX(),A,L,X,a,s);Q!=null&&(P.setCodeword(X,Q),z=L,a=Math.min(a,Q.getWidth()),s=Math.max(s,Q.getWidth()))}}}return i.createDecoderResult(p)},i.merge=function(e,t){if(e==null&&t==null)return null;var r=i.getBarcodeMetadata(e,t);if(r==null)return null;var n=dc.merge(i.adjustBoundingBox(e),i.adjustBoundingBox(t));return new fx(r,n)},i.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var n=e.getRowHeights();if(n==null)return null;var o=i.getMax(n),a=0;try{for(var s=fc(n),l=s.next();!l.done;l=s.next()){var d=l.value;if(a+=o-d,d>0)break}}catch(_){t={error:_}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}for(var h=e.getCodewords(),p=0;a>0&&h[p]==null;p++)a--;for(var g=0,p=n.length-1;p>=0&&(g+=o-n[p],!(n[p]>0));p--);for(var p=h.length-1;g>0&&h[p]==null;p--)g--;return e.getBoundingBox().addMissingRows(a,g,e.isLeft())},i.getMax=function(e){var t,r,n=-1;try{for(var o=fc(e),a=o.next();!a.done;a=o.next()){var s=a.value;n=Math.max(n,s)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},i.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var n;return t==null||(n=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r},i.getRowIndicatorColumn=function(e,t,r,n,o,a){for(var s=new hg(t,n),l=0;l<2;l++)for(var d=l===0?1:-1,h=Math.trunc(Math.trunc(r.getX())),p=Math.trunc(Math.trunc(r.getY()));p<=t.getMaxY()&&p>=t.getMinY();p+=d){var g=i.detectCodeword(e,0,e.getWidth(),n,h,p,o,a);g!=null&&(s.setCodeword(p,g),n?h=g.getStartX():h=g.getEndX())}return s},i.adjustCodewordCount=function(e,t){var r=t[0][1],n=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-i.getNumberOfECCodeWords(e.getBarcodeECLevel());if(n.length===0){if(o<1||o>ht.MAX_CODEWORDS_IN_BARCODE)throw U.getNotFoundInstance();r.setValue(o)}else n[0]!==o&&r.setValue(o)},i.createDecoderResult=function(e){var t=i.createBarcodeMatrix(e);i.adjustCodewordCount(e,t);for(var r=new Array,n=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var d=t[s][l+1].getValue(),h=s*e.getBarcodeColumnCount()+l;d.length===0?r.push(h):d.length===1?n[h]=d[0]:(a.push(h),o.push(d))}for(var p=new Array(o.length),g=0;g<p.length;g++)p[g]=o[g];return i.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),n,ht.toIntArray(r),ht.toIntArray(a),p)},i.createDecoderResultFromAmbiguousValues=function(e,t,r,n,o){for(var a=new Int32Array(n.length),s=100;s-- >0;){for(var l=0;l<a.length;l++)t[n[l]]=o[l][a[l]];try{return i.decodeCodewords(t,e,r)}catch(h){var d=h instanceof Ht;if(!d)throw h}if(a.length===0)throw Ht.getChecksumInstance();for(var l=0;l<a.length;l++)if(a[l]<o[l].length-1){a[l]++;break}else if(a[l]=0,l===a.length-1)throw Ht.getChecksumInstance()}throw Ht.getChecksumInstance()},i.createBarcodeMatrix=function(e){for(var t,r,n,o,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<a.length;s++)for(var l=0;l<a[s].length;l++)a[s][l]=new va;var d=0;try{for(var h=fc(e.getDetectionResultColumns()),p=h.next();!p.done;p=h.next()){var g=p.value;if(g!=null)try{for(var _=(n=void 0,fc(g.getCodewords())),E=_.next();!E.done;E=_.next()){var A=E.value;if(A!=null){var N=A.getRowNumber();if(N>=0){if(N>=a.length)continue;a[N][d].setValue(A.getValue())}}}}catch(F){n={error:F}}finally{try{E&&!E.done&&(o=_.return)&&o.call(_)}finally{if(n)throw n.error}}d++}}catch(F){t={error:F}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}return a},i.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},i.getStartColumn=function(e,t,r,n){var o,a,s=n?1:-1,l=null;if(i.isValidBarcodeColumn(e,t-s)&&(l=e.getDetectionResultColumn(t-s).getCodeword(r)),l!=null)return n?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(t).getCodewordNearby(r),l!=null)return n?l.getStartX():l.getEndX();if(i.isValidBarcodeColumn(e,t-s)&&(l=e.getDetectionResultColumn(t-s).getCodewordNearby(r)),l!=null)return n?l.getEndX():l.getStartX();for(var d=0;i.isValidBarcodeColumn(e,t-s);){t-=s;try{for(var h=(o=void 0,fc(e.getDetectionResultColumn(t).getCodewords())),p=h.next();!p.done;p=h.next()){var g=p.value;if(g!=null)return(n?g.getEndX():g.getStartX())+s*d*(g.getEndX()-g.getStartX())}}catch(_){o={error:_}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}d++}return n?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},i.detectCodeword=function(e,t,r,n,o,a,s,l){o=i.adjustCodewordStartColumn(e,t,r,n,o,a);var d=i.getModuleBitCount(e,t,r,n,o,a);if(d==null)return null;var h,p=st.sum(d);if(n)h=o+p;else{for(var g=0;g<d.length/2;g++){var _=d[g];d[g]=d[d.length-1-g],d[d.length-1-g]=_}h=o,o=h-p}if(!i.checkCodewordSkew(p,s,l))return null;var E=px.getDecodedValue(d),A=ht.getCodeword(E);return A===-1?null:new hx(o,h,i.getCodewordBucketNumber(E),A)},i.getModuleBitCount=function(e,t,r,n,o,a){for(var s=o,l=new Int32Array(8),d=0,h=n?1:-1,p=n;(n?s<r:s>=t)&&d<l.length;)e.get(s,a)===p?(l[d]++,s+=h):(d++,p=!p);return d===l.length||s===(n?r:t)&&d===l.length-1?l:null},i.getNumberOfECCodeWords=function(e){return 2<<e},i.adjustCodewordStartColumn=function(e,t,r,n,o,a){for(var s=o,l=n?-1:1,d=0;d<2;d++){for(;(n?s>=t:s<r)&&n===e.get(s,a);){if(Math.abs(o-s)>i.CODEWORD_SKEW_SIZE)return o;s+=l}l=-l,n=!n}return s},i.checkCodewordSkew=function(e,t,r){return t-i.CODEWORD_SKEW_SIZE<=e&&e<=r+i.CODEWORD_SKEW_SIZE},i.decodeCodewords=function(e,t,r){if(e.length===0)throw ee.getFormatInstance();var n=1<<t+1,o=i.correctErrors(e,r,n);i.verifyCodewordCount(e,n);var a=gg.decode(e,""+t);return a.setErrorsCorrected(o),a.setErasures(r.length),a},i.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+i.MAX_ERRORS||r<0||r>i.MAX_EC_CODEWORDS)throw Ht.getChecksumInstance();return i.errorCorrection.decode(e,r,t)},i.verifyCodewordCount=function(e,t){if(e.length<4)throw ee.getFormatInstance();var r=e[0];if(r>e.length)throw ee.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw ee.getFormatInstance()},i.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,n=t.length-1;!((e&1)!==r&&(r=e&1,n--,n<0));)t[n]++,e>>=1;return t},i.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},i.getCodewordBucketNumber_number=function(e){return i.getCodewordBucketNumber(i.getBitCountForCodeword(e))},i.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},i.toString=function(e){for(var t=new Ds,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var n=0;n<e[r].length;n++){var o=e[r][n];o.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()},i.CODEWORD_SKEW_SIZE=2,i.MAX_ERRORS=3,i.MAX_EC_CODEWORDS=512,i.errorCorrection=new dg,i}(),bx=U3;var z3=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j3=function(){function i(){}return i.prototype.decode=function(e,t){t===void 0&&(t=null);var r=i.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw U.getNotFoundInstance();return r[0]},i.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return i.decode(e,t,!0)}catch(r){throw r instanceof ee||r instanceof Ht?U.getNotFoundInstance():r}},i.decode=function(e,t,r){var n,o,a=new Array,s=lx.detectMultiple(e,t,r);try{for(var l=z3(s.getPoints()),d=l.next();!d.done;d=l.next()){var h=d.value,p=bx.decode(s.getBits(),h[4],h[5],h[6],h[7],i.getMinCodewordWidth(h),i.getMaxCodewordWidth(h)),g=new Ot(p.getText(),p.getRawBytes(),void 0,h,le.PDF_417);g.putMetadata(ar.ERROR_CORRECTION_LEVEL,p.getECLevel());var _=p.getOther();_!=null&&g.putMetadata(ar.PDF417_EXTRA_METADATA,_),a.push(g)}}catch(E){n={error:E}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return a.map(function(E){return E})},i.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},i.getMinWidth=function(e,t){return e==null||t==null?Be.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},i.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(i.getMaxWidth(e[0],e[4]),i.getMaxWidth(e[6],e[2])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN),Math.max(i.getMaxWidth(e[1],e[5]),i.getMaxWidth(e[7],e[3])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN)))},i.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(i.getMinWidth(e[0],e[4]),i.getMinWidth(e[6],e[2])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN),Math.min(i.getMinWidth(e[1],e[5]),i.getMinWidth(e[7],e[3])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN)))},i.prototype.reset=function(){},i}(),Rs=j3;var G3=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),H3=function(i){G3(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.kind="ReaderException",e}(Gt),Ud=H3;var xx=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W3=function(){function i(){}return i.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},i.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},i.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(dt.TRY_HARDER)!==void 0,r=e==null?null:e.get(dt.POSSIBLE_FORMATS),n=new Array;if(r!=null){var o=r.some(function(a){return a===le.UPC_A||a===le.UPC_E||a===le.EAN_13||a===le.EAN_8||a===le.CODABAR||a===le.CODE_39||a===le.CODE_93||a===le.CODE_128||a===le.ITF||a===le.RSS_14||a===le.RSS_EXPANDED});o&&!t&&n.push(new vo(e)),r.includes(le.QR_CODE)&&n.push(new Ts),r.includes(le.DATA_MATRIX)&&n.push(new Ss),r.includes(le.AZTEC)&&n.push(new Es),r.includes(le.PDF_417)&&n.push(new Rs),o&&t&&n.push(new vo(e))}n.length===0&&(t||n.push(new vo(e)),n.push(new Ts),n.push(new Ss),n.push(new Es),n.push(new Rs),t&&n.push(new vo(e))),this.readers=n},i.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=xx(this.readers),n=r.next();!n.done;n=r.next()){var o=n.value;o.reset()}}catch(a){e={error:a}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},i.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new Ud("No readers where selected, nothing can be read.");try{for(var n=xx(this.readers),o=n.next();!o.done;o=n.next()){var a=o.value;try{return a.decode(e,this.hints)}catch(s){if(s instanceof Ud)continue}}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}throw new U("No MultiFormat Readers were able to detect the code.")},i}(),vg=W3;var X3=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ex=function(i){X3(e,i);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var n=this,o=new vg;return o.setHints(t),n=i.call(this,o,r)||this,n}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(Gi);var Y3=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nX=function(i){Y3(e,i);function e(t){return t===void 0&&(t=500),i.call(this,new Rs,t)||this}return e}(Gi);var q3=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lX=function(i){q3(e,i);function e(t){return t===void 0&&(t=500),i.call(this,new Ts,t)||this}return e}(Gi);var wx=function(i){return i[i.ERROR_CORRECTION=0]="ERROR_CORRECTION",i[i.CHARACTER_SET=1]="CHARACTER_SET",i[i.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",i[i.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",i[i.MIN_SIZE=4]="MIN_SIZE",i[i.MAX_SIZE=5]="MAX_SIZE",i[i.MARGIN=6]="MARGIN",i[i.PDF417_COMPACT=7]="PDF417_COMPACT",i[i.PDF417_COMPACTION=8]="PDF417_COMPACTION",i[i.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",i[i.AZTEC_LAYERS=10]="AZTEC_LAYERS",i[i.QR_VERSION=11]="QR_VERSION",i[i.GS1_FORMAT=12]="GS1_FORMAT",i[i.FORCE_C40=13]="FORCE_C40",i}(wx||{}),It=wx;var $3=function(){function i(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Hi(e,Int32Array.from([1])))}return i.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],n=this.field,o=t.length;o<=e;o++){var a=r.multiply(new Hi(n,Int32Array.from([1,n.exp(o-1+n.getGeneratorBase())])));t.push(a),r=a}return t[e]},i.prototype.encode=function(e,t){if(t===0)throw new se("No error correction bytes");var r=e.length-t;if(r<=0)throw new se("No data bytes provided");var n=this.buildGenerator(t),o=new Int32Array(r);at.arraycopy(e,0,o,0,r);var a=new Hi(this.field,o);a=a.multiplyByMonomial(t,1);for(var s=a.divide(n)[1],l=s.getCoefficients(),d=t-l.length,h=0;h<d;h++)e[r+h]=0;at.arraycopy(l,0,e,r+d,l.length)},i}(),hc=$3;var Z3=function(){function i(){}return i.applyMaskPenaltyRule1=function(e){return i.applyMaskPenaltyRule1Internal(e,!0)+i.applyMaskPenaltyRule1Internal(e,!1)},i.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),n=e.getWidth(),o=e.getHeight(),a=0;a<o-1;a++)for(var s=r[a],l=0;l<n-1;l++){var d=s[l];d===s[l+1]&&d===r[a+1][l]&&d===r[a+1][l+1]&&t++}return i.N2*t},i.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),n=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=0;s<n;s++){var l=r[a];s+6<n&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(i.isWhiteHorizontal(l,s-4,s)||i.isWhiteHorizontal(l,s+7,s+11))&&t++,a+6<o&&r[a][s]===1&&r[a+1][s]===0&&r[a+2][s]===1&&r[a+3][s]===1&&r[a+4][s]===1&&r[a+5][s]===0&&r[a+6][s]===1&&(i.isWhiteVertical(r,s,a-4,a)||i.isWhiteVertical(r,s,a+7,a+11))&&t++}return t*i.N3},i.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var n=t;n<r;n++)if(e[n]===1)return!1;return!0},i.isWhiteVertical=function(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var o=r;o<n;o++)if(e[o][t]===1)return!1;return!0},i.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),n=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=r[a],l=0;l<n;l++)s[l]===1&&t++;var d=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(t*2-d)*10/d);return h*i.N4},i.getDataMaskBit=function(e,t,r){var n,o;switch(e){case 0:n=r+t&1;break;case 1:n=r&1;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:o=r*t,n=(o&1)+o%3;break;case 6:o=r*t,n=(o&1)+o%3&1;break;case 7:o=r*t,n=o%3+(r+t&1)&1;break;default:throw new se("Invalid mask pattern: "+e)}return n===0},i.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,n=t?e.getHeight():e.getWidth(),o=t?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<n;s++){for(var l=0,d=-1,h=0;h<o;h++){var p=t?a[s][h]:a[h][s];p===d?l++:(l>=5&&(r+=i.N1+(l-5)),l=1,d=p)}l>=5&&(r+=i.N1+(l-5))}return r},i.N1=3,i.N2=3,i.N3=40,i.N4=10,i}(),yo=Z3;var K3=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q3=function(){function i(e,t){this.width=e,this.height=t;for(var r=new Array(t),n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}return i.prototype.getHeight=function(){return this.height},i.prototype.getWidth=function(){return this.width},i.prototype.get=function(e,t){return this.bytes[t][e]},i.prototype.getArray=function(){return this.bytes},i.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},i.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},i.prototype.clear=function(e){var t,r;try{for(var n=K3(this.bytes),o=n.next();!o.done;o=n.next()){var a=o.value;Mt.fill(a,e)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},i.prototype.equals=function(e){if(!(e instanceof i))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,n=this.height;r<n;++r)for(var o=this.bytes[r],a=t.bytes[r],s=0,l=this.width;s<l;++s)if(o[s]!==a[s])return!1;return!0},i.prototype.toString=function(){for(var e=new Ae,t=0,r=this.height;t<r;++t){for(var n=this.bytes[t],o=0,a=this.width;o<a;++o)switch(n[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},i}(),pc=Q3;var J3=function(){function i(){this.maskPattern=-1}return i.prototype.getMode=function(){return this.mode},i.prototype.getECLevel=function(){return this.ecLevel},i.prototype.getVersion=function(){return this.version},i.prototype.getMaskPattern=function(){return this.maskPattern},i.prototype.getMatrix=function(){return this.matrix},i.prototype.toString=function(){var e=new Ae;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},i.prototype.setMode=function(e){this.mode=e},i.prototype.setECLevel=function(e){this.ecLevel=e},i.prototype.setVersion=function(e){this.version=e},i.prototype.setMaskPattern=function(e){this.maskPattern=e},i.prototype.setMatrix=function(e){this.matrix=e},i.isValidMaskPattern=function(e){return e>=0&&e<i.NUM_MASK_PATTERNS},i.NUM_MASK_PATTERNS=8,i}(),Os=J3;var eP=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tP=function(i){eP(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.kind="WriterException",e}(Gt),$t=tP;var rP=function(){function i(){}return i.clearMatrix=function(e){e.clear(255)},i.buildMatrix=function(e,t,r,n,o){i.clearMatrix(o),i.embedBasicPatterns(r,o),i.embedTypeInfo(t,n,o),i.maybeEmbedVersionInfo(r,o),i.embedDataBits(e,n,o)},i.embedBasicPatterns=function(e,t){i.embedPositionDetectionPatternsAndSeparators(t),i.embedDarkDotAtLeftBottomCorner(t),i.maybeEmbedPositionAdjustmentPatterns(e,t),i.embedTimingPatterns(t)},i.embedTypeInfo=function(e,t,r){var n=new er;i.makeTypeInfoBits(e,t,n);for(var o=0,a=n.getSize();o<a;++o){var s=n.get(n.getSize()-1-o),l=i.TYPE_INFO_COORDINATES[o],d=l[0],h=l[1];if(r.setBoolean(d,h,s),o<8){var p=r.getWidth()-o-1,g=8;r.setBoolean(p,g,s)}else{var p=8,g=r.getHeight()-7+(o-8);r.setBoolean(p,g,s)}}},i.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new er;i.makeVersionInfoBits(e,r);for(var n=6*3-1,o=0;o<6;++o)for(var a=0;a<3;++a){var s=r.get(n);n--,t.setBoolean(o,t.getHeight()-11+a,s),t.setBoolean(t.getHeight()-11+a,o,s)}}},i.embedDataBits=function(e,t,r){for(var n=0,o=-1,a=r.getWidth()-1,s=r.getHeight()-1;a>0;){for(a===6&&(a-=1);s>=0&&s<r.getHeight();){for(var l=0;l<2;++l){var d=a-l;if(i.isEmpty(r.get(d,s))){var h=void 0;n<e.getSize()?(h=e.get(n),++n):h=!1,t!==255&&yo.getDataMaskBit(t,d,s)&&(h=!h),r.setBoolean(d,s,h)}}s+=o}o=-o,s+=o,a-=2}if(n!==e.getSize())throw new $t("Not all bits consumed: "+n+"/"+e.getSize())},i.findMSBSet=function(e){return 32-Be.numberOfLeadingZeros(e)},i.calculateBCHCode=function(e,t){if(t===0)throw new se("0 polynomial");var r=i.findMSBSet(t);for(e<<=r-1;i.findMSBSet(e)>=r;)e^=t<<i.findMSBSet(e)-r;return e},i.makeTypeInfoBits=function(e,t,r){if(!Os.isValidMaskPattern(t))throw new $t("Invalid mask pattern");var n=e.getBits()<<3|t;r.appendBits(n,5);var o=i.calculateBCHCode(n,i.TYPE_INFO_POLY);r.appendBits(o,10);var a=new er;if(a.appendBits(i.TYPE_INFO_MASK_PATTERN,15),r.xor(a),r.getSize()!==15)throw new $t("should not happen but we got: "+r.getSize())},i.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=i.calculateBCHCode(e.getVersionNumber(),i.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new $t("should not happen but we got: "+t.getSize())},i.isEmpty=function(e){return e===255},i.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;i.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),i.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},i.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new $t;e.setNumber(8,e.getHeight()-8,1)},i.embedHorizontalSeparationPattern=function(e,t,r){for(var n=0;n<8;++n){if(!i.isEmpty(r.get(e+n,t)))throw new $t;r.setNumber(e+n,t,0)}},i.embedVerticalSeparationPattern=function(e,t,r){for(var n=0;n<7;++n){if(!i.isEmpty(r.get(e,t+n)))throw new $t;r.setNumber(e,t+n,0)}},i.embedPositionAdjustmentPattern=function(e,t,r){for(var n=0;n<5;++n)for(var o=i.POSITION_ADJUSTMENT_PATTERN[n],a=0;a<5;++a)r.setNumber(e+a,t+n,o[a])},i.embedPositionDetectionPattern=function(e,t,r){for(var n=0;n<7;++n)for(var o=i.POSITION_DETECTION_PATTERN[n],a=0;a<7;++a)r.setNumber(e+a,t+n,o[a])},i.embedPositionDetectionPatternsAndSeparators=function(e){var t=i.POSITION_DETECTION_PATTERN[0].length;i.embedPositionDetectionPattern(0,0,e),i.embedPositionDetectionPattern(e.getWidth()-t,0,e),i.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;i.embedHorizontalSeparationPattern(0,r-1,e),i.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),i.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var n=7;i.embedVerticalSeparationPattern(n,0,e),i.embedVerticalSeparationPattern(e.getHeight()-n-1,0,e),i.embedVerticalSeparationPattern(n,e.getHeight()-n,e)},i.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,n=i.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],o=0,a=n.length;o!==a;o++){var s=n[o];if(s>=0)for(var l=0;l!==a;l++){var d=n[l];d>=0&&i.isEmpty(t.get(d,s))&&i.embedPositionAdjustmentPattern(d-2,s-2,t)}}},i.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),i.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),i.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),i.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),i.VERSION_INFO_POLY=7973,i.TYPE_INFO_POLY=1335,i.TYPE_INFO_MASK_PATTERN=21522,i}(),zd=rP;var iP=function(){function i(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return i.prototype.getDataBytes=function(){return this.dataBytes},i.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},i}(),Cx=iP;var Ix=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nP=function(){function i(){}return i.calculateMaskPenalty=function(e){return yo.applyMaskPenaltyRule1(e)+yo.applyMaskPenaltyRule2(e)+yo.applyMaskPenaltyRule3(e)+yo.applyMaskPenaltyRule4(e)},i.encode=function(e,t,r){r===void 0&&(r=null);var n=i.DEFAULT_BYTE_MODE_ENCODING,o=r!==null&&r.get(It.CHARACTER_SET)!==void 0;o&&(n=r.get(It.CHARACTER_SET).toString());var a=this.chooseMode(e,n),s=new er;if(a===qt.BYTE&&(o||i.DEFAULT_BYTE_MODE_ENCODING!==n)){var l=tr.getCharacterSetECIByName(n);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(a,s);var d=new er;this.appendBytes(e,a,d,n);var h;if(r!==null&&r.get(It.QR_VERSION)!==void 0){var p=Number.parseInt(r.get(It.QR_VERSION).toString(),10);h=on.getVersionForNumber(p);var g=this.calculateBitsNeeded(a,s,d,h);if(!this.willFit(g,h,t))throw new $t("Data too big for requested version")}else h=this.recommendVersion(t,a,s,d);var _=new er;_.appendBitArray(s);var E=a===qt.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(E,h,a,_),_.appendBitArray(d);var A=h.getECBlocksForLevel(t),N=h.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(N,_);var F=this.interleaveWithECBytes(_,h.getTotalCodewords(),N,A.getNumBlocks()),P=new Os;P.setECLevel(t),P.setMode(a),P.setVersion(h);var L=h.getDimensionForVersion(),z=new pc(L,L),X=this.chooseMaskPattern(F,t,h,z);return P.setMaskPattern(X),zd.buildMatrix(F,t,h,X,z),P.setMatrix(z),P},i.recommendVersion=function(e,t,r,n){var o=this.calculateBitsNeeded(t,r,n,on.getVersionForNumber(1)),a=this.chooseVersion(o,e),s=this.calculateBitsNeeded(t,r,n,a);return this.chooseVersion(s,e)},i.calculateBitsNeeded=function(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()},i.getAlphanumericCode=function(e){return e<i.ALPHANUMERIC_TABLE.length?i.ALPHANUMERIC_TABLE[e]:-1},i.chooseMode=function(e,t){if(t===void 0&&(t=null),tr.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return qt.KANJI;for(var r=!1,n=!1,o=0,a=e.length;o<a;++o){var s=e.charAt(o);if(i.isDigit(s))r=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)n=!0;else return qt.BYTE}return n?qt.ALPHANUMERIC:r?qt.NUMERIC:qt.BYTE},i.isOnlyDoubleByteKanji=function(e){var t;try{t=Vr.encode(e,tr.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var n=0;n<r;n+=2){var o=t[n]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},i.chooseMaskPattern=function(e,t,r,n){for(var o=Number.MAX_SAFE_INTEGER,a=-1,s=0;s<Os.NUM_MASK_PATTERNS;s++){zd.buildMatrix(e,t,r,s,n);var l=this.calculateMaskPenalty(n);l<o&&(o=l,a=s)}return a},i.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var n=on.getVersionForNumber(r);if(i.willFit(e,n,t))return n}throw new $t("Data too big")},i.willFit=function(e,t,r){var n=t.getTotalCodewords(),o=t.getECBlocksForLevel(r),a=o.getTotalECCodewords(),s=n-a,l=(e+7)/8;return s>=l},i.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new $t("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var n=0;n<4&&t.getSize()<r;++n)t.appendBit(!1);var o=t.getSize()&7;if(o>0)for(var n=o;n<8;n++)t.appendBit(!1);for(var a=e-t.getSizeInBytes(),n=0;n<a;++n)t.appendBits(n&1?17:236,8);if(t.getSize()!==r)throw new $t("Bits size does not equal capacity")},i.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,n,o,a){if(n>=r)throw new $t("Block ID too large");var s=e%r,l=r-s,d=Math.floor(e/r),h=d+1,p=Math.floor(t/r),g=p+1,_=d-p,E=h-g;if(_!==E)throw new $t("EC bytes mismatch");if(r!==l+s)throw new $t("RS blocks mismatch");if(e!==(p+_)*l+(g+E)*s)throw new $t("Total bytes mismatch");n<l?(o[0]=p,a[0]=_):(o[0]=g,a[0]=E)},i.interleaveWithECBytes=function(e,t,r,n){var o,a,s,l;if(e.getSizeInBytes()!==r)throw new $t("Number of bits and data bytes does not match");for(var d=0,h=0,p=0,g=new Array,_=0;_<n;++_){var E=new Int32Array(1),A=new Int32Array(1);i.getNumDataBytesAndNumECBytesForBlockID(t,r,n,_,E,A);var N=E[0],F=new Uint8Array(N);e.toBytes(8*d,F,0,N);var P=i.generateECBytes(F,A[0]);g.push(new Cx(F,P)),h=Math.max(h,N),p=Math.max(p,P.length),d+=E[0]}if(r!==d)throw new $t("Data bytes does not match offset");for(var L=new er,_=0;_<h;++_)try{for(var z=(o=void 0,Ix(g)),X=z.next();!X.done;X=z.next()){var Q=X.value,F=Q.getDataBytes();_<F.length&&L.appendBits(F[_],8)}}catch(Ve){o={error:Ve}}finally{try{X&&!X.done&&(a=z.return)&&a.call(z)}finally{if(o)throw o.error}}for(var _=0;_<p;++_)try{for(var re=(s=void 0,Ix(g)),be=re.next();!be.done;be=re.next()){var Q=be.value,P=Q.getErrorCorrectionBytes();_<P.length&&L.appendBits(P[_],8)}}catch(Ve){s={error:Ve}}finally{try{be&&!be.done&&(l=re.return)&&l.call(re)}finally{if(s)throw s.error}}if(t!==L.getSizeInBytes())throw new $t("Interleaving error: "+t+" and "+L.getSizeInBytes()+" differ.");return L},i.generateECBytes=function(e,t){for(var r=e.length,n=new Int32Array(r+t),o=0;o<r;o++)n[o]=e[o]&255;new hc(wr.QR_CODE_FIELD_256).encode(n,t);for(var a=new Uint8Array(t),o=0;o<t;o++)a[o]=n[r+o];return a},i.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},i.appendLengthInfo=function(e,t,r,n){var o=r.getCharacterCountBits(t);if(e>=1<<o)throw new $t(e+" is bigger than "+((1<<o)-1));n.appendBits(e,o)},i.appendBytes=function(e,t,r,n){switch(t){case qt.NUMERIC:i.appendNumericBytes(e,r);break;case qt.ALPHANUMERIC:i.appendAlphanumericBytes(e,r);break;case qt.BYTE:i.append8BitBytes(e,r,n);break;case qt.KANJI:i.appendKanjiBytes(e,r);break;default:throw new $t("Invalid mode: "+t)}},i.getDigit=function(e){return e.charCodeAt(0)-48},i.isDigit=function(e){var t=i.getDigit(e);return t>=0&&t<=9},i.appendNumericBytes=function(e,t){for(var r=e.length,n=0;n<r;){var o=i.getDigit(e.charAt(n));if(n+2<r){var a=i.getDigit(e.charAt(n+1)),s=i.getDigit(e.charAt(n+2));t.appendBits(o*100+a*10+s,10),n+=3}else if(n+1<r){var a=i.getDigit(e.charAt(n+1));t.appendBits(o*10+a,7),n+=2}else t.appendBits(o,4),n++}},i.appendAlphanumericBytes=function(e,t){for(var r=e.length,n=0;n<r;){var o=i.getAlphanumericCode(e.charCodeAt(n));if(o===-1)throw new $t;if(n+1<r){var a=i.getAlphanumericCode(e.charCodeAt(n+1));if(a===-1)throw new $t;t.appendBits(o*45+a,11),n+=2}else t.appendBits(o,6),n++}},i.append8BitBytes=function(e,t,r){var n;try{n=Vr.encode(e,r)}catch(l){throw new $t(l)}for(var o=0,a=n.length;o!==a;o++){var s=n[o];t.appendBits(s,8)}},i.appendKanjiBytes=function(e,t){var r;try{r=Vr.encode(e,tr.SJIS)}catch(p){throw new $t(p)}for(var n=r.length,o=0;o<n;o+=2){var a=r[o]&255,s=r[o+1]&255,l=a<<8&4294967295|s,d=-1;if(l>=33088&&l<=40956?d=l-33088:l>=57408&&l<=60351&&(d=l-49472),d===-1)throw new $t("Invalid byte sequence");var h=(d>>8)*192+(d&255);t.appendBits(h,13)}},i.appendECI=function(e,t){t.appendBits(qt.ECI.getBits(),4),t.appendBits(e.getValue(),8)},i.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),i.DEFAULT_BYTE_MODE_ENCODING=tr.UTF8.getName(),i}(),mc=nP;var QX=function(){function i(){}return i.prototype.write=function(e,t,r,n){if(n===void 0&&(n=null),e.length===0)throw new se("Found empty contents");if(t<0||r<0)throw new se("Requested dimensions are too small: "+t+"x"+r);var o=Wn.L,a=i.QUIET_ZONE_SIZE;n!==null&&(n.get(It.ERROR_CORRECTION)!==void 0&&(o=Wn.fromString(n.get(It.ERROR_CORRECTION).toString())),n.get(It.MARGIN)!==void 0&&(a=Number.parseInt(n.get(It.MARGIN).toString(),10)));var s=mc.encode(e,o,n);return this.renderResult(s,t,r,a)},i.prototype.writeToDom=function(e,t,r,n,o){o===void 0&&(o=null),typeof e=="string"&&(e=document.querySelector(e));var a=this.write(t,r,n,o);e&&e.appendChild(a)},i.prototype.renderResult=function(e,t,r,n){var o=e.getMatrix();if(o===null)throw new $r;for(var a=o.getWidth(),s=o.getHeight(),l=a+n*2,d=s+n*2,h=Math.max(t,l),p=Math.max(r,d),g=Math.min(Math.floor(h/l),Math.floor(p/d)),_=Math.floor((h-a*g)/2),E=Math.floor((p-s*g)/2),A=this.createSVGElement(h,p),N=0,F=E;N<s;N++,F+=g)for(var P=0,L=_;P<a;P++,L+=g)if(o.get(P,N)===1){var z=this.createSvgRectElement(L,F,g,g);A.appendChild(z)}return A},i.prototype.createSVGElement=function(e,t){var r=document.createElementNS(i.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r},i.prototype.createSvgRectElement=function(e,t,r,n){var o=document.createElementNS(i.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",t.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",n.toString()),o.setAttributeNS(null,"fill","#000000"),o},i.QUIET_ZONE_SIZE=4,i.SVG_NS="http://www.w3.org/2000/svg",i}();var oP=function(){function i(){}return i.prototype.encode=function(e,t,r,n,o){if(e.length===0)throw new se("Found empty contents");if(t!==le.QR_CODE)throw new se("Can only encode QR_CODE, but got "+t);if(r<0||n<0)throw new se("Requested dimensions are too small: "+r+"x"+n);var a=Wn.L,s=i.QUIET_ZONE_SIZE;o!==null&&(o.get(It.ERROR_CORRECTION)!==void 0&&(a=Wn.fromString(o.get(It.ERROR_CORRECTION).toString())),o.get(It.MARGIN)!==void 0&&(s=Number.parseInt(o.get(It.MARGIN).toString(),10)));var l=mc.encode(e,a,o);return i.renderResult(l,r,n,s)},i.renderResult=function(e,t,r,n){var o=e.getMatrix();if(o===null)throw new $r;for(var a=o.getWidth(),s=o.getHeight(),l=a+n*2,d=s+n*2,h=Math.max(t,l),p=Math.max(r,d),g=Math.min(Math.floor(h/l),Math.floor(p/d)),_=Math.floor((h-a*g)/2),E=Math.floor((p-s*g)/2),A=new rr(h,p),N=0,F=E;N<s;N++,F+=g)for(var P=0,L=_;P<a;P++,L+=g)o.get(P,N)===1&&A.setRegion(L,F,g,g);return A},i.QUIET_ZONE_SIZE=4,i}(),_g=oP;var CY=function(){function i(){}return i.prototype.encode=function(e,t,r,n,o){var a;switch(t){case le.QR_CODE:a=new _g;break;default:throw new se("No encoder available for format "+t)}return a.encode(e,t,r,n,o)},i}();var aP=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RY=function(i){aP(e,i);function e(t,r,n,o,a,s,l,d){var h=i.call(this,s,l)||this;if(h.yuvData=t,h.dataWidth=r,h.dataHeight=n,h.left=o,h.top=a,o+s>r||a+l>n)throw new se("Crop rectangle does not fit within image data.");return d&&h.reverseHorizontal(s,l),h}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new se("Requested row is outside the image: "+t);var n=this.getWidth();(r==null||r.length<n)&&(r=new Uint8ClampedArray(n));var o=(t+this.top)*this.dataWidth+this.left;return at.arraycopy(this.yuvData,o,r,0,n),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var n=t*r,o=new Uint8ClampedArray(n),a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return at.arraycopy(this.yuvData,a,o,0,n),o;for(var s=0;s<r;s++){var l=s*t;at.arraycopy(this.yuvData,a,o,l,t),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,n,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,n,o,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(t*r),o=this.yuvData,a=this.top*this.dataWidth+this.left,s=0;s<r;s++){for(var l=s*t,d=0;d<t;d++){var h=o[a+d*e.THUMBNAIL_SCALE_FACTOR]&255;n[l+d]=4278190080|h*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return n},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var n=this.yuvData,o=0,a=this.top*this.dataWidth+this.left;o<r;o++,a+=this.dataWidth)for(var s=a+t/2,l=a,d=a+t-1;l<s;l++,d--){var h=n[l];n[l]=n[d],n[d]=h}},e.prototype.invert=function(){return new da(this)},e.THUMBNAIL_SCALE_FACTOR=2,e}(Un);var sP=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LY=function(i){sP(e,i);function e(t,r,n,o,a,s,l){var d=i.call(this,r,n)||this;if(d.dataWidth=o,d.dataHeight=a,d.left=s,d.top=l,t.BYTES_PER_ELEMENT===4){for(var h=r*n,p=new Uint8ClampedArray(h),g=0;g<h;g++){var _=t[g],E=_>>16&255,A=_>>7&510,N=_&255;p[g]=(E+A+N)/4&255}d.luminances=p}else d.luminances=t;if(o===void 0&&(d.dataWidth=r),a===void 0&&(d.dataHeight=n),s===void 0&&(d.left=0),l===void 0&&(d.top=0),d.left+r>d.dataWidth||d.top+n>d.dataHeight)throw new se("Crop rectangle does not fit within image data.");return d}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new se("Requested row is outside the image: "+t);var n=this.getWidth();(r==null||r.length<n)&&(r=new Uint8ClampedArray(n));var o=(t+this.top)*this.dataWidth+this.left;return at.arraycopy(this.luminances,o,r,0,n),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var n=t*r,o=new Uint8ClampedArray(n),a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return at.arraycopy(this.luminances,a,o,0,n),o;for(var s=0;s<r;s++){var l=s*t;at.arraycopy(this.luminances,a,o,l,t),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,n,o){return new e(this.luminances,n,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new da(this)},e}(Un);var lP=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cP=function(i){lP(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(tr),_a=cP;var uP=function(){function i(){}return i.ISO_8859_1=tr.ISO8859_1,i}(),gc=uP;var dP=function(){function i(e,t,r){this.codewords=e,this.numcols=t,this.numrows=r,this.bits=new Uint8Array(t*r),Mt.fill(this.bits,2)}return i.prototype.getNumrows=function(){return this.numrows},i.prototype.getNumcols=function(){return this.numcols},i.prototype.getBits=function(){return this.bits},i.prototype.getBit=function(e,t){return this.bits[t*this.numcols+e]===1},i.prototype.setBit=function(e,t,r){this.bits[t*this.numcols+e]=r?1:0},i.prototype.noBit=function(e,t){return this.bits[t*this.numcols+e]===2},i.prototype.place=function(){var e=0,t=4,r=0;do{t===this.numrows&&r===0&&this.corner1(e++),t===this.numrows-2&&r===0&&this.numcols%4!==0&&this.corner2(e++),t===this.numrows-2&&r===0&&this.numcols%8===4&&this.corner3(e++),t===this.numrows+4&&r===2&&this.numcols%8===0&&this.corner4(e++);do t<this.numrows&&r>=0&&this.noBit(r,t)&&this.utah(t,r,e++),t-=2,r+=2;while(t>=0&&r<this.numcols);t++,r+=3;do t>=0&&r<this.numcols&&this.noBit(r,t)&&this.utah(t,r,e++),t+=2,r-=2;while(t<this.numrows&&r>=0);t+=3,r++}while(t<this.numrows||r<this.numcols);this.noBit(this.numcols-1,this.numrows-1)&&(this.setBit(this.numcols-1,this.numrows-1,!0),this.setBit(this.numcols-2,this.numrows-2,!0))},i.prototype.module=function(e,t,r,n){e<0&&(e+=this.numrows,t+=4-(this.numrows+4)%8),t<0&&(t+=this.numcols,e+=4-(this.numcols+4)%8);var o=this.codewords.charCodeAt(r);o&=1<<8-n,this.setBit(t,e,o!==0)},i.prototype.utah=function(e,t,r){this.module(e-2,t-2,r,1),this.module(e-2,t-1,r,2),this.module(e-1,t-2,r,3),this.module(e-1,t-1,r,4),this.module(e-1,t,r,5),this.module(e,t-2,r,6),this.module(e,t-1,r,7),this.module(e,t,r,8)},i.prototype.corner1=function(e){this.module(this.numrows-1,0,e,1),this.module(this.numrows-1,1,e,2),this.module(this.numrows-1,2,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-1,e,6),this.module(2,this.numcols-1,e,7),this.module(3,this.numcols-1,e,8)},i.prototype.corner2=function(e){this.module(this.numrows-3,0,e,1),this.module(this.numrows-2,0,e,2),this.module(this.numrows-1,0,e,3),this.module(0,this.numcols-4,e,4),this.module(0,this.numcols-3,e,5),this.module(0,this.numcols-2,e,6),this.module(0,this.numcols-1,e,7),this.module(1,this.numcols-1,e,8)},i.prototype.corner3=function(e){this.module(this.numrows-3,0,e,1),this.module(this.numrows-2,0,e,2),this.module(this.numrows-1,0,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-1,e,6),this.module(2,this.numcols-1,e,7),this.module(3,this.numcols-1,e,8)},i.prototype.corner4=function(e){this.module(this.numrows-1,0,e,1),this.module(this.numrows-1,this.numcols-1,e,2),this.module(0,this.numcols-3,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-3,e,6),this.module(1,this.numcols-2,e,7),this.module(1,this.numcols-1,e,8)},i}(),jd=dP;var yg,bg=[5,7,10,11,12,14,18,20,24,28,36,42,48,56,62,68],Ax=[[228,48,15,111,62],[23,68,144,134,240,92,254],[28,24,185,166,223,248,116,255,110,61],[175,138,205,12,194,168,39,245,60,97,120],[41,153,158,91,61,42,142,213,97,178,100,242],[156,97,192,252,95,9,157,119,138,45,18,186,83,185],[83,195,100,39,188,75,66,61,241,213,109,129,94,254,225,48,90,188],[15,195,244,9,233,71,168,2,188,160,153,145,253,79,108,82,27,174,186,172],[52,190,88,205,109,39,176,21,155,197,251,223,155,21,5,172,254,124,12,181,184,96,50,193],[211,231,43,97,71,96,103,174,37,151,170,53,75,34,249,121,17,138,110,213,141,136,120,151,233,168,93,255],[245,127,242,218,130,250,162,181,102,120,84,179,220,251,80,182,229,18,2,4,68,33,101,137,95,119,115,44,175,184,59,25,225,98,81,112],[77,193,137,31,19,38,22,153,247,105,122,2,245,133,242,8,175,95,100,9,167,105,214,111,57,121,21,1,253,57,54,101,248,202,69,50,150,177,226,5,9,5],[245,132,172,223,96,32,117,22,238,133,238,231,205,188,237,87,191,106,16,147,118,23,37,90,170,205,131,88,120,100,66,138,186,240,82,44,176,87,187,147,160,175,69,213,92,253,225,19],[175,9,223,238,12,17,220,208,100,29,175,170,230,192,215,235,150,159,36,223,38,200,132,54,228,146,218,234,117,203,29,232,144,238,22,150,201,117,62,207,164,13,137,245,127,67,247,28,155,43,203,107,233,53,143,46],[242,93,169,50,144,210,39,118,202,188,201,189,143,108,196,37,185,112,134,230,245,63,197,190,250,106,185,221,175,64,114,71,161,44,147,6,27,218,51,63,87,10,40,130,188,17,163,31,176,170,4,107,232,7,94,166,224,124,86,47,11,204],[220,228,173,89,251,149,159,56,89,33,147,244,154,36,73,127,213,136,248,180,234,197,158,177,68,122,93,213,15,160,227,236,66,139,153,185,202,167,179,25,220,232,96,210,231,136,223,239,181,241,59,52,172,25,49,232,211,189,64,54,108,153,132,63,96,103,82,186]],fP=301,hP=function(i,e){for(var t=1,r=0;r<255;r++)e[r]=t,i[t]=r,t*=2,t>=256&&(t^=fP);return{LOG:i,ALOG:e}},vc=(yg=hP([],[]),yg.LOG),xg=yg.ALOG;var Eg=129,Gd=230,Sx=231,Tx=235,Dx=236,Rx=237,Ox=238,Mx=239,Px=240,Hd=254,Nx=254,Ms="[)>05",Ps="[)>06",Ns="",At=0,Fr=1,Hr=2,Cr=3,Or=4,Ur=5;var pP=function(){function i(){}return i.encodeECC200=function(e,t){if(e.length!==t.getDataCapacity())throw new Error("The number of codewords does not match the selected symbol");var r=new Ae;r.append(e);var n=t.getInterleavedBlockCount();if(n===1){var o=this.createECCBlock(e,t.getErrorCodewords());r.append(o)}else{for(var a=[],s=[],l=0;l<n;l++)a[l]=t.getDataLengthForInterleavedBlock(l+1),s[l]=t.getErrorLengthForInterleavedBlock(l+1);for(var d=0;d<n;d++){for(var h=new Ae,p=d;p<t.getDataCapacity();p+=n)h.append(e.charAt(p));for(var o=this.createECCBlock(h.toString(),s[d]),g=0,_=d;_<s[d]*n;_+=n)r.setCharAt(t.getDataCapacity()+_,o.charAt(g++))}}return r.toString()},i.createECCBlock=function(e,t){for(var r=-1,n=0;n<bg.length;n++)if(bg[n]===t){r=n;break}if(r<0)throw new Error("Illegal number of error correction codewords specified: "+t);for(var o=Ax[r],a=[],n=0;n<t;n++)a[n]=0;for(var n=0;n<e.length;n++){for(var s=a[t-1]^e.charAt(n).charCodeAt(0),l=t-1;l>0;l--)s!==0&&o[l]!==0?a[l]=a[l-1]^xg[(vc[s]+vc[o[l]])%255]:a[l]=a[l-1];s!==0&&o[0]!==0?a[0]=xg[(vc[s]+vc[o[0]])%255]:a[0]=0}for(var d=[],n=0;n<t;n++)d[n]=a[t-n-1];return d.map(function(h){return String.fromCharCode(h)}).join("")},i}(),Wd=pP;var wg=function(){function i(){}return i.prototype.getEncodingMode=function(){return At},i.prototype.encode=function(e){var t=Ze.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),n=Ze.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(n!==this.getEncodingMode())switch(n){case Ur:e.writeCodeword(Sx),e.signalEncoderChange(Ur);return;case Fr:e.writeCodeword(Gd),e.signalEncoderChange(Fr);return;case Cr:e.writeCodeword(Ox),e.signalEncoderChange(Cr);break;case Hr:e.writeCodeword(Mx),e.signalEncoderChange(Hr);break;case Or:e.writeCodeword(Px),e.signalEncoderChange(Or);break;default:throw new Error("Illegal mode: "+n)}else Ze.isExtendedASCII(r)?(e.writeCodeword(Tx),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},i.prototype.encodeASCIIDigits=function(e,t){if(Ze.isDigit(e)&&Ze.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},i}();var Cg=function(){function i(){}return i.prototype.getEncodingMode=function(){return Ur},i.prototype.encode=function(e){var t=new Ae;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var n=Ze.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(n!==this.getEncodingMode()){e.signalEncoderChange(At);break}}var o=t.length()-1,a=1,s=e.getCodewordCount()+o+a;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(o<=249)t.setCharAt(0,Ye.getCharAt(o));else if(o<=1555)t.setCharAt(0,Ye.getCharAt(Math.floor(o/250)+249)),t.insert(1,Ye.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var d=0,r=t.length();d<r;d++)e.writeCodeword(this.randomize255State(t.charAt(d).charCodeAt(0),e.getCodewordCount()+1))},i.prototype.randomize255State=function(e,t){var r=149*t%255+1,n=e+r;return n<=255?n:n-256},i}();var ya=function(){function i(){}return i.prototype.getEncodingMode=function(){return Fr},i.prototype.encodeMaximal=function(e){for(var t=new Ae,r=0,n=e.pos,o=0;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++,r=this.encodeChar(a,t),t.length()%3===0&&(n=e.pos,o=t.length())}if(o!==t.length()){var s=Math.floor(t.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var d=e.getSymbolInfo().getDataCapacity()-l,h=Math.floor(t.length()%3);(h===2&&d!==2||h===1&&(r>3||d!==1))&&(e.pos=n)}t.length()>0&&e.writeCodeword(Gd),this.handleEOD(e,t)},i.prototype.encode=function(e){for(var t=new Ae;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var n=this.encodeChar(r,t),o=Math.floor(t.length()/3)*2,a=e.getCodewordCount()+o;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(!e.hasMoreCharacters()){var l=new Ae;for(t.length()%3===2&&s!==2&&(n=this.backtrackOneCharacter(e,t,l,n));t.length()%3===1&&(n>3||s!==1);)n=this.backtrackOneCharacter(e,t,l,n);break}var d=t.length();if(d%3===0){var h=Ze.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(h!==this.getEncodingMode()){e.signalEncoderChange(At);break}}}this.handleEOD(e,t)},i.prototype.backtrackOneCharacter=function(e,t,r,n){var o=t.length(),a=t.toString().substring(0,o-n);t.setLengthToZero(),t.append(a),e.pos--;var s=e.getCurrentChar();return n=this.encodeChar(s,r),e.resetSymbolInfo(),n},i.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},i.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),n=t.length()%3,o=e.getCodewordCount()+r;e.updateSymbolInfo(o);var a=e.getSymbolInfo().getDataCapacity()-o;if(n===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Hd)}else if(a===1&&n===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Hd),e.pos--}else if(n===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(a>0||e.hasMoreCharacters())&&e.writeCodeword(Hd)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(At)},i.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},i.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,n=t%256,o=new Ae;return o.append(r),o.append(n),o.toString()},i}();var Ig=function(){function i(){}return i.prototype.getEncodingMode=function(){return Or},i.prototype.encode=function(e){for(var t=new Ae;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var n=t.length();if(n>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var o=t.toString().substring(4);t.setLengthToZero(),t.append(o);var a=Ze.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(At);break}}}t.append(Ye.getCharAt(31)),this.handleEOD(e,t)},i.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var n=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>n&&(e.updateSymbolInfo(e.getCodewordCount()+1),n=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=n&&n<=2)return}if(r>4)throw new Error("Count must not exceed 4");var a=r-1,s=this.encodeToCodewords(t.toString()),l=!e.hasMoreCharacters(),d=l&&a<=2;if(a<=2){e.updateSymbolInfo(e.getCodewordCount()+a);var n=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();n>=3&&(d=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}d?(e.resetSymbolInfo(),e.pos-=a):e.writeCodewords(s)}finally{e.signalEncoderChange(At)}},i.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(Ye.getCharAt(e-64)):Ze.illegalCharacter(Ye.getCharAt(e))},i.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),n=t>=2?e.charAt(1).charCodeAt(0):0,o=t>=3?e.charAt(2).charCodeAt(0):0,a=t>=4?e.charAt(3).charCodeAt(0):0,s=(r<<18)+(n<<12)+(o<<6)+a,l=s>>16&255,d=s>>8&255,h=s&255,p=new Ae;return p.append(l),t>=2&&p.append(d),t>=3&&p.append(h),p.toString()},i}();var mP=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gP=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ft=function(){function i(e,t,r,n,o,a,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=n,this.matrixHeight=o,this.dataRegions=a,this.rsBlockData=s,this.rsBlockError=l}return i.lookup=function(e,t,r,n,o){var a,s;t===void 0&&(t=0),r===void 0&&(r=null),n===void 0&&(n=null),o===void 0&&(o=!0);try{for(var l=gP(_P),d=l.next();!d.done;d=l.next()){var h=d.value;if(!(t===1&&h.rectangular)&&!(t===2&&!h.rectangular)&&!(r!=null&&(h.getSymbolWidth()<r.getWidth()||h.getSymbolHeight()<r.getHeight()))&&!(n!=null&&(h.getSymbolWidth()>n.getWidth()||h.getSymbolHeight()>n.getHeight()))&&e<=h.dataCapacity)return h}}catch(p){a={error:p}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},i.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},i.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},i.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},i.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},i.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},i.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},i.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},i.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},i.prototype.getDataCapacity=function(){return this.dataCapacity},i.prototype.getErrorCodewords=function(){return this.errorCodewords},i.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},i.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},i}(),Fs=Ft,vP=function(i){mP(e,i);function e(){return i.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(Ft),_P=[new Ft(!1,3,5,8,8,1),new Ft(!1,5,7,10,10,1),new Ft(!0,5,7,16,6,1),new Ft(!1,8,10,12,12,1),new Ft(!0,10,11,14,6,2),new Ft(!1,12,12,14,14,1),new Ft(!0,16,14,24,10,1),new Ft(!1,18,14,16,16,1),new Ft(!1,22,18,18,18,1),new Ft(!0,22,18,16,10,2),new Ft(!1,30,20,20,20,1),new Ft(!0,32,24,16,14,2),new Ft(!1,36,24,22,22,1),new Ft(!1,44,28,24,24,1),new Ft(!0,49,28,22,14,2),new Ft(!1,62,36,14,14,4),new Ft(!1,86,42,16,16,4),new Ft(!1,114,48,18,18,4),new Ft(!1,144,56,20,20,4),new Ft(!1,174,68,22,22,4),new Ft(!1,204,84,24,24,4,102,42),new Ft(!1,280,112,14,14,16,140,56),new Ft(!1,368,144,16,16,16,92,36),new Ft(!1,456,192,18,18,16,114,48),new Ft(!1,576,224,20,20,16,144,56),new Ft(!1,696,272,22,22,16,174,68),new Ft(!1,816,336,24,24,16,136,56),new Ft(!1,1050,408,18,18,36,175,68),new Ft(!1,1304,496,20,20,36,163,62),new vP];var Ag=function(){function i(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(s){return s.charCodeAt(0)}),r=new Ae,n=0,o=t.length;n<o;n++){var a=String.fromCharCode(t[n]&255);if(a==="?"&&e.charAt(n)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(a)}this.msg=r.toString(),this.shape=0,this.codewords=new Ae,this.newEncoding=-1}return i.prototype.setSymbolShape=function(e){this.shape=e},i.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},i.prototype.getMessage=function(){return this.msg},i.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},i.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},i.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},i.prototype.getCodewords=function(){return this.codewords},i.prototype.writeCodewords=function(e){this.codewords.append(e)},i.prototype.writeCodeword=function(e){this.codewords.append(e)},i.prototype.getCodewordCount=function(){return this.codewords.length()},i.prototype.getNewEncoding=function(){return this.newEncoding},i.prototype.signalEncoderChange=function(e){this.newEncoding=e},i.prototype.resetEncoderSignal=function(){this.newEncoding=-1},i.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},i.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},i.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},i.prototype.getSymbolInfo=function(){return this.symbolInfo},i.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Fs.lookup(e,this.shape,this.minSize,this.maxSize,!0))},i.prototype.resetSymbolInfo=function(){this.symbolInfo=null},i}();var yP=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sg=function(i){yP(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Cr},e.prototype.encode=function(t){for(var r=new Ae;t.hasMoreCharacters();){var n=t.getCurrentChar();t.pos++,this.encodeChar(n,r);var o=r.length();if(o%3===0){this.writeNextTriplet(t,r);var a=Ze.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){t.signalEncoderChange(At);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):Ze.illegalCharacter(Ye.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var n=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),o=r.length();t.pos-=o,(t.getRemainingCharacters()>1||n>1||t.getRemainingCharacters()!==n)&&t.writeCodeword(Nx),t.getNewEncoding()<0&&t.signalEncoderChange(At)},e}(ya);var bP=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Tg=function(i){bP(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Hr},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var n=2;return n+=this.encodeChar(t-128,r),n},e}(ya);var xP=function(){function i(){}return i.randomize253State=function(e){var t=149*e%253+1,r=Eg+t;return r<=254?r:r-254},i.encodeHighLevel=function(e,t,r,n,o){t===void 0&&(t=0),r===void 0&&(r=null),n===void 0&&(n=null),o===void 0&&(o=!1);var a=new ya,s=[new wg,a,new Tg,new Sg,new Ig,new Cg],l=new Ag(e);l.setSymbolShape(t),l.setSizeConstraints(r,n),e.startsWith(Ms)&&e.endsWith(Ns)?(l.writeCodeword(Dx),l.setSkipAtEnd(2),l.pos+=Ms.length):e.startsWith(Ps)&&e.endsWith(Ns)&&(l.writeCodeword(Rx),l.setSkipAtEnd(2),l.pos+=Ps.length);var d=At;for(o&&(a.encodeMaximal(l),d=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[d].encode(l),l.getNewEncoding()>=0&&(d=l.getNewEncoding(),l.resetEncoderSignal());var h=l.getCodewordCount();l.updateSymbolInfo();var p=l.getSymbolInfo().getDataCapacity();h<p&&d!==At&&d!==Ur&&d!==Or&&l.writeCodeword("\xFE");var g=l.getCodewords();for(g.length()<p&&g.append(Eg);g.length()<p;)g.append(this.randomize253State(g.length()+1));return l.getCodewords().toString()},i.lookAheadTest=function(e,t,r){var n=this.lookAheadTestIntern(e,t,r);if(r===Cr&&n===Cr){for(var o=Math.min(t+3,e.length),a=t;a<o;a++)if(!this.isNativeX12(e.charCodeAt(a)))return At}else if(r===Or&&n===Or){for(var o=Math.min(t+4,e.length),a=t;a<o;a++)if(!this.isNativeEDIFACT(e.charCodeAt(a)))return At}return n},i.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var n;r===At?n=[0,1,1,1,1,1.25]:(n=[1,2,2,2,2,2.25],n[r]=0);for(var o=0,a=new Uint8Array(6),s=[];;){if(t+o===e.length){Mt.fill(a,0),Mt.fill(s,0);var l=this.findMinimums(n,s,Be.MAX_VALUE,a),d=this.getMinimumCount(a);if(s[At]===l)return At;if(d===1){if(a[Ur]>0)return Ur;if(a[Or]>0)return Or;if(a[Hr]>0)return Hr;if(a[Cr]>0)return Cr}return Fr}var h=e.charCodeAt(t+o);if(o++,this.isDigit(h)?n[At]+=.5:this.isExtendedASCII(h)?(n[At]=Math.ceil(n[At]),n[At]+=2):(n[At]=Math.ceil(n[At]),n[At]++),this.isNativeC40(h)?n[Fr]+=2/3:this.isExtendedASCII(h)?n[Fr]+=8/3:n[Fr]+=4/3,this.isNativeText(h)?n[Hr]+=2/3:this.isExtendedASCII(h)?n[Hr]+=8/3:n[Hr]+=4/3,this.isNativeX12(h)?n[Cr]+=2/3:this.isExtendedASCII(h)?n[Cr]+=13/3:n[Cr]+=10/3,this.isNativeEDIFACT(h)?n[Or]+=3/4:this.isExtendedASCII(h)?n[Or]+=17/4:n[Or]+=13/4,this.isSpecialB256(h)?n[Ur]+=4:n[Ur]++,o>=4){if(Mt.fill(a,0),Mt.fill(s,0),this.findMinimums(n,s,Be.MAX_VALUE,a),s[At]<this.min(s[Ur],s[Fr],s[Hr],s[Cr],s[Or]))return At;if(s[Ur]<s[At]||s[Ur]+1<this.min(s[Fr],s[Hr],s[Cr],s[Or]))return Ur;if(s[Or]+1<this.min(s[Ur],s[Fr],s[Hr],s[Cr],s[At]))return Or;if(s[Hr]+1<this.min(s[Ur],s[Fr],s[Or],s[Cr],s[At]))return Hr;if(s[Cr]+1<this.min(s[Ur],s[Fr],s[Or],s[Hr],s[At]))return Cr;if(s[Fr]+1<this.min(s[At],s[Ur],s[Or],s[Hr])){if(s[Fr]<s[Cr])return Fr;if(s[Fr]===s[Cr]){for(var p=t+o+1;p<e.length;){var g=e.charCodeAt(p);if(this.isX12TermSep(g))return Cr;if(!this.isNativeX12(g))break;p++}return Fr}}}}},i.min=function(e,t,r,n,o){var a=Math.min(e,Math.min(t,Math.min(r,n)));return o===void 0?a:Math.min(a,o)},i.findMinimums=function(e,t,r,n){for(var o=0;o<6;o++){var a=t[o]=Math.ceil(e[o]);r>a&&(r=a,Mt.fill(n,0)),r===a&&(n[o]=n[o]+1)}return r},i.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},i.isDigit=function(e){return e>=48&&e<=57},i.isExtendedASCII=function(e){return e>=128&&e<=255},i.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},i.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},i.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},i.isX12TermSep=function(e){return e===13||e===42||e===62},i.isNativeEDIFACT=function(e){return e>=32&&e<=94},i.isSpecialB256=function(e){return!1},i.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,n=t;n<r&&this.isDigit(e.charCodeAt(n));)n++;return n-t},i.illegalCharacter=function(e){var t=Be.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},i}(),Ze=xP;var Dg=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fx=function(){function i(e){this.charset=e,this.name=e.name}return i.prototype.canEncode=function(e){try{return Vr.encode(e,this.charset)!=null}catch{return!1}},i}(),kx=function(){function i(e,t,r){var n,o,a,s,l,d;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(ke){return new Fx(_a.forName(ke))}),this.encoders=[];var h=[];h.push(new Fx(gc.ISO_8859_1));for(var p=t!=null&&t.name.startsWith("UTF"),g=0;g<e.length;g++){var _=!1;try{for(var E=(n=void 0,Dg(h)),A=E.next();!A.done;A=E.next()){var N=A.value,F=e.charAt(g),P=F.charCodeAt(0);if(P===r||N.canEncode(F)){_=!0;break}}}catch(ke){n={error:ke}}finally{try{A&&!A.done&&(o=E.return)&&o.call(E)}finally{if(n)throw n.error}}if(!_)try{for(var L=(a=void 0,Dg(this.ENCODERS)),z=L.next();!z.done;z=L.next()){var N=z.value;if(N.canEncode(e.charAt(g))){h.push(N),_=!0;break}}}catch(ke){a={error:ke}}finally{try{z&&!z.done&&(s=L.return)&&s.call(L)}finally{if(a)throw a.error}}_||(p=!0)}if(h.length===1&&!p)this.encoders=[h[0]];else{this.encoders=[];var X=0;try{for(var Q=Dg(h),re=Q.next();!re.done;re=Q.next()){var N=re.value;this.encoders[X++]=N}}catch(ke){l={error:ke}}finally{try{re&&!re.done&&(d=Q.return)&&d.call(Q)}finally{if(l)throw l.error}}}var be=-1;if(t!=null){for(var g=0;g<this.encoders.length;g++)if(this.encoders[g]!=null&&t.name===this.encoders[g].name){be=g;break}}this.priorityEncoderIndex=be}return i.prototype.length=function(){return this.encoders.length},i.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},i.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},i.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},i.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},i.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},i.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return Vr.encode(Ye.getCharAt(e),this.encoders[t].name)},i}();var EP=3,Bx=function(){function i(e,t,r){this.fnc1=r;var n=new kx(e,t,r);if(n.length()===1)for(var o=0;o<this.bytes.length;o++){var a=e.charAt(o).charCodeAt(0);this.bytes[o]=a===r?1e3:a}else this.bytes=this.encodeMinimally(e,n,r)}return i.prototype.getFNC1Character=function(){return this.fnc1},i.prototype.length=function(){return this.bytes.length},i.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},i.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},i.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new Ae,n=e;n<t;n++){if(this.isECI(n))throw new Error("value at "+n+" is not a character but an ECI");r.append(this.charAt(n))}return r.toString()},i.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},i.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},i.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},i.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},i.prototype.addEdges=function(e,t,r,n,o,a){var s=e.charAt(n).charCodeAt(0),l=0,d=t.length();t.getPriorityEncoderIndex()>=0&&(s===a||t.canEncode(s,t.getPriorityEncoderIndex()))&&(l=t.getPriorityEncoderIndex(),d=l+1);for(var h=l;h<d;h++)(s===a||t.canEncode(s,h))&&this.addEdge(r,n+1,new Lx(s,t,h,o,a))},i.prototype.encodeMinimally=function(e,t,r){var n=e.length,o=new Lx[n+1][t.length()];this.addEdges(e,t,o,0,null,r);for(var a=1;a<=n;a++){for(var s=0;s<t.length();s++)o[a][s]!=null&&a<n&&this.addEdges(e,t,o,a,o[a][s],r);for(var s=0;s<t.length();s++)o[a-1][s]=null}for(var l=-1,d=Be.MAX_VALUE,s=0;s<t.length();s++)if(o[n][s]!=null){var h=o[n][s];h.cachedTotalSize<d&&(d=h.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],g=o[n][l];g!=null;){if(g.isFNC1())p.unshift(1e3);else for(var _=t.encode(g.c,g.encoderIndex),a=_.length-1;a>=0;a--)p.unshift(_[a]&255);var E=g.previous===null?0:g.previous.encoderIndex;E!==g.encoderIndex&&p.unshift(256+t.getECIValue(g.encoderIndex)),g=g.previous}for(var A=[],a=0;a<A.length;a++)A[a]=p[a];return A},i}();var Lx=function(){function i(e,t,r,n,o){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=n,this.fnc1=o,this.c=e===o?1e3:e;var a=this.isFNC1()?1:t.encode(e,r).length,s=n===null?0:n.encoderIndex;s!==r&&(a+=EP),n!=null&&(a+=n.cachedTotalSize),this.cachedTotalSize=a}return i.prototype.isFNC1=function(){return this.c===1e3},i}();var wP=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_c=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CP=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var r=t.call(i),n,o=[],a;try{for(;(e===void 0||e-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},IP=function(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(CP(arguments[e]));return i},me=function(i){return i[i.ASCII=0]="ASCII",i[i.C40=1]="C40",i[i.TEXT=2]="TEXT",i[i.X12=3]="X12",i[i.EDF=4]="EDF",i[i.B256=5]="B256",i}(me||{}),AP=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ti=function(){function i(){}return i.isExtendedASCII=function(e,t){return e!==t&&e>=128&&e<=255},i.isInC40Shift1Set=function(e){return e<=31},i.isInC40Shift2Set=function(e,t){var r,n;try{for(var o=_c(AP),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.charCodeAt(0)===e)return!0}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return e===t},i.isInTextShift1Set=function(e){return this.isInC40Shift1Set(e)},i.isInTextShift2Set=function(e,t){return this.isInC40Shift2Set(e,t)},i.encodeHighLevel=function(e,t,r,n){t===void 0&&(t=null),r===void 0&&(r=-1),n===void 0&&(n=0);var o=0;return e.startsWith(Ms)&&e.endsWith(Ns)?(o=5,e=e.substring(Ms.length,e.length-2)):e.startsWith(Ps)&&e.endsWith(Ns)&&(o=6,e=e.substring(Ps.length,e.length-2)),decodeURIComponent(escape(String.fromCharCode.apply(String,IP(this.encode(e,t,r,n,o)))))},i.encode=function(e,t,r,n,o){return this.encodeMinimally(new TP(e,t,r,n,o)).getBytes()},i.addEdge=function(e,t){var r=t.fromPosition+t.characterLength;(e[r][t.getEndMode()]===null||e[r][t.getEndMode()].cachedTotalSize>t.cachedTotalSize)&&(e[r][t.getEndMode()]=t)},i.getNumberOfC40Words=function(e,t,r,n){for(var o=0,a=t;a<e.length();a++){if(e.isECI(a))return n[0]=0,0;var s=e.charAt(a);if(r&&Ze.isNativeC40(s)||!r&&Ze.isNativeText(s))o++;else if(!i.isExtendedASCII(s,e.getFNC1Character()))o+=2;else{var l=s&255;l>=128&&(r&&Ze.isNativeC40(l-128)||!r&&Ze.isNativeText(l-128))?o+=3:o+=4}if(o%3===0||(o-2)%3===0&&a+1===e.length())return n[0]=a-t+1,Math.ceil(o/3)}return n[0]=0,0},i.addEdges=function(e,t,r,n){var o,a;if(e.isECI(r)){this.addEdge(t,new Xi(e,me.ASCII,r,1,n));return}var s=e.charAt(r);if(n===null||n.getEndMode()!==me.EDF){Ze.isDigit(s)&&e.haveNCharacters(r,2)&&Ze.isDigit(e.charAt(r+1))?this.addEdge(t,new Xi(e,me.ASCII,r,2,n)):this.addEdge(t,new Xi(e,me.ASCII,r,1,n));var l=[me.C40,me.TEXT];try{for(var d=_c(l),h=d.next();!h.done;h=d.next()){var p=h.value,g=[];i.getNumberOfC40Words(e,r,p===me.C40,g)>0&&this.addEdge(t,new Xi(e,p,r,g[0],n))}}catch(A){o={error:A}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}e.haveNCharacters(r,3)&&Ze.isNativeX12(e.charAt(r))&&Ze.isNativeX12(e.charAt(r+1))&&Ze.isNativeX12(e.charAt(r+2))&&this.addEdge(t,new Xi(e,me.X12,r,3,n)),this.addEdge(t,new Xi(e,me.B256,r,1,n))}var _;for(_=0;_<3;_++){var E=r+_;if(e.haveNCharacters(E,1)&&Ze.isNativeEDIFACT(e.charAt(E)))this.addEdge(t,new Xi(e,me.EDF,r,_+1,n));else break}_===3&&e.haveNCharacters(r,4)&&Ze.isNativeEDIFACT(e.charAt(r+3))&&this.addEdge(t,new Xi(e,me.EDF,r,4,n))},i.encodeMinimally=function(e){var t=e.length(),r=Array(t+1).fill(null).map(function(){return Array(6).fill(0)});this.addEdges(e,r,0,null);for(var n=1;n<=t;n++){for(var o=0;o<6;o++)r[n][o]!==null&&n<t&&this.addEdges(e,r,n,r[n][o]);for(var o=0;o<6;o++)r[n-1][o]=null}for(var a=-1,s=Be.MAX_VALUE,o=0;o<6;o++)if(r[t][o]!==null){var l=r[t][o],d=o>=1&&o<=3?l.cachedTotalSize+1:l.cachedTotalSize;d<s&&(s=d,a=o)}if(a<0)throw new Error('Failed to encode "'+e+'"');return new SP(r[t][a])},i}();var SP=function(){function i(e){var t=e.input,r=0,n=[],o=[],a=[];(e.mode===me.C40||e.mode===me.TEXT||e.mode===me.X12)&&e.getEndMode()!==me.ASCII&&(r+=this.prepend(Xi.getBytes(254),n));for(var s=e;s!==null;)r+=this.prepend(s.getDataBytes(),n),(s.previous===null||s.getPreviousStartMode()!==s.getMode())&&(s.getMode()===me.B256&&(r<=249?(n.unshift(r),r++):(n.unshift(r%250),n.unshift(r/250+249),r+=2),o.push(n.length),a.push(r)),this.prepend(s.getLatchBytes(),n),r=0),s=s.previous;t.getMacroId()===5?r+=this.prepend(Xi.getBytes(236),n):t.getMacroId()===6&&(r+=this.prepend(Xi.getBytes(237),n)),t.getFNC1Character()>0&&(r+=this.prepend(Xi.getBytes(232),n));for(var l=0;l<o.length;l++)this.applyRandomPattern(n,n.length-o[l],a[l]);var d=e.getMinSymbolSize(n.length);for(n.length<d&&n.push(129);n.length<d;)n.push(this.randomize253State(n.length+1));this.bytes=new Uint8Array(n.length);for(var l=0;l<this.bytes.length;l++)this.bytes[l]=n[l]}return i.prototype.prepend=function(e,t){for(var r=e.length-1;r>=0;r--)t.unshift(e[r]);return e.length},i.prototype.randomize253State=function(e){var t=149*e%253+1,r=129+t;return r<=254?r:r-254},i.prototype.applyRandomPattern=function(e,t,r){for(var n=0;n<r;n++){var o=t+n,a=e[o]&255,s=149*(o+1)%255+1,l=a+s;e[o]=l<=255?l:l-256}},i.prototype.getBytes=function(){return this.bytes},i}(),Xi=function(){function i(e,t,r,n,o){if(this.input=e,this.mode=t,this.fromPosition=r,this.characterLength=n,this.previous=o,this.allCodewordCapacities=[3,5,8,10,12,16,18,22,30,32,36,44,49,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.squareCodewordCapacities=[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.rectangularCodewordCapacities=[5,10,16,33,32,49],!(r+n<=e.length()))throw new Error("Invalid edge");var a=o!==null?o.cachedTotalSize:0,s=this.getPreviousMode();switch(t){case me.ASCII:a++,(e.isECI(r)||ti.isExtendedASCII(e.charAt(r),e.getFNC1Character()))&&a++,(s===me.C40||s===me.TEXT||s===me.X12)&&a++;break;case me.B256:a++,(s!==me.B256||this.getB256Size()===250)&&a++,s===me.ASCII?a++:(s===me.C40||s===me.TEXT||s===me.X12)&&(a+=2);break;case me.C40:case me.TEXT:case me.X12:if(t===me.X12)a+=2;else{var l=[];a+=ti.getNumberOfC40Words(e,r,t===me.C40,l)*2}s===me.ASCII||s===me.B256?a++:s!==t&&(s===me.C40||s===me.TEXT||s===me.X12)&&(a+=2);break;case me.EDF:a+=3,s===me.ASCII||s===me.B256?a++:(s===me.C40||s===me.TEXT||s===me.X12)&&(a+=2);break}this.cachedTotalSize=a}return i.prototype.getB256Size=function(){for(var e=0,t=this;t!==null&&t.mode===me.B256&&e<=250;)e++,t=t.previous;return e},i.prototype.getPreviousStartMode=function(){return this.previous===null?me.ASCII:this.previous.mode},i.prototype.getPreviousMode=function(){return this.previous===null?me.ASCII:this.previous.getEndMode()},i.prototype.getEndMode=function(){if(this.mode===me.EDF){if(this.characterLength<4)return me.ASCII;var e=this.getLastASCII();if(e>0&&this.getCodewordsRemaining(this.cachedTotalSize+e)<=2-e)return me.ASCII}if(this.mode===me.C40||this.mode===me.TEXT||this.mode===me.X12){if(this.fromPosition+this.characterLength>=this.input.length()&&this.getCodewordsRemaining(this.cachedTotalSize)===0)return me.ASCII;var e=this.getLastASCII();if(e===1&&this.getCodewordsRemaining(this.cachedTotalSize+1)===0)return me.ASCII}return this.mode},i.prototype.getMode=function(){return this.mode},i.prototype.getLastASCII=function(){var e=this.input.length(),t=this.fromPosition+this.characterLength;return e-t>4||t>=e?0:e-t===1?ti.isExtendedASCII(this.input.charAt(t),this.input.getFNC1Character())?0:1:e-t===2?ti.isExtendedASCII(this.input.charAt(t),this.input.getFNC1Character())||ti.isExtendedASCII(this.input.charAt(t+1),this.input.getFNC1Character())?0:Ze.isDigit(this.input.charAt(t))&&Ze.isDigit(this.input.charAt(t+1))?1:2:e-t===3?Ze.isDigit(this.input.charAt(t))&&Ze.isDigit(this.input.charAt(t+1))&&!ti.isExtendedASCII(this.input.charAt(t+2),this.input.getFNC1Character())||Ze.isDigit(this.input.charAt(t+1))&&Ze.isDigit(this.input.charAt(t+2))&&!ti.isExtendedASCII(this.input.charAt(t),this.input.getFNC1Character())?2:0:Ze.isDigit(this.input.charAt(t))&&Ze.isDigit(this.input.charAt(t+1))&&Ze.isDigit(this.input.charAt(t+2))&&Ze.isDigit(this.input.charAt(t+3))?2:0},i.prototype.getMinSymbolSize=function(e){var t,r,n,o,a,s;switch(this.input.getShapeHint()){case 1:try{for(var l=_c(this.squareCodewordCapacities),d=l.next();!d.done;d=l.next()){var h=d.value;if(h>=e)return h}}catch(A){t={error:A}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}break;case 2:try{for(var p=_c(this.rectangularCodewordCapacities),g=p.next();!g.done;g=p.next()){var h=g.value;if(h>=e)return h}}catch(A){n={error:A}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}break}try{for(var _=_c(this.allCodewordCapacities),E=_.next();!E.done;E=_.next()){var h=E.value;if(h>=e)return h}}catch(A){a={error:A}}finally{try{E&&!E.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}return this.allCodewordCapacities[this.allCodewordCapacities.length-1]},i.prototype.getCodewordsRemaining=function(e){return this.getMinSymbolSize(e)-e},i.getBytes=function(e,t){var r=new Uint8Array(t?2:1);return r[0]=e,t&&(r[1]=t),r},i.prototype.setC40Word=function(e,t,r,n,o){var a=1600*(r&255)+40*(n&255)+(o&255)+1;e[t]=a/256,e[t+1]=a%256},i.prototype.getX12Value=function(e){return e===13?0:e===42?1:e===62?2:e===32?3:e>=48&&e<=57?e-44:e>=65&&e<=90?e-51:e},i.prototype.getX12Words=function(){if(this.characterLength%3!==0)throw new Error("X12 words must be a multiple of 3");for(var e=new Uint8Array(this.characterLength/3*2),t=0;t<e.length;t+=2)this.setC40Word(e,t,this.getX12Value(this.input.charAt(this.fromPosition+t/2*3)),this.getX12Value(this.input.charAt(this.fromPosition+t/2*3+1)),this.getX12Value(this.input.charAt(this.fromPosition+t/2*3+2)));return e},i.prototype.getShiftValue=function(e,t,r){return t&&ti.isInC40Shift1Set(e)||!t&&ti.isInTextShift1Set(e)?0:t&&ti.isInC40Shift2Set(e,r)||!t&&ti.isInTextShift2Set(e,r)?1:2},i.prototype.getC40Value=function(e,t,r,n){if(r===n){if(t!==2)throw new Error("FNC1 cannot be used in C40 shift 2");return 27}return e?r<=31?r:r===32?3:r<=47?r-33:r<=57?r-44:r<=64?r-43:r<=90?r-51:r<=95?r-69:r<=127?r-96:r:r===0?0:t===0&&r<=3?r-1:t===1&&r<=31?r:r===32?3:r>=33&&r<=47?r-33:r>=48&&r<=57?r-44:r>=58&&r<=64?r-43:r>=65&&r<=90?r-64:r>=91&&r<=95?r-69:r===96?0:r>=97&&r<=122?r-83:r>=123&&r<=127?r-96:r},i.prototype.getC40Words=function(e,t){for(var r=[],n=0;n<this.characterLength;n++){var o=this.input.charAt(this.fromPosition+n);if(e&&Ze.isNativeC40(o)||!e&&Ze.isNativeText(o))r.push(this.getC40Value(e,0,o,t));else if(ti.isExtendedASCII(o,t)){var s=(o&255)-128;if(e&&Ze.isNativeC40(s)||!e&&Ze.isNativeText(s))r.push(1),r.push(30),r.push(this.getC40Value(e,0,s,t));else{r.push(1),r.push(30);var a=this.getShiftValue(s,e,t);r.push(a),r.push(this.getC40Value(e,a,s,t))}}else{var a=this.getShiftValue(o,e,t);r.push(a),r.push(this.getC40Value(e,a,o,t))}}if(r.length%3!==0){if(!((r.length-2)%3===0&&this.fromPosition+this.characterLength===this.input.length()))throw new Error("C40 words must be a multiple of 3");r.push(0)}for(var l=new Uint8Array(r.length/3*2),d=0,n=0;n<r.length;n+=3)this.setC40Word(l,d,r[n]&255,r[n+1]&255,r[n+2]&255),d+=2;return l},i.prototype.getEDFBytes=function(){for(var e=Math.ceil(this.characterLength/4),t=new Uint8Array(e*3),r=this.fromPosition,n=Math.min(this.fromPosition+this.characterLength-1,this.input.length()-1),o=0;o<e;o+=3){for(var a=[],s=0;s<4;s++)r<=n?a[s]=this.input.charAt(r++)&63:a[s]=r===n+1?31:0;var l=a[0]<<18;l|=a[1]<<12,l|=a[2]<<6,l|=a[3],t[o]=l>>16&255,t[o+1]=l>>8&255,t[o+2]=l&255}return t},i.prototype.getLatchBytes=function(){switch(this.getPreviousMode()){case me.ASCII:case me.B256:switch(this.mode){case me.B256:return i.getBytes(231);case me.C40:return i.getBytes(230);case me.TEXT:return i.getBytes(239);case me.X12:return i.getBytes(238);case me.EDF:return i.getBytes(240)}break;case me.C40:case me.TEXT:case me.X12:if(this.mode!==this.getPreviousMode())switch(this.mode){case me.ASCII:return i.getBytes(254);case me.B256:return i.getBytes(254,231);case me.C40:return i.getBytes(254,230);case me.TEXT:return i.getBytes(254,239);case me.X12:return i.getBytes(254,238);case me.EDF:return i.getBytes(254,240)}break;case me.EDF:if(this.mode!==me.EDF)throw new Error("Cannot switch from EDF to "+this.mode);break}return new Uint8Array(0)},i.prototype.getDataBytes=function(){switch(this.mode){case me.ASCII:return this.input.isECI(this.fromPosition)?i.getBytes(241,this.input.getECIValue(this.fromPosition)+1):ti.isExtendedASCII(this.input.charAt(this.fromPosition),this.input.getFNC1Character())?i.getBytes(235,this.input.charAt(this.fromPosition)-127):this.characterLength===2?i.getBytes(this.input.charAt(this.fromPosition)*10+this.input.charAt(this.fromPosition+1)+130):this.input.isFNC1(this.fromPosition)?i.getBytes(232):i.getBytes(this.input.charAt(this.fromPosition)+1);case me.B256:return i.getBytes(this.input.charAt(this.fromPosition));case me.C40:return this.getC40Words(!0,this.input.getFNC1Character());case me.TEXT:return this.getC40Words(!1,this.input.getFNC1Character());case me.X12:return this.getX12Words();case me.EDF:return this.getEDFBytes()}},i}(),TP=function(i){wP(e,i);function e(t,r,n,o,a){var s=i.call(this,t,r,n)||this;return s.shape=o,s.macroId=a,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e}(Bx);var m$=function(){function i(){}return i.prototype.encode=function(e,t,r,n,o){if(o===void 0&&(o=null),e.trim()==="")throw new Error("Found empty contents");if(t!==le.DATA_MATRIX)throw new Error("Can only encode DATA_MATRIX, but got "+t);if(r<0||n<0)throw new Error("Requested dimensions can't be negative: "+r+"x"+n);var a=0,s=null,l=null;if(o!=null){var d=o.get(It.DATA_MATRIX_SHAPE);d!=null&&(a=d);var h=o.get(It.MIN_SIZE);h!=null&&(s=h);var p=o.get(It.MAX_SIZE);p!=null&&(l=p)}var g,_=o!=null&&o.has(It.DATA_MATRIX_COMPACT)&&!!o.get(It.DATA_MATRIX_COMPACT).toString();if(_){var E=o.has(It.GS1_FORMAT)&&!!o.get(It.GS1_FORMAT).toString(),A=null,N=o.has(It.CHARACTER_SET);N&&(A=_a.forName(o.get(It.CHARACTER_SET).toString())),g=ti.encodeHighLevel(e,A,E?29:-1,a)}else{var F=o!=null&&o.has(It.FORCE_C40)&&!!o.get(It.FORCE_C40).toString();g=Ze.encodeHighLevel(e,a,s,l,F)}var P=Fs.lookup(g.length,a,s,l,!0),L=Wd.encodeECC200(g,P),z=new jd(L,P.getSymbolDataWidth(),P.getSymbolDataHeight());return z.place(),this.encodeLowLevel(z,P,r,n)},i.prototype.encodeLowLevel=function(e,t,r,n){for(var o=t.getSymbolDataWidth(),a=t.getSymbolDataHeight(),s=new pc(t.getSymbolWidth(),t.getSymbolHeight()),l=0,d=0;d<a;d++){var h=void 0;if(d%t.matrixHeight===0){h=0;for(var p=0;p<t.getSymbolWidth();p++)s.setBoolean(h,l,p%2===0),h++;l++}h=0;for(var p=0;p<o;p++)p%t.matrixWidth===0&&(s.setBoolean(h,l,!0),h++),s.setBoolean(h,l,e.getBit(p,d)),h++,p%t.matrixWidth===t.matrixWidth-1&&(s.setBoolean(h,l,d%2===0),h++);if(l++,d%t.matrixHeight===t.matrixHeight-1){h=0;for(var p=0;p<t.getSymbolWidth();p++)s.setBoolean(h,l,!0),h++;l++}}return this.convertByteMatrixToBitMatrix(s,r,n)},i.prototype.convertByteMatrixToBitMatrix=function(e,t,r){var n=e.getWidth(),o=e.getHeight(),a=Math.max(t,n),s=Math.max(r,o),l=Math.min(a/n,s/o),d=(a-n*l)/2,h=(s-o*l)/2,p;r<o||t<n?(d=0,h=0,p=new rr(n,o)):p=new rr(t,r),p.clear();for(var g=0,_=h;g<o;g++,_+=l)for(var E=0,A=d;E<n;E++,A+=l)e.get(E,g)===1&&p.setRegion(A,_,l,l);return p},i}();var DP=function(){function i(){}return i.prototype.isCompact=function(){return this.compact},i.prototype.setCompact=function(e){this.compact=e},i.prototype.getSize=function(){return this.size},i.prototype.setSize=function(e){this.size=e},i.prototype.getLayers=function(){return this.layers},i.prototype.setLayers=function(e){this.layers=e},i.prototype.getCodeWords=function(){return this.codeWords},i.prototype.setCodeWords=function(e){this.codeWords=e},i.prototype.getMatrix=function(){return this.matrix},i.prototype.setMatrix=function(e){this.matrix=e},i}(),Rg=DP;var RP=function(){function i(){}return i.singletonList=function(e){return[e]},i.min=function(e,t){return e.sort(t)[0]},i}(),Og=RP;var OP=function(){function i(e){this.previous=e}return i.prototype.getPrevious=function(){return this.previous},i}(),Vx=OP;var MP=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PP=function(i){MP(e,i);function e(t,r,n){var o=i.call(this,t)||this;return o.value=r,o.bitCount=n,o}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Be.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(Vx),ks=PP;var NP=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FP=function(i){NP(e,i);function e(t,r,n){var o=i.call(this,t,0,0)||this;return o.binaryShiftStart=r,o.binaryShiftByteCount=n,o}return e.prototype.appendTo=function(t,r){for(var n=0;n<this.binaryShiftByteCount;n++)(n===0||n===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):n===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+n],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(ks),Ux=FP;function zx(i,e,t){return new Ux(i,e,t)}function Ls(i,e,t){return new ks(i,e,t)}var jx=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],sn=0,Bs=1,ri=2,Xd=3,xi=4,Gx=new ks(null,0,0);var qd=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];var BP=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function VP(i){var e,t;try{for(var r=BP(i),n=r.next();!n.done;n=r.next()){var o=n.value;Mt.fill(o,-1)}}catch(a){e={error:a}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return i[sn][xi]=0,i[Bs][xi]=0,i[Bs][sn]=28,i[Xd][xi]=0,i[ri][xi]=0,i[ri][sn]=15,i}var $d=VP(Mt.createInt32Array(6,6));var UP=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zP=function(){function i(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}return i.prototype.getMode=function(){return this.mode},i.prototype.getToken=function(){return this.token},i.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},i.prototype.getBitCount=function(){return this.bitCount},i.prototype.latchAndAppend=function(e,t){var r=this.bitCount,n=this.token;if(e!==this.mode){var o=qd[this.mode][e];n=Ls(n,o&65535,o>>16),r+=o>>16}var a=e===ri?4:5;return n=Ls(n,t,a),new i(n,e,0,r+a)},i.prototype.shiftAndAppend=function(e,t){var r=this.token,n=this.mode===ri?4:5;return r=Ls(r,$d[this.mode][e],n),r=Ls(r,t,5),new i(r,this.mode,0,this.bitCount+n+5)},i.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,n=this.bitCount;if(this.mode===xi||this.mode===ri){var o=qd[r][sn];t=Ls(t,o&65535,o>>16),n+=o>>16,r=sn}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new i(t,r,this.binaryShiftByteCount+1,n+a);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},i.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=zx(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new i(t,this.mode,0,this.bitCount)},i.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(qd[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=i.calculateBinaryShiftCost(e)-i.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},i.prototype.toBitArray=function(e){for(var t,r,n=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())n.unshift(o);var a=new er;try{for(var s=UP(n),l=s.next();!l.done;l=s.next()){var d=l.value;d.appendTo(a,e)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a},i.prototype.toString=function(){return Ye.format("%s bits=%d bytes=%d",jx[this.mode],this.bitCount,this.binaryShiftByteCount)},i.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},i.INITIAL_STATE=new i(Gx,sn,0,0),i}(),Wx=zP;function jP(i){var e=Ye.getCharCode(" "),t=Ye.getCharCode("."),r=Ye.getCharCode(",");i[sn][e]=1;for(var n=Ye.getCharCode("Z"),o=Ye.getCharCode("A"),a=o;a<=n;a++)i[sn][a]=a-o+2;i[Bs][e]=1;for(var s=Ye.getCharCode("z"),l=Ye.getCharCode("a"),a=l;a<=s;a++)i[Bs][a]=a-l+2;i[ri][e]=1;for(var d=Ye.getCharCode("9"),h=Ye.getCharCode("0"),a=h;a<=d;a++)i[ri][a]=a-h+2;i[ri][r]=12,i[ri][t]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"],g=0;g<p.length;g++)i[Xd][Ye.getCharCode(p[g])]=g;for(var _=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],g=0;g<_.length;g++)Ye.getCharCode(_[g])>0&&(i[xi][Ye.getCharCode(_[g])]=g);return i}var Zd=jP(Mt.createInt32Array(5,256));var Kd=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HP=function(){function i(e){this.text=e}return i.prototype.encode=function(){for(var e=Ye.getCharCode(" "),t=Ye.getCharCode(`
`),r=Og.singletonList(Wx.INITIAL_STATE),n=0;n<this.text.length;n++){var o=void 0,a=n+1<this.text.length?this.text[n+1]:0;switch(this.text[n]){case Ye.getCharCode("\r"):o=a===t?2:0;break;case Ye.getCharCode("."):o=a===e?3:0;break;case Ye.getCharCode(","):o=a===e?4:0;break;case Ye.getCharCode(":"):o=a===e?5:0;break;default:o=0}o>0?(r=i.updateStateListForPair(r,n,o),n++):r=this.updateStateListForChar(r,n)}var s=Og.min(r,function(l,d){return l.getBitCount()-d.getBitCount()});return s.toBitArray(this.text)},i.prototype.updateStateListForChar=function(e,t){var r,n,o=[];try{for(var a=Kd(e),s=a.next();!s.done;s=a.next()){var l=s.value;this.updateStateForChar(l,t,o)}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i.simplifyStates(o)},i.prototype.updateStateForChar=function(e,t,r){for(var n=this.text[t]&255,o=Zd[e.getMode()][n]>0,a=null,s=0;s<=xi;s++){var l=Zd[s][n];if(l>0){if(a==null&&(a=e.endBinaryShift(t)),!o||s===e.getMode()||s===ri){var d=a.latchAndAppend(s,l);r.push(d)}if(!o&&$d[e.getMode()][s]>=0){var h=a.shiftAndAppend(s,l);r.push(h)}}}if(e.getBinaryShiftByteCount()>0||Zd[e.getMode()][n]===0){var p=e.addBinaryShiftChar(t);r.push(p)}},i.updateStateListForPair=function(e,t,r){var n,o,a=[];try{for(var s=Kd(e),l=s.next();!l.done;l=s.next()){var d=l.value;this.updateStateForPair(d,t,r,a)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return this.simplifyStates(a)},i.updateStateForPair=function(e,t,r,n){var o=e.endBinaryShift(t);if(n.push(o.latchAndAppend(xi,r)),e.getMode()!==xi&&n.push(o.shiftAndAppend(xi,r)),r===3||r===4){var a=o.latchAndAppend(ri,16-r).latchAndAppend(ri,1);n.push(a)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(s)}},i.simplifyStates=function(e){var t,r,n,o,a=[];try{for(var s=Kd(e),l=s.next();!l.done;l=s.next()){var d=l.value,h=!0,p=function(N){if(N.isBetterThanOrEqualTo(d))return h=!1,"break";d.isBetterThanOrEqualTo(N)&&(a=a.filter(function(F){return F!==N}))};try{for(var g=(n=void 0,Kd(a)),_=g.next();!_.done;_=g.next()){var E=_.value,A=p(E);if(A==="break")break}}catch(N){n={error:N}}finally{try{_&&!_.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}h&&a.push(d)}}catch(N){t={error:N}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a},i}(),Mg=HP;var WP=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XP=function(){function i(){}return i.encodeBytes=function(e){return i.encode(e,i.DEFAULT_EC_PERCENT,i.DEFAULT_AZTEC_LAYERS)},i.encode=function(e,t,r){var n=new Mg(e).encode(),o=Be.truncDivision(n.getSize()*t,100)+11,a=n.getSize()+o,s,l,d,h,p;if(r!==i.DEFAULT_AZTEC_LAYERS){if(s=r<0,l=Math.abs(r),l>(s?i.MAX_NB_BITS_COMPACT:i.MAX_NB_BITS))throw new se(Ye.format("Illegal value %s for layers",r));d=i.totalBitsInLayer(l,s),h=i.WORD_SIZE[l];var g=d-d%h;if(p=i.stuffBits(n,h),p.getSize()+o>g)throw new se("Data to large for user specified layer");if(s&&p.getSize()>h*64)throw new se("Data to large for user specified layer")}else{h=0,p=null;for(var _=0;;_++){if(_>i.MAX_NB_BITS)throw new se("Data too large for an Aztec code");if(s=_<=3,l=s?_+1:_,d=i.totalBitsInLayer(l,s),!(a>d)){(p==null||h!==i.WORD_SIZE[l])&&(h=i.WORD_SIZE[l],p=i.stuffBits(n,h));var g=d-d%h;if(!(s&&p.getSize()>h*64)&&p.getSize()+o<=g)break}}}var E=i.generateCheckWords(p,d,h),A=p.getSize()/h,N=i.generateModeMessage(s,l,A),F=(s?11:14)+l*4,P=new Int32Array(F),L;if(s){L=F;for(var _=0;_<P.length;_++)P[_]=_}else{L=F+1+2*Be.truncDivision(Be.truncDivision(F,2)-1,15);for(var z=Be.truncDivision(F,2),X=Be.truncDivision(L,2),_=0;_<z;_++){var Q=_+Be.truncDivision(_,15);P[z-_-1]=X-Q-1,P[z+_]=X+Q+1}}for(var re=new rr(L),_=0,be=0;_<l;_++){for(var ke=(l-_)*4+(s?9:12),Ve=0;Ve<ke;Ve++)for(var Et=Ve*2,Ke=0;Ke<2;Ke++)E.get(be+Et+Ke)&&re.set(P[_*2+Ke],P[_*2+Ve]),E.get(be+ke*2+Et+Ke)&&re.set(P[_*2+Ve],P[F-1-_*2-Ke]),E.get(be+ke*4+Et+Ke)&&re.set(P[F-1-_*2-Ke],P[F-1-_*2-Ve]),E.get(be+ke*6+Et+Ke)&&re.set(P[F-1-_*2-Ve],P[_*2+Ke]);be+=ke*8}if(i.drawModeMessage(re,s,L,N),s)i.drawBullsEye(re,Be.truncDivision(L,2),5);else{i.drawBullsEye(re,Be.truncDivision(L,2),7);for(var _=0,Ve=0;_<Be.truncDivision(F,2)-1;_+=15,Ve+=16)for(var Ke=Be.truncDivision(L,2)&1;Ke<L;Ke+=2)re.set(Be.truncDivision(L,2)-Ve,Ke),re.set(Be.truncDivision(L,2)+Ve,Ke),re.set(Ke,Be.truncDivision(L,2)-Ve),re.set(Ke,Be.truncDivision(L,2)+Ve)}var _t=new Rg;return _t.setCompact(s),_t.setSize(L),_t.setLayers(l),_t.setCodeWords(A),_t.setMatrix(re),_t},i.drawBullsEye=function(e,t,r){for(var n=0;n<r;n+=2)for(var o=t-n;o<=t+n;o++)e.set(o,t-n),e.set(o,t+n),e.set(t-n,o),e.set(t+n,o);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},i.generateModeMessage=function(e,t,r){var n=new er;return e?(n.appendBits(t-1,2),n.appendBits(r-1,6),n=i.generateCheckWords(n,28,4)):(n.appendBits(t-1,5),n.appendBits(r-1,11),n=i.generateCheckWords(n,40,4)),n},i.drawModeMessage=function(e,t,r,n){var o=Be.truncDivision(r,2);if(t)for(var a=0;a<7;a++){var s=o-3+a;n.get(a)&&e.set(s,o-5),n.get(a+7)&&e.set(o+5,s),n.get(20-a)&&e.set(s,o+5),n.get(27-a)&&e.set(o-5,s)}else for(var a=0;a<10;a++){var s=o-5+a+Be.truncDivision(a,5);n.get(a)&&e.set(s,o-7),n.get(a+10)&&e.set(o+7,s),n.get(29-a)&&e.set(s,o+7),n.get(39-a)&&e.set(o-7,s)}},i.generateCheckWords=function(e,t,r){var n,o,a=e.getSize()/r,s=new hc(i.getGF(r)),l=Be.truncDivision(t,r),d=i.bitsToWords(e,r,l);s.encode(d,l-a);var h=t%r,p=new er;p.appendBits(0,h);try{for(var g=WP(Array.from(d)),_=g.next();!_.done;_=g.next()){var E=_.value;p.appendBits(E,r)}}catch(A){n={error:A}}finally{try{_&&!_.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}return p},i.bitsToWords=function(e,t,r){var n=new Int32Array(r),o,a;for(o=0,a=e.getSize()/t;o<a;o++){for(var s=0,l=0;l<t;l++)s|=e.get(o*t+l)?1<<t-l-1:0;n[o]=s}return n},i.getGF=function(e){switch(e){case 4:return wr.AZTEC_PARAM;case 6:return wr.AZTEC_DATA_6;case 8:return wr.AZTEC_DATA_8;case 10:return wr.AZTEC_DATA_10;case 12:return wr.AZTEC_DATA_12;default:throw new se("Unsupported word size "+e)}},i.stuffBits=function(e,t){for(var r=new er,n=e.getSize(),o=(1<<t)-2,a=0;a<n;a+=t){for(var s=0,l=0;l<t;l++)(a+l>=n||e.get(a+l))&&(s|=1<<t-1-l);(s&o)===o?(r.appendBits(s&o,t),a--):s&o?r.appendBits(s,t):(r.appendBits(s|1,t),a--)}return r},i.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},i.DEFAULT_EC_PERCENT=33,i.DEFAULT_AZTEC_LAYERS=0,i.MAX_NB_BITS=32,i.MAX_NB_BITS_COMPACT=4,i.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),i}(),yc=XP;var nZ=function(){function i(){}return i.prototype.encode=function(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)},i.prototype.encodeWithHints=function(e,t,r,n,o){var a=gc.ISO_8859_1,s=yc.DEFAULT_EC_PERCENT,l=yc.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(It.CHARACTER_SET)&&(a=_a.forName(o.get(It.CHARACTER_SET).toString())),o.has(It.ERROR_CORRECTION)&&(s=Be.parseInt(o.get(It.ERROR_CORRECTION).toString())),o.has(It.AZTEC_LAYERS)&&(l=Be.parseInt(o.get(It.AZTEC_LAYERS).toString()))),i.encodeLayers(e,t,r,n,a,s,l)},i.encodeLayers=function(e,t,r,n,o,a,s){if(t!==le.AZTEC)throw new se("Can only encode AZTEC, but got "+t);var l=yc.encode(Ye.getBytes(e,o),a,s);return i.renderResult(l,r,n)},i.renderResult=function(e,t,r){var n=e.getMatrix();if(n==null)throw new $r;for(var o=n.getWidth(),a=n.getHeight(),s=Math.max(t,o),l=Math.max(r,a),d=Math.min(s/o,l/a),h=(s-o*d)/2,p=(l-a*d)/2,g=new rr(s,l),_=0,E=p;_<a;_++,E+=d)for(var A=0,N=h;A<o;A++,N+=d)n.get(A,_)&&g.setRegion(N,E,d,d);return g},i}();var YP=["wrapper"],qP=["sourceImage"];function $P(i,e){if(i&1){let t=Jr();he(0,"img",5,0),ft("load",function(){rt(t);let n=Ne();return it(n.imageLoadedInView())})("mousedown",function(n){rt(t);let o=Ne();return it(o.startMove(n,o.moveTypes.Drag))})("touchstart",function(n){rt(t);let o=Ne();return it(o.startMove(n,o.moveTypes.Drag))})("error",function(n){rt(t);let o=Ne();return it(o.loadImageError(n))}),ye()}if(i&2){let t=e.ngIf,r=Ne();pn("visibility",r.imageVisible?"visible":"hidden")("transform",r.safeTransformStyle),Jt("ngx-ic-draggable",!r.disabled&&r.allowMoveImage),nt("src",t,ja),Tr("alt",r.imageAltText)}}function ZP(i,e){if(i&1){let t=Jr();Zv(0),he(1,"span",9),ft("mousedown",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"topleft"))})("touchstart",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"topleft"))}),yt(2,"span",10),ye(),he(3,"span",11),yt(4,"span",10),ye(),he(5,"span",12),ft("mousedown",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"topright"))})("touchstart",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"topright"))}),yt(6,"span",10),ye(),he(7,"span",13),yt(8,"span",10),ye(),he(9,"span",14),ft("mousedown",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"bottomright"))})("touchstart",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"bottomright"))}),yt(10,"span",10),ye(),he(11,"span",15),yt(12,"span",10),ye(),he(13,"span",16),ft("mousedown",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"bottomleft"))})("touchstart",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"bottomleft"))}),yt(14,"span",10),ye(),he(15,"span",17),yt(16,"span",10),ye(),he(17,"span",18),ft("mousedown",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"top"))})("touchstart",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"top"))}),ye(),he(18,"span",19),ft("mousedown",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"right"))})("touchstart",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"right"))}),ye(),he(19,"span",20),ft("mousedown",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"bottom"))})("touchstart",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"bottom"))}),ye(),he(20,"span",21),ft("mousedown",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"left"))})("touchstart",function(n){rt(t);let o=Ne(2);return it(o.startMove(n,o.moveTypes.Resize,"left"))}),ye(),Kv()}}function KP(i,e){if(i&1){let t=Jr();he(0,"div",6),ft("keydown",function(n){rt(t);let o=Ne();return it(o.keyboardAccess(n))}),he(1,"div",7),ft("mousedown",function(n){rt(t);let o=Ne();return it(o.startMove(n,o.moveTypes.Move))})("touchstart",function(n){rt(t);let o=Ne();return it(o.startMove(n,o.moveTypes.Move))}),ye(),Qt(2,ZP,21,0,"ng-container",8),ye()}if(i&2){let t=Ne();pn("top",t.state.cropper.y1,"px")("left",t.state.cropper.x1,"px")("width",t.state.cropper.x2-t.state.cropper.x1,"px")("height",t.state.cropper.y2-t.state.cropper.y1,"px")("margin-left",t.state.options.alignImage==="center"?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),Jt("ngx-ic-round",t.state.options.roundCropper),Tr("aria-label",t.state.options.cropperFrameAriaLabel),Oe(2),nt("ngIf",!t.state.options.hideResizeSquares&&!(t.state.options.cropperStaticWidth&&t.state.options.cropperStaticHeight))}}function Qd(i,e,t){return i=QP(i,e),Jd(i,e,t)}function QP(i,e){let t=i.x2-i.x1,r=i.y2-i.y1,n=i.x1+t/2,o=i.y1+r/2;e.options.cropperStaticHeight&&e.options.cropperStaticWidth?(t=e.maxSize.width>e.options.cropperStaticWidth?e.options.cropperStaticWidth:e.maxSize.width,r=e.maxSize.height>e.options.cropperStaticHeight?e.options.cropperStaticHeight:e.maxSize.height):(t=Math.max(e.cropperScaledMinWidth,Math.min(t,e.cropperScaledMaxWidth,e.maxSize.width)),r=Math.max(e.cropperScaledMinHeight,Math.min(r,e.cropperScaledMaxHeight,e.maxSize.height)),e.options.maintainAspectRatio&&(e.maxSize.width/e.options.aspectRatio<e.maxSize.height?r=t/e.options.aspectRatio:t=r*e.options.aspectRatio));let a=n-t/2,s=a+t,l=o-r/2,d=l+r;return{x1:a,x2:s,y1:l,y2:d}}function Jd(i,e,t=!1){return i.x1<0&&(i=gt(J({},i),{x1:0,x2:i.x2-(t?i.x1:0)})),i.y1<0&&(i=gt(J({},i),{y2:i.y2-(t?i.y1:0),y1:0})),i.x2>e.maxSize.width&&(i=gt(J({},i),{x1:i.x1-(t?i.x2-e.maxSize.width:0),x2:e.maxSize.width})),i.y2>e.maxSize.height&&(i=gt(J({},i),{y1:i.y1-(t?i.y2-e.maxSize.height:0),y2:e.maxSize.height})),i}function JP(i,e){let t=ef(i)-e.clientX,r=tf(i)-e.clientY;return{x1:e.cropper.x1+t,y1:e.cropper.y1+r,x2:e.cropper.x2+t,y2:e.cropper.y2+r}}function Xx(i,e,t){let r=J({},t.cropper),n=ef(i)-e.clientX,o=tf(i)-e.clientY;switch(e.position){case"left":r.x1=Math.min(Math.max(e.cropper.x1+n,r.x2-t.cropperScaledMaxWidth),r.x2-t.cropperScaledMinWidth);break;case"topleft":r.x1=Math.min(Math.max(e.cropper.x1+n,r.x2-t.cropperScaledMaxWidth),r.x2-t.cropperScaledMinWidth),r.y1=Math.min(Math.max(e.cropper.y1+o,r.y2-t.cropperScaledMaxHeight),r.y2-t.cropperScaledMinHeight);break;case"top":r.y1=Math.min(Math.max(e.cropper.y1+o,r.y2-t.cropperScaledMaxHeight),r.y2-t.cropperScaledMinHeight);break;case"topright":r.x2=Math.max(Math.min(e.cropper.x2+n,r.x1+t.cropperScaledMaxWidth),r.x1+t.cropperScaledMinWidth),r.y1=Math.min(Math.max(e.cropper.y1+o,r.y2-t.cropperScaledMaxHeight),r.y2-t.cropperScaledMinHeight);break;case"right":r.x2=Math.max(Math.min(e.cropper.x2+n,r.x1+t.cropperScaledMaxWidth),r.x1+t.cropperScaledMinWidth);break;case"bottomright":r.x2=Math.max(Math.min(e.cropper.x2+n,r.x1+t.cropperScaledMaxWidth),r.x1+t.cropperScaledMinWidth),r.y2=Math.max(Math.min(e.cropper.y2+o,r.y1+t.cropperScaledMaxHeight),r.y1+t.cropperScaledMinHeight);break;case"bottom":r.y2=Math.max(Math.min(e.cropper.y2+o,r.y1+t.cropperScaledMaxHeight),r.y1+t.cropperScaledMinHeight);break;case"bottomleft":r.x1=Math.min(Math.max(e.cropper.x1+n,r.x2-t.cropperScaledMaxWidth),r.x2-t.cropperScaledMinWidth),r.y2=Math.max(Math.min(e.cropper.y2+o,r.y1+t.cropperScaledMaxHeight),r.y1+t.cropperScaledMinHeight);break;case"center":let a="scale"in i?i.scale:1,s=Math.min(Math.max(t.cropperScaledMinWidth,Math.abs(e.cropper.x2-e.cropper.x1)*a),t.cropperScaledMaxWidth),l=Math.min(Math.max(t.cropperScaledMinHeight,Math.abs(e.cropper.y2-e.cropper.y1)*a),t.cropperScaledMaxHeight);r.x1=e.clientX-s/2,r.x2=e.clientX+s/2,r.y1=e.clientY-l/2,r.y2=e.clientY+l/2,r.x1<0?(r.x2-=r.x1,r.x1=0):r.x2>t.maxSize.width&&(r.x1-=r.x2-t.maxSize.width,r.x2=t.maxSize.width),r.y1<0?(r.y2-=r.y1,r.y1=0):r.y2>t.maxSize.height&&(r.y1-=r.y2-t.maxSize.height,r.y2=t.maxSize.height);break}return t.options.maintainAspectRatio?e4(e.position,r,t):r}function e4(i,e,t){e=J({},e);let r=0,n=0;switch(i){case"top":e.x2=e.x1+(e.y2-e.y1)*t.options.aspectRatio,r=Math.max(e.x2-t.maxSize.width,0),n=Math.max(0-e.y1,0),(r>0||n>0)&&(e.x2-=n*t.options.aspectRatio>r?n*t.options.aspectRatio:r,e.y1+=n*t.options.aspectRatio>r?n:r/t.options.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*t.options.aspectRatio,r=Math.max(e.x2-t.maxSize.width,0),n=Math.max(e.y2-t.maxSize.height,0),(r>0||n>0)&&(e.x2-=n*t.options.aspectRatio>r?n*t.options.aspectRatio:r,e.y2-=n*t.options.aspectRatio>r?n:r/t.options.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/t.options.aspectRatio,r=Math.max(0-e.x1,0),n=Math.max(0-e.y1,0),(r>0||n>0)&&(e.x1+=n*t.options.aspectRatio>r?n*t.options.aspectRatio:r,e.y1+=n*t.options.aspectRatio>r?n:r/t.options.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/t.options.aspectRatio,r=Math.max(e.x2-t.maxSize.width,0),n=Math.max(0-e.y1,0),(r>0||n>0)&&(e.x2-=n*t.options.aspectRatio>r?n*t.options.aspectRatio:r,e.y1+=n*t.options.aspectRatio>r?n:r/t.options.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/t.options.aspectRatio,r=Math.max(e.x2-t.maxSize.width,0),n=Math.max(e.y2-t.maxSize.height,0),(r>0||n>0)&&(e.x2-=n*t.options.aspectRatio>r?n*t.options.aspectRatio:r,e.y2-=n*t.options.aspectRatio>r?n:r/t.options.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/t.options.aspectRatio,r=Math.max(0-e.x1,0),n=Math.max(e.y2-t.maxSize.height,0),(r>0||n>0)&&(e.x1+=n*t.options.aspectRatio>r?n*t.options.aspectRatio:r,e.y2-=n*t.options.aspectRatio>r?n:r/t.options.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*t.options.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/t.options.aspectRatio;let o=Math.max(0-e.x1,0),a=Math.max(e.x2-t.maxSize.width,0),s=Math.max(e.y2-t.maxSize.height,0),l=Math.max(0-e.y1,0);(o>0||a>0||s>0||l>0)&&(e.x1+=s*t.options.aspectRatio>o?s*t.options.aspectRatio:o,e.x2-=l*t.options.aspectRatio>a?l*t.options.aspectRatio:a,e.y1+=l*t.options.aspectRatio>a?l:a/t.options.aspectRatio,e.y2-=s*t.options.aspectRatio>o?s:o/t.options.aspectRatio);break}return e}function ef(i){return"touches"in i&&i.touches[0]?i.touches[0].clientX:"clientX"in i?i.clientX:0}function tf(i){return"touches"in i&&i.touches[0]?i.touches[0].clientY:"clientX"in i?i.clientY:0}var Pg=class{constructor(){this.options={format:"png",output:"blob",autoCrop:!0,maintainAspectRatio:!0,aspectRatio:1,resetCropOnAspectRatioChange:!0,resizeToWidth:0,resizeToHeight:0,cropperMinWidth:0,cropperMinHeight:0,cropperMaxHeight:0,cropperMaxWidth:0,cropperStaticWidth:0,cropperStaticHeight:0,canvasRotation:0,roundCropper:!1,onlyScaleDown:!1,imageQuality:92,backgroundColor:null,containWithinAspectRatio:!1,hideResizeSquares:!1,alignImage:"center",cropperFrameAriaLabel:void 0,checkImageType:!0},this.cropper={x1:0,x2:0,y1:0,y2:0},this.transform={},this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=3}setOptionsFromChanges(e){e.options?.currentValue&&this.setOptions(e.options.currentValue);let t=Object.entries(e).filter(([r])=>r in this.options).reduce((r,[n,o])=>gt(J({},r),{[n]:o.currentValue}),{});Object.keys(t).length>0&&this.setOptions(t)}setOptions(e){if(this.options=J(J({},this.options),e||{}),this.validateOptions(),!this.loadedImage?.transformed.image.complete||!this.maxSize)return;let t=!1;this.options.maintainAspectRatio&&e.aspectRatio||e.maintainAspectRatio?(this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.options.maintainAspectRatio&&(this.options.resetCropOnAspectRatioChange||!this.aspectRatioIsCorrect())&&(this.cropper=this.maxSizeCropperPosition(),t=!0)):((e.cropperMinWidth||e.cropperMinHeight)&&(this.setCropperScaledMinSize(),t=!0),(e.cropperMaxWidth||e.cropperMaxHeight)&&(this.setCropperScaledMaxSize(),t=!0),(e.cropperStaticWidth||e.cropperStaticHeight)&&(t=!0)),t&&(this.cropper=Qd(this.cropper,this,!1))}validateOptions(){if(this.options.maintainAspectRatio&&!this.options.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}setMaxSize(e,t){this.maxSize={width:e,height:t},this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}setCropperScaledMinSize(){this.loadedImage?.transformed.size?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.cropperScaledMinWidth=this.options.cropperMinWidth>0?Math.max(20,this.options.cropperMinWidth/this.loadedImage.transformed.size.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.options.maintainAspectRatio?this.cropperScaledMinHeight=Math.max(20,this.cropperScaledMinWidth/this.options.aspectRatio):this.options.cropperMinHeight>0?this.cropperScaledMinHeight=Math.max(20,this.options.cropperMinHeight/this.loadedImage.transformed.size.height*this.maxSize.height):this.cropperScaledMinHeight=20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed.size){let e=this.loadedImage.transformed.size.width/this.maxSize.width;this.cropperScaledMaxWidth=this.options.cropperMaxWidth>20?this.options.cropperMaxWidth/e:this.maxSize.width,this.cropperScaledMaxHeight=this.options.cropperMaxHeight>20?this.options.cropperMaxHeight/e:this.maxSize.height,this.options.maintainAspectRatio&&(this.cropperScaledMaxWidth>this.cropperScaledMaxHeight*this.options.aspectRatio?this.cropperScaledMaxWidth=this.cropperScaledMaxHeight*this.options.aspectRatio:this.cropperScaledMaxWidth<this.cropperScaledMaxHeight*this.options.aspectRatio&&(this.cropperScaledMaxHeight=this.cropperScaledMaxWidth/this.options.aspectRatio))}else this.cropperScaledMaxWidth=this.maxSize.width,this.cropperScaledMaxHeight=this.maxSize.height}equalsCropperPosition(e){return this.cropper==null&&e==null||this.cropper!=null&&e!=null&&this.cropper.x1.toFixed(3)===e.x1.toFixed(3)&&this.cropper.y1.toFixed(3)===e.y1.toFixed(3)&&this.cropper.x2.toFixed(3)===e.x2.toFixed(3)&&this.cropper.y2.toFixed(3)===e.y2.toFixed(3)}equalsTransformTranslate(e){return(this.transform.translateH??0)===(e.translateH??0)&&(this.transform.translateV??0)===(e.translateV??0)}equalsTransform(e){return this.equalsTransformTranslate(e)&&(this.transform.scale??1)===(e.scale??1)&&(this.transform.rotate??0)===(e.rotate??0)&&(this.transform.flipH??!1)===(e.flipH??!1)&&(this.transform.flipV??!1)===(e.flipV??!1)}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.options.aspectRatio}resizeCropperPosition(e){this.cropper&&(e.width!==this.maxSize.width||e.height!==this.maxSize.height)&&(this.cropper={x1:this.cropper.x1*this.maxSize.width/e.width,x2:this.cropper.x2*this.maxSize.width/e.width,y1:this.cropper.y1*this.maxSize.height/e.height,y2:this.cropper.y2*this.maxSize.height/e.height})}maxSizeCropperPosition(){return{x1:0,y1:0,x2:this.maxSize.width,y2:this.maxSize.height}}},Mi=function(i){return i.Drag="drag",i.Move="move",i.Resize="resize",i.Pinch="pinch",i}(Mi||{});function t4(i,e,t){let r=i.width,n=i.height;e=Math.round(e),t=Math.round(t);let o=r/e,a=n/t,s=Math.ceil(o/2),l=Math.ceil(a/2),d=i.getContext("2d");if(d){let h=d.getImageData(0,0,r,n),p=d.createImageData(e,t),g=h.data,_=p.data;for(let E=0;E<t;E++)for(let A=0;A<e;A++){let N=(A+E*e)*4,F=E*a,P=0,L=0,z=0,X=0,Q=0,re=0,be=0,ke=Math.floor(A*o),Ve=Math.floor(E*a),Et=Math.ceil((A+1)*o),Ke=Math.ceil((E+1)*a);Et=Math.min(Et,r),Ke=Math.min(Ke,n);for(let _t=Ve;_t<Ke;_t++){let Mr=Math.abs(F-_t)/l,Ei=A*o,Yn=Mr*Mr;for(let Pi=ke;Pi<Et;Pi++){let wn=Math.abs(Ei-Pi)/s,cr=Math.sqrt(Yn+wn*wn);if(cr>=1)continue;P=2*cr*cr*cr-3*cr*cr+1;let Cn=4*(Pi+_t*r);be+=P*g[Cn+3],z+=P,g[Cn+3]<255&&(P=P*g[Cn+3]/250),X+=P*g[Cn],Q+=P*g[Cn+1],re+=P*g[Cn+2],L+=P}}_[N]=X/L,_[N+1]=Q/L,_[N+2]=re/L,_[N+3]=be/z}i.width=e,i.height=t,d.putImageData(p,0,0)}}function Yx(i,e){return i/100*e}var Ng=class{crop(e,t){let r=this.getImagePosition(e),n=r.x2-r.x1,o=r.y2-r.y1,a=document.createElement("canvas");a.width=n,a.height=o;let s=a.getContext("2d");if(!s)return null;e.options.backgroundColor!=null&&(s.fillStyle=e.options.backgroundColor,s.fillRect(0,0,n,o));let l=(e.transform.scale||1)*(e.transform.flipH?-1:1),d=(e.transform.scale||1)*(e.transform.flipV?-1:1),{translateH:h,translateV:p}=this.getCanvasTranslate(e),g=e.loadedImage.transformed;s.setTransform(l,0,0,d,g.size.width/2+h,g.size.height/2+p),s.translate(-r.x1/l,-r.y1/d),s.rotate((e.transform.rotate||0)*Math.PI/180),s.drawImage(g.image,-g.size.width/2,-g.size.height/2);let _={width:n,height:o,imagePosition:r,cropperPosition:J({},e.cropper)};e.options.containWithinAspectRatio&&(_.offsetImagePosition=this.getOffsetImagePosition(e));let E=this.getResizeRatio(n,o,e.options);return E!==1&&(_.width=Math.round(n*E),_.height=e.options.maintainAspectRatio?Math.round(_.width/e.options.aspectRatio):Math.round(o*E),t4(a,_.width,_.height)),t==="blob"?this.cropToBlob(_,a,e):(_.base64=a.toDataURL("image/"+e.options.format,this.getQuality(e.options)),_)}cropToBlob(e,t,r){return Ee(this,null,function*(){return e.blob=yield new Promise(n=>t.toBlob(n,"image/"+r.options.format,this.getQuality(r.options))),e.blob&&(e.objectUrl=URL.createObjectURL(e.blob)),e})}getCanvasTranslate(e){if(e.transform.translateUnit==="px"){let t=this.getRatio(e);return{translateH:(e.transform.translateH||0)*t,translateV:(e.transform.translateV||0)*t}}else return{translateH:e.transform.translateH?Yx(e.transform.translateH,e.loadedImage.transformed.size.width):0,translateV:e.transform.translateV?Yx(e.transform.translateV,e.loadedImage.transformed.size.height):0}}getRatio(e){return e.loadedImage.transformed.size.width/e.maxSize.width}getImagePosition(e){let t=this.getRatio(e),r={x1:Math.round(e.cropper.x1*t),y1:Math.round(e.cropper.y1*t),x2:Math.round(e.cropper.x2*t),y2:Math.round(e.cropper.y2*t)};return e.options.containWithinAspectRatio||(r.x1=Math.max(r.x1,0),r.y1=Math.max(r.y1,0),r.x2=Math.min(r.x2,e.loadedImage.transformed.size.width),r.y2=Math.min(r.y2,e.loadedImage.transformed.size.height)),r}getOffsetImagePosition(e){let t=e.options.canvasRotation+e.loadedImage.exifTransform.rotate,r=this.getRatio(e),n,o;t%2?(n=(e.loadedImage.transformed.size.width-e.loadedImage.original.size.height)/2,o=(e.loadedImage.transformed.size.height-e.loadedImage.original.size.width)/2):(n=(e.loadedImage.transformed.size.width-e.loadedImage.original.size.width)/2,o=(e.loadedImage.transformed.size.height-e.loadedImage.original.size.height)/2);let a={x1:Math.round(e.cropper.x1*r)-n,y1:Math.round(e.cropper.y1*r)-o,x2:Math.round(e.cropper.x2*r)-n,y2:Math.round(e.cropper.y2*r)-o};return e.options.containWithinAspectRatio||(a.x1=Math.max(a.x1,0),a.y1=Math.max(a.y1,0),a.x2=Math.min(a.x2,e.loadedImage.transformed.size.width),a.y2=Math.min(a.y2,e.loadedImage.transformed.size.height)),a}getResizeRatio(e,t,r){let n=r.resizeToWidth/e,o=r.resizeToHeight/t,a=new Array;r.resizeToWidth>0&&a.push(n),r.resizeToHeight>0&&a.push(o);let s=a.length===0?1:Math.min(...a);return s>1&&!r.onlyScaleDown?s:Math.min(s,1)}getQuality(e){return Math.min(1,Math.max(0,e.imageQuality/100))}},r4="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==";function i4(){return new Promise(i=>{let e=new Image;e.onload=()=>{let t=e.width===1&&e.height===2;i(t)},e.src=r4})}function n4(i){switch(typeof i=="object"&&(i=o4(i)),i){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}function o4(i){let e=new DataView(i);if(e.getUint16(0,!1)!==65496)return-2;let t=e.byteLength,r=2;for(;r<t;){if(e.getUint16(r+2,!1)<=8)return-1;let n=e.getUint16(r,!1);if(r+=2,n==65505){if(e.getUint32(r+=2,!1)!==1165519206)return-1;let o=e.getUint16(r+=6,!1)==18761;r+=e.getUint32(r+4,o);let a=e.getUint16(r,o);r+=2;for(let s=0;s<a;s++)if(e.getUint16(r+s*12,o)==274)return e.getUint16(r+s*12+8,o)}else{if((n&65280)!==65280)break;r+=e.getUint16(r,!1)}}return-1}var Fg=class{constructor(){this.autoRotateSupported=i4()}loadImageFile(e,t){return Ee(this,null,function*(){let r=yield e.arrayBuffer();return t.options.checkImageType?yield this.checkImageTypeAndLoadImageFromArrayBuffer(r,e.type,t):yield this.loadImageFromArrayBuffer(r,t)})}checkImageTypeAndLoadImageFromArrayBuffer(e,t,r){return this.isValidImageType(t)?this.loadImageFromArrayBuffer(e,r,t):Promise.reject(new Error("Invalid image type"))}isValidImageType(e){return/image\/(png|jpg|jpeg|heic|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(e)}loadImageFromURL(e,t){return Ee(this,null,function*(){let n=yield(yield fetch(e)).blob(),o=yield n.arrayBuffer();return yield this.loadImageFromArrayBuffer(o,t,n.type)})}loadBase64Image(e,t){let r=this.base64ToArrayBuffer(e);return this.loadImageFromArrayBuffer(r,t)}base64ToArrayBuffer(e){e=e.replace(/^data:([^;]+);base64,/gmi,"");let t=atob(e),r=t.length,n=new Uint8Array(r);for(let o=0;o<r;o++)n[o]=t.charCodeAt(o);return n.buffer}loadImageFromArrayBuffer(e,t,r){return Ee(this,null,function*(){let n=yield new Promise((o,a)=>Ee(this,null,function*(){try{let s=new Blob([e],r?{type:r}:void 0),l=URL.createObjectURL(s),d=new Image,p=r==="image/svg+xml"?yield this.getSvgImageSize(s):void 0;d.onload=()=>o({originalImage:d,originalImageSize:p,originalObjectUrl:l,originalArrayBuffer:e}),d.onerror=a,d.src=l}catch(s){a(s)}}));return yield this.transformImageFromArrayBuffer(n,t,n.originalImageSize!=null)})}getSvgImageSize(e){return Ee(this,null,function*(){let n=new DOMParser().parseFromString(yield e.text(),"image/svg+xml").querySelector("svg");if(!n)throw Error("Failed to parse SVG image");let o=n.getAttribute("width"),a=n.getAttribute("height");if(o&&a)return null;let s=n.getAttribute("viewBox")||n.getAttribute("viewbox");if(s){let l=s.split(" ");return{width:+l[2],height:+l[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})}transformImageFromArrayBuffer(e,t,r=!1){return Ee(this,null,function*(){let n=yield this.autoRotateSupported,o=n4(n?-1:e.originalArrayBuffer);if(!e.originalImage||!e.originalImage.complete)return Promise.reject(new Error("No image loaded"));let a={original:{objectUrl:e.originalObjectUrl,image:e.originalImage,size:e.originalImageSize??{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:o};return this.transformLoadedImage(a,t,r)})}transformLoadedImage(e,t,r=!1){return Ee(this,null,function*(){let n=t.options.canvasRotation+e.exifTransform.rotate,o=e.original.size;if(!r&&n===0&&!e.exifTransform.flip&&!t.options.containWithinAspectRatio)return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:J({},o)},transformed:{objectUrl:e.original.objectUrl,image:e.original.image,size:J({},o)},exifTransform:e.exifTransform};let a=this.getTransformedSize(o,e.exifTransform,t),s=document.createElement("canvas");s.width=a.width,s.height=a.height;let l=s.getContext("2d");l?.setTransform(e.exifTransform.flip?-1:1,0,0,1,s.width/2,s.height/2),l?.rotate(Math.PI*(n/2)),l?.drawImage(e.original.image,-o.width/2,-o.height/2);let d=yield new Promise(g=>s.toBlob(g,t.options.format));if(!d)throw new Error("Failed to get Blob for transformed image.");let h=URL.createObjectURL(d),p=yield this.loadImageFromObjectUrl(h);return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:J({},o)},transformed:{objectUrl:h,image:p,size:{width:p.width,height:p.height}},exifTransform:e.exifTransform}})}loadImageFromObjectUrl(e){return new Promise((t,r)=>{let n=new Image;n.onload=()=>t(n),n.onerror=r,n.src=e})}getTransformedSize(e,t,r){let n=r.options.canvasRotation+t.rotate;if(r.options.containWithinAspectRatio)if(n%2){let o=e.width*r.options.aspectRatio,a=e.height/r.options.aspectRatio;return{width:Math.max(e.height,o),height:Math.max(e.width,a)}}else{let o=e.height*r.options.aspectRatio,a=e.width/r.options.aspectRatio;return{width:Math.max(e.width,o),height:Math.max(e.height,a)}}return n%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}};function a4(i){switch(i){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}function s4(i){switch(i){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}function l4(i,e){switch(i){case"ArrowUp":return{clientX:0,clientY:e*-1};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:e*-1,clientY:0}}}var qx=(()=>{class i{get alignImageStyle(){return this.state.options.alignImage}constructor(t,r,n){this.sanitizer=t,this.cd=r,this.zone=n,this.pinchStart$=new bt,this.cropService=new Ng,this.loadImageService=new Fg,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.moveTypes=Mi,this.state=new Pg,this.safeImgDataUrl=jo(void 0),this.marginLeft="0px",this.imageVisible=!1,this.allowMoveImage=!1,this.checkImageType=!0,this.disabled=!1,this.hidden=!1,this.imageCropped=new We,this.startCropImage=new We,this.imageLoaded=new We,this.cropperReady=new We,this.loadImageFailed=new We,this.transformChange=new We,this.cropperChange=new We,this.reset()}ngOnInit(){this.state.stepSize=this.initialStepSize||this.state.stepSize}ngOnChanges(t){let r=this.state.cropper,n=this.state.transform,o=this.state.options.backgroundColor;if(this.state.setOptionsFromChanges(t),this.onChangesInputImage(t),t.transform&&this.transform&&(this.state.transform=this.transform,this.setCssTransform()),!this.state.loadedImage?.transformed.image.complete||!this.state.maxSize)return;if(this.containWithinAspectRatio&&t.aspectRatio||t.containWithinAspectRatio||t.canvasRotation){this.loadImageService.transformLoadedImage(this.state.loadedImage,this.state).then(s=>this.setLoadedImage(s)).catch(s=>this.loadImageError(s));return}t.cropper&&this.cropper&&(this.state.cropper=Qd(this.cropper,this.state,!0));let a=!this.state.equalsCropperPosition(r);a&&(!this.cropper||!this.state.equalsCropperPosition(this.cropper))&&this.cropperChange.emit(this.state.cropper),(a||!this.state.equalsTransform(n)||this.state.options.backgroundColor!==o)&&this.doAutoCrop(),t.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){let t=this.imageChangedEvent?.target?.files;return t instanceof FileList&&t.length>0}reset(){this.safeImgDataUrl.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="),this.state.loadedImage=void 0,this.state.maxSize=void 0,this.imageVisible=!1}loadImageFile(t){this.loadImageService.loadImageFile(t,this.state).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.state).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.state).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r))}setLoadedImage(t){this.state.loadedImage=t,this.safeImgDataUrl.set(this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.objectUrl))}loadImageError(t){console.error(t),this.loadImageFailed.emit()}setCssTransform(){let t=this.state.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.state.transform.translateH||0}${t}, ${this.state.transform.translateV||0}${t}) scaleX(`+(this.state.transform.scale||1)*(this.state.transform.flipH?-1:1)+") scaleY("+(this.state.transform.scale||1)*(this.state.transform.flipV?-1:1)+") rotate("+(this.state.transform.rotate||0)+"deg)")}imageLoadedInView(){this.state.loadedImage!=null&&(this.imageLoaded.emit(this.state.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.cropper&&(!this.maintainAspectRatio||this.state.aspectRatioIsCorrect())?(this.state.cropper=Qd(this.cropper,this.state,!0),this.emitCropperPositionChange(this.cropper)):(this.state.cropper=Qd(this.state.maxSizeCropperPosition(),this.state,!0),this.cropperChange.emit(this.state.cropper)),this.imageVisible=!0,this.cropperReady.emit(J({},this.state.maxSize)),this.doAutoCrop(),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>1}onResize(){if(this.state.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{let t=J({},this.state.maxSize);this.setMaxSize(),this.state.resizeCropperPosition(t),this.cd.markForCheck()}}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){let r=+t.key;r>=1&&r<=9&&(this.state.stepSize=r)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;let n=t.shiftKey?Mi.Resize:Mi.Move,o=t.altKey?s4(t.key):a4(t.key),a=l4(t.key,this.state.stepSize);t.preventDefault(),t.stopPropagation(),this.moveStart={active:!0,type:n,position:o,clientX:0,clientY:0,transform:this.state.transform,cropper:this.state.cropper},this.handleMouseMove(a),this.handleMouseUp()}startMove(t,r,n=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===Mi.Pinch||r===Mi.Drag&&!this.allowMoveImage||("preventDefault"in t&&t.preventDefault(),this.moveStart={active:!0,type:r,position:n,clientX:ef(t),clientY:tf(t),transform:this.state.transform,cropper:this.state.cropper},this.initMouseMove())}initMouseMove(){tl(Dn(document,"mousemove"),Dn(document,"touchmove")).pipe(Lr(tl(Dn(document,"mouseup"),Dn(document,"touchend"),this.pinchStart$).pipe(fn()))).subscribe({next:t=>this.zone.run(()=>{this.handleMouseMove(t),this.cd.markForCheck()}),complete:()=>this.zone.run(()=>{this.handleMouseUp(),this.cd.markForCheck()})})}handleMouseMove(t){if(this.moveStart?.active){if("stopPropagation"in t&&t.stopPropagation(),"preventDefault"in t&&t.preventDefault(),this.moveStart.type===Mi.Move)this.state.cropper=Jd(JP(t,this.moveStart),this.state,!0);else if(this.moveStart.type===Mi.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&(this.state.cropper=Jd(Xx(t,this.moveStart,this.state),this.state,!1));else if(this.moveStart.type===Mi.Drag){let r=ef(t)-this.moveStart.clientX,n=tf(t)-this.moveStart.clientY;this.state.transform=gt(J({},this.state.transform),{translateH:(this.moveStart.transform?.translateH||0)+r,translateV:(this.moveStart.transform?.translateV||0)+n}),this.setCssTransform()}}}handleMouseUp(){!this.moveStart?.active||this.moveStart?.type===Mi.Pinch||((!this.state.equalsCropperPosition(this.moveStart.cropper)||this.moveStart.transform&&!this.state.equalsTransform(this.moveStart.transform))&&(this.moveStart.type===Mi.Drag?this.transformChange.emit(this.state.transform):this.cropperChange.emit(this.state.cropper),this.doAutoCrop()),this.moveStart=void 0)}startPinch(t){this.disabled||!this.sourceImageLoaded()||t.touches.length<2||("preventDefault"in t&&t.preventDefault(),this.moveStart={active:!0,type:Mi.Pinch,position:"center",clientX:this.state.cropper.x1+(this.state.cropper.x2-this.state.cropper.x1)/2,clientY:this.state.cropper.y1+(this.state.cropper.y2-this.state.cropper.y1)/2,cropper:this.state.cropper},this.initPinch())}initPinch(){this.pinchStart$.next(),Dn(document,"touchmove").pipe(Lr(Dn(document,"touchend"))).subscribe({next:t=>this.zone.run(()=>{this.handlePinchMove(t),this.cd.markForCheck()}),complete:()=>this.zone.run(()=>{this.handlePinchStop(),this.cd.markForCheck()})})}handlePinchMove(t){this.moveStart?.active&&(t.preventDefault&&t.preventDefault(),this.moveStart.type===Mi.Pinch&&!this.cropperStaticWidth&&!this.cropperStaticHeight&&(this.state.cropper=Jd(Xx(t,this.moveStart,this.state),this.state,!1)),this.cd.markForCheck())}handlePinchStop(){this.moveStart?.active&&(this.state.equalsCropperPosition(this.moveStart.cropper)||(this.emitCropperPositionChange(this.moveStart.cropper),this.doAutoCrop()),this.moveStart=void 0)}setMaxSize(){if(this.sourceImage){let t=getComputedStyle(this.sourceImage.nativeElement);this.state.setMaxSize(parseFloat(t.width),parseFloat(t.height)),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.state.maxSize.width/2+"px)")}}emitCropperPositionChange(t){this.state.equalsCropperPosition(t)||this.cropperChange.emit(this.state.cropper)}doAutoCrop(){this.state.options.autoCrop&&this.crop()}crop(t=this.state.options.output){if(this.state.loadedImage?.transformed?.image!=null){if(this.startCropImage.emit(),t==="blob")return this.cropToBlob();if(t==="base64")return this.cropToBase64()}return null}cropToBlob(){return new Promise((t,r)=>this.zone.run(()=>Ee(this,null,function*(){let n=yield this.cropService.crop(this.state,"blob");n?(this.imageCropped.emit(n),t(n)):r("Crop image failed")})))}cropToBase64(){let t=this.cropService.crop(this.state,"base64");return t?(this.imageCropped.emit(t),t):null}ngOnDestroy(){this.pinchStart$.complete()}static{this.\u0275fac=function(r){return new(r||i)(_e(vl),_e(Yr),_e(vt))}}static{this.\u0275cmp=nr({type:i,selectors:[["image-cropper"]],viewQuery:function(r,n){if(r&1&&(_i(YP,7),_i(qP,5)),r&2){let o;gr(o=vr())&&(n.wrapper=o.first),gr(o=vr())&&(n.sourceImage=o.first)}},hostVars:6,hostBindings:function(r,n){r&1&&ft("resize",function(){return n.onResize()},!1,Hv),r&2&&(pn("text-align",n.alignImageStyle),Jt("disabled",n.disabled)("ngx-ic-hidden",n.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",options:"options",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",autoCrop:"autoCrop",cropper:"cropper",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",checkImageType:"checkImageType",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange",cropperChange:"cropperChange"},standalone:!0,features:[ni,fr],decls:4,vars:10,consts:[["sourceImage",""],[3,"touchstart"],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"load","mousedown","touchstart","error","src"],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(r,n){r&1&&(he(0,"div",1),ft("touchstart",function(a){return n.startPinch(a)}),Qt(1,$P,2,8,"img",2),yt(2,"div",3),Qt(3,KP,3,16,"div",4),ye()),r&2&&(pn("background",n.imageVisible&&n.state.options.backgroundColor),Oe(),nt("ngIf",n.safeImgDataUrl()),Oe(),pn("width",(n.state.maxSize==null?null:n.state.maxSize.width)||0,"px")("height",(n.state.maxSize==null?null:n.state.maxSize.height)||0,"px")("margin-left",n.alignImage==="center"?n.marginLeft:null),Oe(),nt("ngIf",n.imageVisible))},dependencies:[fu],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:var(--cropper-move-border, 1px solid rgba(255, 255, 255, .5))}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ic-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0})}}return i})();var u4=["stepper"],d4=["backPond"];function f4(i,e){i&1&&xt(0,"Upload Front of License")}function h4(i,e){if(i&1&&(he(0,"div",15),yt(1,"img",16),ye()),i&2){let t=Ne();Oe(),nt("src",t.frontImagePreview,ja)}}function p4(i,e){i&1&&xt(0,"Upload Back of License")}function m4(i,e){if(i&1&&(he(0,"div",15)(1,"p"),xt(2,"Back Image Preview:"),ye(),yt(3,"img",17),ye()),i&2){let t=Ne();Oe(3),nt("src",t.backImagePreview,ja)}}function g4(i,e){i&1&&(he(0,"div",18),yt(1,"mat-progress-bar",19),he(2,"p"),xt(3,"Processing..."),ye()())}function v4(i,e){if(i&1&&(he(0,"div")(1,"p",20),xt(2),ye()()),i&2){let t=Ne();Oe(2),yi(t.errorMessage)}}function _4(i,e){if(i&1){let t=Jr();he(0,"div",15)(1,"button",21),ft("click",function(){rt(t);let n=Ne();return it(n.startCropping())}),xt(2," Start Cropping "),ye()()}}function y4(i,e){if(i&1&&(he(0,"div",15)(1,"p"),xt(2,"Cropped Image Preview:"),ye(),yt(3,"img",26),ye()),i&2){let t=Ne(2);Oe(3),nt("src",t.croppedBackImage,ja)}}function b4(i,e){if(i&1){let t=Jr();he(0,"div",15)(1,"p"),xt(2,"Please select the barcode area to improve scanning."),ye(),he(3,"image-cropper",22),ft("imageCropped",function(n){rt(t);let o=Ne();return it(o.onBackImageCropped(n))}),ye(),Qt(4,y4,4,1,"div",6),he(5,"div",23)(6,"button",24),ft("click",function(){rt(t);let n=Ne();return it(n.applyCroppedImage())}),xt(7," Apply Cropped Image "),ye(),he(8,"button",25),ft("click",function(){rt(t);let n=Ne();return it(n.cancelCropping())}),xt(9," Cancel Cropping "),ye()()()}if(i&2){let t=Ne();Oe(3),nt("imageBase64",t.backImagePreview)("maintainAspectRatio",!1)("imageQuality",1),Oe(),nt("ngIf",t.croppedBackImage)}}function x4(i,e){i&1&&xt(0,"Review License Data")}function E4(i,e){i&1&&(he(0,"div",18),yt(1,"mat-progress-bar",19),he(2,"p"),xt(3,"Processing..."),ye()())}function w4(i,e){if(i&1){let t=Jr();he(0,"div")(1,"h3"),xt(2,"Extracted License Data"),ye(),he(3,"pre"),xt(4),ph(5,"json"),ye(),he(6,"div",27)(7,"button",28),ft("click",function(){rt(t);let n=Ne();return it(n.copyToClipboard())}),xt(8," Copy JSON "),ye(),he(9,"button",21),ft("click",function(){rt(t);let n=Ne();return it(n.downloadJSON())}),xt(10," Download JSON "),ye()()()}if(i&2){let t=Ne();Oe(4),yi(mh(5,1,t.licenseData))}}function C4(i,e){if(i&1){let t=Jr();he(0,"div")(1,"p",20),xt(2),ye(),he(3,"div",15)(4,"button",29),ft("click",function(){rt(t);let n=Ne();return it(n.retry())}),xt(5," Retry "),ye()()()}if(i&2){let t=Ne();Oe(2),yi(t.errorMessage)}}(0,Um.registerPlugin)($x.default,Zx.default);var rf=class i{constructor(e,t){this.fb=e;this.breakpointObserver=t;this.frontForm=this.fb.group({frontImage:[null,ql.required]}),this.backForm=this.fb.group({backImage:[null,ql.required]}),this.stepperOrientation=this.breakpointObserver.observe([py.HandsetPortrait]).pipe(qe(({matches:r})=>r?"vertical":"horizontal"))}frontForm;backForm;frontImage=null;backImage=void 0;frontImagePreview=void 0;backImagePreview=void 0;originalBackImagePreview=void 0;licenseData=null;isProcessing=!1;errorMessage=null;stepper;backPondComponent;backFiles=[];frontFiles=[];upscaleAttempt=0;maxUpscaleAttempts=3;isBackImageProcessing=!1;upscaleWidth=1920;upscaleHeight=1920;showCropButton=!1;isCropping=!1;croppedBackImage="";croppedBackImageBlob=null;frontPondOptions={allowImageCrop:!1,acceptedFileTypes:["image/jpeg","image/png"],maxFileSize:"100MB",allowMultiple:!1,labelIdle:'Drag & Drop your front license or <span class="filepond--label-action">Browse</span>'};backPondOptions={allowImageCrop:!1,acceptedFileTypes:["image/jpeg","image/png"],maxFileSize:"100MB",allowMultiple:!1,labelIdle:'Drag & Drop your back license or <span class="filepond--label-action">Browse</span>'};stepperOrientation;ngOnInit(){}onFrontImageAdded(e){let t=e.file.file;if(this.validateImage(t)){this.frontImage=t,this.frontForm.patchValue({frontImage:t}),this.frontFiles=[t];let r=new FileReader;r.onload=()=>{this.frontImagePreview=r.result},r.readAsDataURL(t)}else alert("Invalid front image. Please upload a valid JPEG or PNG image under 100MB."),e.file.rejectFile()}onBackImageAdded(e){let t=e.file.file;if(this.validateImage(t)){this.backImage=t,this.backForm.patchValue({backImage:t}),this.backFiles=[t];let r=new FileReader;r.onload=()=>{this.backImagePreview=r.result,this.originalBackImagePreview=this.backImagePreview,this.isBackImageProcessing=!1,this.errorMessage=null,this.upscaleAttempt=0},r.readAsDataURL(t)}else alert("Invalid back image. Please upload a valid JPEG or PNG image under 100MB."),e.file.rejectFile()}processBackImage(){return Ee(this,null,function*(){if(!this.backImagePreview){alert("Please upload the back image first.");return}this.isProcessing=!0,this.isBackImageProcessing=!0,this.errorMessage=null,this.showCropButton=!1;try{let e=yield this.extractBarcodeData(this.backImagePreview);this.licenseData=this.parseBarcodeData(e),this.isProcessing=!1,this.isBackImageProcessing=!1,console.log("License Data:",this.licenseData),this.stepper.selectedIndex=2}catch{console.warn("Initial barcode extraction failed. Attempting upscaling...");try{yield this.upscaleBackImage();let t=yield this.extractBarcodeData(this.backImagePreview);this.licenseData=this.parseBarcodeData(t),this.isProcessing=!1,this.isBackImageProcessing=!1,console.log("License Data after upscaling:",this.licenseData),this.stepper.selectedIndex=2}catch(t){console.error("Barcode extraction failed after upscaling:",t),this.isProcessing=!1,this.isBackImageProcessing=!1,this.showCropButton=!0,this.errorMessage="Failed to extract data from the barcode. You can try cropping the barcode area."}}})}upscaleBackImage(){return Ee(this,null,function*(){if(!this.originalBackImagePreview)return;this.upscaleWidth=3e3,this.upscaleHeight=3e3;let e=yield this.upscaleImage(this.originalBackImagePreview,this.upscaleWidth,this.upscaleHeight);this.backImage=this.base64ToFile(e,"upscaled-back-image.png"),this.backImagePreview=e,this.backFiles=[this.backImage]})}onFrontImageRemoved(e){this.frontImage=null,this.frontImagePreview=void 0,this.frontFiles=[],this.frontForm.patchValue({frontImage:null})}onBackImageRemoved(e){this.backImage=void 0,this.backImagePreview=void 0,this.originalBackImagePreview=void 0,this.backFiles=[],this.backForm.patchValue({backImage:null}),this.upscaleAttempt=0,this.isBackImageProcessing=!1,this.errorMessage=null,this.showCropButton=!1,this.upscaleWidth=1920,this.upscaleHeight=1920}onBackImageNext(){this.processBackImage()}startCropping(){this.isCropping=!0,this.errorMessage=null,this.showCropButton=!1}onBackImageCropped(e){this.croppedBackImageBlob=e.blob??null;let t=new FileReader;t.onload=()=>{this.croppedBackImage=t.result},e.blob&&t.readAsDataURL(e.blob)}applyCroppedImage(){return Ee(this,null,function*(){if(this.croppedBackImageBlob){let e="cropped-back-image.png",t=new File([this.croppedBackImageBlob],e,{type:"image/png"});this.backImage=t,this.backImagePreview=this.croppedBackImage,this.backFiles=[t],this.isCropping=!1,yield this.processBackImage()}else alert("No cropped image available.")})}cancelCropping(){this.isCropping=!1,this.croppedBackImage="",this.croppedBackImageBlob=null,this.showCropButton=!0}upscaleImage(e,t,r){return Ee(this,null,function*(){return new Promise((n,o)=>Ee(this,null,function*(){let a=new Image;a.src=e,a.crossOrigin="Anonymous",a.onload=()=>Ee(this,null,function*(){let s=yield A4(e),l=document.createElement("canvas"),d=l.getContext("2d");if(!d){o("Cannot get canvas context");return}switch(s>4?(l.width=r,l.height=t):(l.width=t,l.height=r),s){case 2:d.translate(l.width,0),d.scale(-1,1);break;case 3:d.translate(l.width,l.height),d.rotate(Math.PI);break;case 4:d.translate(0,l.height),d.scale(1,-1);break;case 5:d.rotate(.5*Math.PI),d.scale(1,-1);break;case 6:d.translate(l.width,0),d.rotate(.5*Math.PI);break;case 7:d.translate(l.width,0),d.rotate(.5*Math.PI),d.scale(-1,1);break;case 8:d.translate(0,l.height),d.rotate(-.5*Math.PI);break;default:break}d.drawImage(a,0,0,l.width,l.height);let h=l.toDataURL("image/png",.9);n(h)}),a.onerror=s=>o(s)}))})}validateImage(e){return!(!["image/jpeg","image/png"].includes(e.type)||e.size>104857600)}extractBarcodeData(e){return Ee(this,null,function*(){let t=this.base64ToFile(e,"back-image.png"),r=new Map;r.set(dt.POSSIBLE_FORMATS,[le.PDF_417]);let n=new Ex(r);try{return(yield n.decodeFromImageUrl(I4(t))).getText()}catch(o){throw console.log(o,"extractBarcodeData"),new Error("Barcode decoding failed.")}})}base64ToFile(e,t){let r=e.split(","),n=r[0].match(/:(.*?);/)[1],o=atob(r[1]),a=o.length,s=new Uint8Array(a);for(;a--;)s[a]=o.charCodeAt(a);return new File([s],t,{type:n})}parseBarcodeData(e){let t={},r=e.split(/\r?\n/),n={DAA:"FullName",DCS:"CustomerFamilyName",DAC:"CustomerFirstName",DAD:"MiddleName",DBA:"LicenseExpirationDate",DBB:"DateOfBirth",DBC:"Sex",DBD:"IssueDate",DBE:"Address",DBF:"City",DBG:"State",DBH:"PostalCode",DAJ:"LicenseNumber",DCB:"CustomerSuffix",DCD:"VehicleClass",DCAC:"LicenseType",DDEN:"DenominationCode",DDF:"AlternateFirstName",DADR:"ResidenceStreetAddress",DDGN:"ResidenceStreetAddress2",DAY:"Suffix",DAU:"Height",DAG:"ResidenceCity",DAK:"AuditInformation",DAQ:"DriverLicenseNumber",DCF:"DocumentFilingNumber",DCG:"Country",DAZ:"EyeColor",DCK:"CheckDigit",DCL:"HairColor",DDA:"DocumentDiscriminator",DDB:"DocumentVersion",DAW:"Weight",DDK:"DocumentSecondaryID",ZTZT:"Composite"};for(let o of r){if(!o.trim()||!/^[A-Z]{3}/.test(o))continue;let a=o.substring(0,3),s=o.substring(3).trim();n[a]?["DBA","DBB","DBD"].includes(a)?t[n[a]]=this.formatDate(s):t[n[a]]=s:console.warn(`Unmapped key encountered: ${a} with value: ${s}`)}return t}formatDate(e){if(e.length===6){let t=parseInt(e.substring(0,2),10)+2e3,r=e.substring(2,4),n=e.substring(4,6);return`${t}-${r}-${n}`}return e}copyToClipboard(){let e=JSON.stringify(this.licenseData,null,2);navigator.clipboard.writeText(e).then(()=>{alert("JSON data copied to clipboard.")},()=>{alert("Failed to copy data.")})}downloadJSON(){let e=JSON.stringify(this.licenseData,null,2),t=new Blob([e],{type:"application/json"}),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="license-data.json",n.click(),window.URL.revokeObjectURL(r)}retry(){this.stepper.selectedIndex=1,this.errorMessage=null,this.isProcessing=!1,this.upscaleAttempt=0,this.isBackImageProcessing=!1,this.isCropping=!1,this.showCropButton=!1,this.upscaleWidth=1920,this.upscaleHeight=1920}static \u0275fac=function(t){return new(t||i)(_e(ay),_e(ud))};static \u0275cmp=nr({type:i,selectors:[["app-stepper"]],viewQuery:function(t,r){if(t&1&&(_i(u4,5),_i(d4,5)),t&2){let n;gr(n=vr())&&(r.stepper=n.first),gr(n=vr())&&(r.backPondComponent=n.first)}},standalone:!0,features:[fr],decls:34,vars:23,consts:[["stepper",""],[3,"linear","orientation"],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["name","frontImage","aria-label","Upload front image of your driver's license",2,"padding-top","25px",3,"onaddfile","onremovefile","files","options"],["style","margin-top: 20px",4,"ngIf"],[1,"navigation-buttons"],["mat-raised-button","","color","primary","matStepperNext","",3,"disabled"],["name","backImage","aria-label","Upload back image of your driver's license",2,"padding-top","25px",3,"onaddfile","onremovefile","files","options"],["style","margin-bottom: 20px",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","color","warn","matStepperPrevious","",2,"margin-right","10px"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","warn","matStepperPrevious",""],[2,"margin-top","20px"],["alt","Front Image Preview",1,"responsive-image",3,"src"],["alt","Back Image Preview",1,"responsive-image",3,"src"],[2,"margin-bottom","20px"],["mode","indeterminate"],[2,"color","red"],["mat-raised-button","","color","primary",3,"click"],["format","png",3,"imageCropped","imageBase64","maintainAspectRatio","imageQuality"],[1,"process-buttons"],["mat-raised-button","","color","primary","type","button",2,"margin-right","10px",3,"click"],["mat-raised-button","","color","warn","type","button",3,"click"],["alt","Cropped Back Image",1,"responsive-image",3,"src"],[1,"button-group"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,r){if(t&1){let n=Jr();he(0,"div")(1,"mat-stepper",1,0),ph(3,"async"),he(4,"mat-step",2)(5,"form",3),Qt(6,f4,1,0,"ng-template",4),he(7,"file-pond",5),ft("onaddfile",function(a){return rt(n),it(r.onFrontImageAdded(a))})("onremovefile",function(a){return rt(n),it(r.onFrontImageRemoved(a))}),ye(),Qt(8,h4,2,1,"div",6),he(9,"div",7)(10,"button",8),xt(11," Next "),ye()()()(),he(12,"mat-step",2)(13,"form",3),Qt(14,p4,1,0,"ng-template",4),he(15,"file-pond",9),ft("onaddfile",function(a){return rt(n),it(r.onBackImageAdded(a))})("onremovefile",function(a){return rt(n),it(r.onBackImageRemoved(a))}),ye(),Qt(16,m4,4,1,"div",6)(17,g4,4,0,"div",10)(18,v4,3,1,"div",11)(19,_4,3,0,"div",6)(20,b4,10,4,"div",6),he(21,"div",7)(22,"button",12),xt(23," Back "),ye(),he(24,"button",13),ft("click",function(){return rt(n),it(r.onBackImageNext())}),xt(25," Next "),ye()()()(),he(26,"mat-step"),Qt(27,x4,1,0,"ng-template",4)(28,E4,4,0,"div",10)(29,w4,11,3,"div",11)(30,C4,6,1,"div",11),he(31,"div",7)(32,"button",14),xt(33,"Back"),ye()()()()()}t&2&&(Oe(),nt("linear",!0)("orientation",mh(3,21,r.stepperOrientation)||"horizontal"),Oe(3),nt("stepControl",r.frontForm),Oe(),nt("formGroup",r.frontForm),Oe(2),nt("files",r.frontFiles)("options",r.frontPondOptions),Oe(),nt("ngIf",r.frontImagePreview),Oe(2),nt("disabled",!r.frontForm.valid),Oe(2),nt("stepControl",r.backForm),Oe(),nt("formGroup",r.backForm),Oe(2),nt("files",r.backFiles)("options",r.backPondOptions),Oe(),nt("ngIf",r.backImagePreview),Oe(),nt("ngIf",r.isProcessing),Oe(),nt("ngIf",!r.isProcessing&&r.errorMessage),Oe(),nt("ngIf",r.showCropButton&&!r.isCropping),Oe(),nt("ngIf",r.isCropping),Oe(4),nt("disabled",!r.backForm.valid||r.isProcessing||r.isCropping),Oe(4),nt("ngIf",r.isProcessing),Oe(),nt("ngIf",!r.isProcessing&&r.licenseData),Oe(),nt("ngIf",!r.isProcessing&&!r.licenseData&&r.errorMessage))},dependencies:[tn,fu,o1,a1,$y,Sm,tc,bd,Yy,qy,Ky,Zy,rb,pb,eb,Jy,_b,vb,sy,oy,ey,nm,qx],styles:["mat-form-field[_ngcontent-%COMP%]{margin-top:20px}button[_ngcontent-%COMP%]{margin-top:20px;margin-right:10px}img[_ngcontent-%COMP%]{margin-top:20px;border:1px solid #ccc;padding:5px}"]})};function I4(i){if(!i.type.startsWith("image/"))throw new Error("File is not an image");return URL.createObjectURL(i)}function A4(i){return Ee(this,null,function*(){let e=i.split(",")[1],t=atob(e),r=new Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);let n=new Uint8Array(r),o=new Blob([n],{type:"image/jpeg"});return(yield ss(o,["Orientation"]))?.Orientation||1})}var nf=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=nr({type:i,selectors:[["app-root"]],standalone:!0,features:[fr],decls:4,vars:0,consts:[[1,"container"]],template:function(t,r){t&1&&(he(0,"div",0)(1,"h1"),xt(2,"Driver's License Scanner"),ye(),yt(3,"app-stepper"),ye())},dependencies:[rf],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px;color:#3f51b5}div[_ngcontent-%COMP%]{max-width:800px;margin:auto;background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a}pre[_ngcontent-%COMP%]{background-color:#e0e0e0;padding:15px;border-radius:5px;overflow-x:auto}"]})};E1(nf,c_).catch(i=>console.error(i));
